var gT=Object.defineProperty;var yT=(n,e,t)=>e in n?gT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Gn=(n,e,t)=>yT(n,typeof e!="symbol"?e+"":e,t);function vT(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var jU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var r0={exports:{}},bf={},i0={exports:{}},dn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function _T(){if(Hv)return dn;Hv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),y=Symbol.iterator;function _(Q){return Q===null||typeof Q!="object"?null:(Q=y&&Q[y]||Q["@@iterator"],typeof Q=="function"?Q:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,I={};function P(Q,D,X){this.props=Q,this.context=D,this.refs=I,this.updater=X||w}P.prototype.isReactComponent={},P.prototype.setState=function(Q,D){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,D,"setState")},P.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function F(){}F.prototype=P.prototype;function Y(Q,D,X){this.props=Q,this.context=D,this.refs=I,this.updater=X||w}var H=Y.prototype=new F;H.constructor=Y,T(H,P.prototype),H.isPureReactComponent=!0;var $=Array.isArray,ae=Object.prototype.hasOwnProperty,ge={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function R(Q,D,X){var ne,ue={},fe=null,ve=null;if(D!=null)for(ne in D.ref!==void 0&&(ve=D.ref),D.key!==void 0&&(fe=""+D.key),D)ae.call(D,ne)&&!W.hasOwnProperty(ne)&&(ue[ne]=D[ne]);var Ne=arguments.length-2;if(Ne===1)ue.children=X;else if(1<Ne){for(var Te=Array(Ne),je=0;je<Ne;je++)Te[je]=arguments[je+2];ue.children=Te}if(Q&&Q.defaultProps)for(ne in Ne=Q.defaultProps,Ne)ue[ne]===void 0&&(ue[ne]=Ne[ne]);return{$$typeof:n,type:Q,key:fe,ref:ve,props:ue,_owner:ge.current}}function L(Q,D){return{$$typeof:n,type:Q.type,key:D,ref:Q.ref,props:Q.props,_owner:Q._owner}}function q(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n}function C(Q){var D={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(X){return D[X]})}var j=/\/+/g;function M(Q,D){return typeof Q=="object"&&Q!==null&&Q.key!=null?C(""+Q.key):D.toString(36)}function se(Q,D,X,ne,ue){var fe=typeof Q;(fe==="undefined"||fe==="boolean")&&(Q=null);var ve=!1;if(Q===null)ve=!0;else switch(fe){case"string":case"number":ve=!0;break;case"object":switch(Q.$$typeof){case n:case e:ve=!0}}if(ve)return ve=Q,ue=ue(ve),Q=ne===""?"."+M(ve,0):ne,$(ue)?(X="",Q!=null&&(X=Q.replace(j,"$&/")+"/"),se(ue,D,X,"",function(je){return je})):ue!=null&&(q(ue)&&(ue=L(ue,X+(!ue.key||ve&&ve.key===ue.key?"":(""+ue.key).replace(j,"$&/")+"/")+Q)),D.push(ue)),1;if(ve=0,ne=ne===""?".":ne+":",$(Q))for(var Ne=0;Ne<Q.length;Ne++){fe=Q[Ne];var Te=ne+M(fe,Ne);ve+=se(fe,D,X,Te,ue)}else if(Te=_(Q),typeof Te=="function")for(Q=Te.call(Q),Ne=0;!(fe=Q.next()).done;)fe=fe.value,Te=ne+M(fe,Ne++),ve+=se(fe,D,X,Te,ue);else if(fe==="object")throw D=String(Q),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ve}function Se(Q,D,X){if(Q==null)return Q;var ne=[],ue=0;return se(Q,ne,"","",function(fe){return D.call(X,fe,ue++)}),ne}function xe(Q){if(Q._status===-1){var D=Q._result;D=D(),D.then(function(X){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=X)},function(X){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=X)}),Q._status===-1&&(Q._status=0,Q._result=D)}if(Q._status===1)return Q._result.default;throw Q._result}var Ee={current:null},ee={transition:null},he={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:ee,ReactCurrentOwner:ge};function _e(){throw Error("act(...) is not supported in production builds of React.")}return dn.Children={map:Se,forEach:function(Q,D,X){Se(Q,function(){D.apply(this,arguments)},X)},count:function(Q){var D=0;return Se(Q,function(){D++}),D},toArray:function(Q){return Se(Q,function(D){return D})||[]},only:function(Q){if(!q(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},dn.Component=P,dn.Fragment=t,dn.Profiler=i,dn.PureComponent=Y,dn.StrictMode=r,dn.Suspense=c,dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,dn.act=_e,dn.cloneElement=function(Q,D,X){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var ne=T({},Q.props),ue=Q.key,fe=Q.ref,ve=Q._owner;if(D!=null){if(D.ref!==void 0&&(fe=D.ref,ve=ge.current),D.key!==void 0&&(ue=""+D.key),Q.type&&Q.type.defaultProps)var Ne=Q.type.defaultProps;for(Te in D)ae.call(D,Te)&&!W.hasOwnProperty(Te)&&(ne[Te]=D[Te]===void 0&&Ne!==void 0?Ne[Te]:D[Te])}var Te=arguments.length-2;if(Te===1)ne.children=X;else if(1<Te){Ne=Array(Te);for(var je=0;je<Te;je++)Ne[je]=arguments[je+2];ne.children=Ne}return{$$typeof:n,type:Q.type,key:ue,ref:fe,props:ne,_owner:ve}},dn.createContext=function(Q){return Q={$$typeof:a,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:s,_context:Q},Q.Consumer=Q},dn.createElement=R,dn.createFactory=function(Q){var D=R.bind(null,Q);return D.type=Q,D},dn.createRef=function(){return{current:null}},dn.forwardRef=function(Q){return{$$typeof:u,render:Q}},dn.isValidElement=q,dn.lazy=function(Q){return{$$typeof:d,_payload:{_status:-1,_result:Q},_init:xe}},dn.memo=function(Q,D){return{$$typeof:f,type:Q,compare:D===void 0?null:D}},dn.startTransition=function(Q){var D=ee.transition;ee.transition={};try{Q()}finally{ee.transition=D}},dn.unstable_act=_e,dn.useCallback=function(Q,D){return Ee.current.useCallback(Q,D)},dn.useContext=function(Q){return Ee.current.useContext(Q)},dn.useDebugValue=function(){},dn.useDeferredValue=function(Q){return Ee.current.useDeferredValue(Q)},dn.useEffect=function(Q,D){return Ee.current.useEffect(Q,D)},dn.useId=function(){return Ee.current.useId()},dn.useImperativeHandle=function(Q,D,X){return Ee.current.useImperativeHandle(Q,D,X)},dn.useInsertionEffect=function(Q,D){return Ee.current.useInsertionEffect(Q,D)},dn.useLayoutEffect=function(Q,D){return Ee.current.useLayoutEffect(Q,D)},dn.useMemo=function(Q,D){return Ee.current.useMemo(Q,D)},dn.useReducer=function(Q,D,X){return Ee.current.useReducer(Q,D,X)},dn.useRef=function(Q){return Ee.current.useRef(Q)},dn.useState=function(Q){return Ee.current.useState(Q)},dn.useSyncExternalStore=function(Q,D,X){return Ee.current.useSyncExternalStore(Q,D,X)},dn.useTransition=function(){return Ee.current.useTransition()},dn.version="18.3.1",dn}var $v;function ay(){return $v||($v=1,i0.exports=_T()),i0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function xT(){if(Wv)return bf;Wv=1;var n=ay(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,f){var d,y={},_=null,w=null;f!==void 0&&(_=""+f),c.key!==void 0&&(_=""+c.key),c.ref!==void 0&&(w=c.ref);for(d in c)r.call(c,d)&&!s.hasOwnProperty(d)&&(y[d]=c[d]);if(u&&u.defaultProps)for(d in c=u.defaultProps,c)y[d]===void 0&&(y[d]=c[d]);return{$$typeof:e,type:u,key:_,ref:w,props:y,_owner:i.current}}return bf.Fragment=t,bf.jsx=a,bf.jsxs=a,bf}var Gv;function bT(){return Gv||(Gv=1,r0.exports=xT()),r0.exports}var N=bT(),Re=ay();const ly=wT(Re),ST=vT({__proto__:null,default:ly},[Re]);var yp={},s0={exports:{}},Gs={},o0={exports:{}},a0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function AT(){return Kv||(Kv=1,(function(n){function e(ee,he){var _e=ee.length;ee.push(he);e:for(;0<_e;){var Q=_e-1>>>1,D=ee[Q];if(0<i(D,he))ee[Q]=he,ee[_e]=D,_e=Q;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var he=ee[0],_e=ee.pop();if(_e!==he){ee[0]=_e;e:for(var Q=0,D=ee.length,X=D>>>1;Q<X;){var ne=2*(Q+1)-1,ue=ee[ne],fe=ne+1,ve=ee[fe];if(0>i(ue,_e))fe<D&&0>i(ve,ue)?(ee[Q]=ve,ee[fe]=_e,Q=fe):(ee[Q]=ue,ee[ne]=_e,Q=ne);else if(fe<D&&0>i(ve,_e))ee[Q]=ve,ee[fe]=_e,Q=fe;else break e}}return he}function i(ee,he){var _e=ee.sortIndex-he.sortIndex;return _e!==0?_e:ee.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var c=[],f=[],d=1,y=null,_=3,w=!1,T=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(ee){for(var he=t(f);he!==null;){if(he.callback===null)r(f);else if(he.startTime<=ee)r(f),he.sortIndex=he.expirationTime,e(c,he);else break;he=t(f)}}function $(ee){if(I=!1,H(ee),!T)if(t(c)!==null)T=!0,xe(ae);else{var he=t(f);he!==null&&Ee($,he.startTime-ee)}}function ae(ee,he){T=!1,I&&(I=!1,F(R),R=-1),w=!0;var _e=_;try{for(H(he),y=t(c);y!==null&&(!(y.expirationTime>he)||ee&&!C());){var Q=y.callback;if(typeof Q=="function"){y.callback=null,_=y.priorityLevel;var D=Q(y.expirationTime<=he);he=n.unstable_now(),typeof D=="function"?y.callback=D:y===t(c)&&r(c),H(he)}else r(c);y=t(c)}if(y!==null)var X=!0;else{var ne=t(f);ne!==null&&Ee($,ne.startTime-he),X=!1}return X}finally{y=null,_=_e,w=!1}}var ge=!1,W=null,R=-1,L=5,q=-1;function C(){return!(n.unstable_now()-q<L)}function j(){if(W!==null){var ee=n.unstable_now();q=ee;var he=!0;try{he=W(!0,ee)}finally{he?M():(ge=!1,W=null)}}else ge=!1}var M;if(typeof Y=="function")M=function(){Y(j)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Se=se.port2;se.port1.onmessage=j,M=function(){Se.postMessage(null)}}else M=function(){P(j,0)};function xe(ee){W=ee,ge||(ge=!0,M())}function Ee(ee,he){R=P(function(){ee(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){T||w||(T=!0,xe(ae))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(ee){switch(_){case 1:case 2:case 3:var he=3;break;default:he=_}var _e=_;_=he;try{return ee()}finally{_=_e}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,he){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var _e=_;_=ee;try{return he()}finally{_=_e}},n.unstable_scheduleCallback=function(ee,he,_e){var Q=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Q+_e:Q):_e=Q,ee){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=_e+D,ee={id:d++,callback:he,priorityLevel:ee,startTime:_e,expirationTime:D,sortIndex:-1},_e>Q?(ee.sortIndex=_e,e(f,ee),t(c)===null&&ee===t(f)&&(I?(F(R),R=-1):I=!0,Ee($,_e-Q))):(ee.sortIndex=D,e(c,ee),T||w||(T=!0,xe(ae))),ee},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(ee){var he=_;return function(){var _e=_;_=he;try{return ee.apply(this,arguments)}finally{_=_e}}}})(a0)),a0}var Yv;function ET(){return Yv||(Yv=1,o0.exports=AT()),o0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function TT(){if(Qv)return Gs;Qv=1;var n=ay(),e=ET();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},y={};function _(o){return c.call(y,o)?!0:c.call(d,o)?!1:f.test(o)?y[o]=!0:(d[o]=!0,!1)}function w(o,l,h,g){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function T(o,l,h,g){if(l===null||typeof l>"u"||w(o,l,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function I(o,l,h,g,b,E,B){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=E,this.removeEmptyString=B}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){P[o]=new I(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];P[l]=new I(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){P[o]=new I(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){P[o]=new I(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){P[o]=new I(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){P[o]=new I(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){P[o]=new I(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){P[o]=new I(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){P[o]=new I(o,5,!1,o.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function Y(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(F,Y);P[l]=new I(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(F,Y);P[l]=new I(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(F,Y);P[l]=new I(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){P[o]=new I(o,1,!1,o.toLowerCase(),null,!1,!1)}),P.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){P[o]=new I(o,1,!1,o.toLowerCase(),null,!0,!0)});function H(o,l,h,g){var b=P.hasOwnProperty(l)?P[l]:null;(b!==null?b.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(T(l,h,b,g)&&(h=null),g||b===null?_(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):b.mustUseProperty?o[b.propertyName]=h===null?b.type===3?!1:"":h:(l=b.attributeName,g=b.attributeNamespace,h===null?o.removeAttribute(l):(b=b.type,h=b===3||b===4&&h===!0?"":""+h,g?o.setAttributeNS(g,l,h):o.setAttribute(l,h))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=Symbol.for("react.element"),ge=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),C=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),ee=Symbol.iterator;function he(o){return o===null||typeof o!="object"?null:(o=ee&&o[ee]||o["@@iterator"],typeof o=="function"?o:null)}var _e=Object.assign,Q;function D(o){if(Q===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Q=l&&l[1]||""}return`
`+Q+o}var X=!1;function ne(o,l){if(!o||X)return"";X=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(De){var g=De}Reflect.construct(o,[],l)}else{try{l.call()}catch(De){g=De}o.call(l.prototype)}else{try{throw Error()}catch(De){g=De}o()}}catch(De){if(De&&g&&typeof De.stack=="string"){for(var b=De.stack.split(`
`),E=g.stack.split(`
`),B=b.length-1,le=E.length-1;1<=B&&0<=le&&b[B]!==E[le];)le--;for(;1<=B&&0<=le;B--,le--)if(b[B]!==E[le]){if(B!==1||le!==1)do if(B--,le--,0>le||b[B]!==E[le]){var pe=`
`+b[B].replace(" at new "," at ");return o.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",o.displayName)),pe}while(1<=B&&0<=le);break}}}finally{X=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?D(o):""}function ue(o){switch(o.tag){case 5:return D(o.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return o=ne(o.type,!1),o;case 11:return o=ne(o.type.render,!1),o;case 1:return o=ne(o.type,!0),o;default:return""}}function fe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case W:return"Fragment";case ge:return"Portal";case L:return"Profiler";case R:return"StrictMode";case M:return"Suspense";case se:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case C:return(o.displayName||"Context")+".Consumer";case q:return(o._context.displayName||"Context")+".Provider";case j:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Se:return l=o.displayName||null,l!==null?l:fe(o.type)||"Memo";case xe:l=o._payload,o=o._init;try{return fe(o(l))}catch{}}return null}function ve(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(l);case 8:return l===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ne(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Te(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function je(o){var l=Te(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,E=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return b.call(this)},set:function(B){g=""+B,E.call(this,B)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(B){g=""+B},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function He(o){o._valueTracker||(o._valueTracker=je(o))}function nt(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return o&&(g=Te(o)?o.checked?"true":"false":o.value),o=g,o!==h?(l.setValue(o),!0):!1}function rt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Fe(o,l){var h=l.checked;return _e({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function oe(o,l){var h=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;h=Ne(l.value!=null?l.value:h),o._wrapperState={initialChecked:g,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function tn(o,l){l=l.checked,l!=null&&H(o,"checked",l,!1)}function qt(o,l){tn(o,l);var h=Ne(l.value),g=l.type;if(h!=null)g==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Ye(o,l.type,h):l.hasOwnProperty("defaultValue")&&Ye(o,l.type,Ne(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Et(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Ye(o,l,h){(l!=="number"||rt(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var ut=Array.isArray;function et(o,l,h,g){if(o=o.options,l){l={};for(var b=0;b<h.length;b++)l["$"+h[b]]=!0;for(h=0;h<o.length;h++)b=l.hasOwnProperty("$"+o[h].value),o[h].selected!==b&&(o[h].selected=b),b&&g&&(o[h].defaultSelected=!0)}else{for(h=""+Ne(h),l=null,b=0;b<o.length;b++){if(o[b].value===h){o[b].selected=!0,g&&(o[b].defaultSelected=!0);return}l!==null||o[b].disabled||(l=o[b])}l!==null&&(l.selected=!0)}}function zt(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return _e({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function _t(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(t(92));if(ut(h)){if(1<h.length)throw Error(t(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:Ne(h)}}function un(o,l){var h=Ne(l.value),g=Ne(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),g!=null&&(o.defaultValue=""+g)}function Ft(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function gt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?gt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Lt,xt=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,g,b){MSApp.execUnsafeLocalFunction(function(){return o(l,h,g,b)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Lt=Lt||document.createElement("div"),Lt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Lt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Tt(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_n=["Webkit","ms","Moz","O"];Object.keys(yt).forEach(function(o){_n.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),yt[l]=yt[o]})});function pn(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||yt.hasOwnProperty(o)&&yt[o]?(""+l).trim():l+"px"}function ft(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var g=h.indexOf("--")===0,b=pn(h,l[h],g);h==="float"&&(h="cssFloat"),g?o.setProperty(h,b):o[h]=b}}var Vt=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(o,l){if(l){if(Vt[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Nt(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var en=null;function Mt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Qn=null,In=null,cn=null;function Rt(o){if(o=Yl(o)){if(typeof Qn!="function")throw Error(t(280));var l=o.stateNode;l&&(l=Zu(l),Qn(o.stateNode,o.type,l))}}function rn(o){In?cn?cn.push(o):cn=[o]:In=o}function Zs(){if(In){var o=In,l=cn;if(cn=In=null,Rt(o),l)for(o=0;o<l.length;o++)Rt(l[o])}}function pr(o,l){return o(l)}function Es(){}var ti=!1;function It(o,l,h){if(ti)return o(l,h);ti=!0;try{return pr(o,l,h)}finally{ti=!1,(In!==null||cn!==null)&&(Es(),Zs())}}function Ln(o,l){var h=o.stateNode;if(h===null)return null;var g=Zu(h);if(g===null)return null;h=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(t(231,l,typeof h));return h}var Zi=!1;if(u)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{Zi=!1}function ni(o,l,h,g,b,E,B,le,pe){var De=Array.prototype.slice.call(arguments,3);try{l.apply(h,De)}catch(Ke){this.onError(Ke)}}var jn=!1,or=null,qn=!1,eo=null,xo={onError:function(o){jn=!0,or=o}};function Ii(o,l,h,g,b,E,B,le,pe){jn=!1,or=null,ni.apply(xo,arguments)}function Ts(o,l,h,g,b,E,B,le,pe){if(Ii.apply(this,arguments),jn){if(jn){var De=or;jn=!1,or=null}else throw Error(t(198));qn||(qn=!0,eo=De)}}function Tr(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function fi(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function gr(o){if(Tr(o)!==o)throw Error(t(188))}function bo(o){var l=o.alternate;if(!l){if(l=Tr(o),l===null)throw Error(t(188));return l!==o?null:o}for(var h=o,g=l;;){var b=h.return;if(b===null)break;var E=b.alternate;if(E===null){if(g=b.return,g!==null){h=g;continue}break}if(b.child===E.child){for(E=b.child;E;){if(E===h)return gr(b),o;if(E===g)return gr(b),l;E=E.sibling}throw Error(t(188))}if(h.return!==g.return)h=b,g=E;else{for(var B=!1,le=b.child;le;){if(le===h){B=!0,h=b,g=E;break}if(le===g){B=!0,g=b,h=E;break}le=le.sibling}if(!B){for(le=E.child;le;){if(le===h){B=!0,h=E,g=b;break}if(le===g){B=!0,g=E,h=b;break}le=le.sibling}if(!B)throw Error(t(189))}}if(h.alternate!==g)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?o:l}function es(o){return o=bo(o),o!==null?Os(o):null}function Os(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Os(o);if(l!==null)return l;o=o.sibling}return null}var to=e.unstable_scheduleCallback,So=e.unstable_cancelCallback,$o=e.unstable_shouldYield,qu=e.unstable_requestPaint,Pn=e.unstable_now,Ka=e.unstable_getCurrentPriorityLevel,Ao=e.unstable_ImmediatePriority,zr=e.unstable_UserBlockingPriority,Pi=e.unstable_NormalPriority,_a=e.unstable_LowPriority,xa=e.unstable_IdlePriority,Eo=null,ki=null;function Ya(o){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(Eo,o,void 0,(o.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:Ja,Qa=Math.log,ar=Math.LN2;function Ja(o){return o>>>=0,o===0?32:31-(Qa(o)/ar|0)|0}var Wo=64,ts=4194304;function ns(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function di(o,l){var h=o.pendingLanes;if(h===0)return 0;var g=0,b=o.suspendedLanes,E=o.pingedLanes,B=h&268435455;if(B!==0){var le=B&~b;le!==0?g=ns(le):(E&=B,E!==0&&(g=ns(E)))}else B=h&~b,B!==0?g=ns(B):E!==0&&(g=ns(E));if(g===0)return 0;if(l!==0&&l!==g&&(l&b)===0&&(b=g&-g,E=l&-l,b>=E||b===16&&(E&4194240)!==0))return l;if((g&4)!==0&&(g|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=g;0<l;)h=31-Or(l),b=1<<h,g|=o[h],l&=~b;return g}function Go(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rn(o,l){for(var h=o.suspendedLanes,g=o.pingedLanes,b=o.expirationTimes,E=o.pendingLanes;0<E;){var B=31-Or(E),le=1<<B,pe=b[B];pe===-1?((le&h)===0||(le&g)!==0)&&(b[B]=Go(le,l)):pe<=l&&(o.expiredLanes|=le),E&=~le}}function pi(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Ko(){var o=Wo;return Wo<<=1,(Wo&4194240)===0&&(Wo=64),o}function To(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function No(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Or(l),o[l]=h}function hn(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<h;){var b=31-Or(h),E=1<<b;l[b]=0,g[b]=-1,o[b]=-1,h&=~E}}function no(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var g=31-Or(h),b=1<<g;b&l|o[g]&l&&(o[g]|=l),h&=~b}}var on=0;function Bi(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var ba,Sa,Ol,jl,Aa,ro=!1,mi=[],Hr=null,gi=null,qi=null,Pt=new Map,rs=new Map,js=[],zu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ml(o,l){switch(o){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Pt.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(l.pointerId)}}function yr(o,l,h,g,b,E){return o===null||o.nativeEvent!==E?(o={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:E,targetContainers:[b]},l!==null&&(l=Yl(l),l!==null&&Sa(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),o)}function io(o,l,h,g,b){switch(l){case"focusin":return Hr=yr(Hr,o,l,h,g,b),!0;case"dragenter":return gi=yr(gi,o,l,h,g,b),!0;case"mouseover":return qi=yr(qi,o,l,h,g,b),!0;case"pointerover":var E=b.pointerId;return Pt.set(E,yr(Pt.get(E)||null,o,l,h,g,b)),!0;case"gotpointercapture":return E=b.pointerId,rs.set(E,yr(rs.get(E)||null,o,l,h,g,b)),!0}return!1}function Fl(o){var l=Ra(o.target);if(l!==null){var h=Tr(l);if(h!==null){if(l=h.tag,l===13){if(l=fi(h),l!==null){o.blockedOn=l,Aa(o.priority,function(){Ol(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function so(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=Po(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);en=g,h.target.dispatchEvent(g),en=null}else return l=Yl(h),l!==null&&Sa(l),o.blockedOn=h,!1;l.shift()}return!0}function Ms(o,l,h){so(o)&&h.delete(l)}function Ea(){ro=!1,Hr!==null&&so(Hr)&&(Hr=null),gi!==null&&so(gi)&&(gi=null),qi!==null&&so(qi)&&(qi=null),Pt.forEach(Ms),rs.forEach(Ms)}function yi(o,l){o.blockedOn===l&&(o.blockedOn=null,ro||(ro=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ea)))}function Ci(o){function l(b){return yi(b,o)}if(0<mi.length){yi(mi[0],o);for(var h=1;h<mi.length;h++){var g=mi[h];g.blockedOn===o&&(g.blockedOn=null)}}for(Hr!==null&&yi(Hr,o),gi!==null&&yi(gi,o),qi!==null&&yi(qi,o),Pt.forEach(l),rs.forEach(l),h=0;h<js.length;h++)g=js[h],g.blockedOn===o&&(g.blockedOn=null);for(;0<js.length&&(h=js[0],h.blockedOn===null);)Fl(h),h.blockedOn===null&&js.shift()}var is=$.ReactCurrentBatchConfig,Io=!0;function Mn(o,l,h,g){var b=on,E=is.transition;is.transition=null;try{on=1,oo(o,l,h,g)}finally{on=b,is.transition=E}}function Xa(o,l,h,g){var b=on,E=is.transition;is.transition=null;try{on=4,oo(o,l,h,g)}finally{on=b,is.transition=E}}function oo(o,l,h,g){if(Io){var b=Po(o,l,h,g);if(b===null)Qu(o,l,g,Ns,h),Ml(o,g);else if(io(b,o,l,h,g))g.stopPropagation();else if(Ml(o,g),l&4&&-1<zu.indexOf(o)){for(;b!==null;){var E=Yl(b);if(E!==null&&ba(E),E=Po(o,l,h,g),E===null&&Qu(o,l,g,Ns,h),E===b)break;b=E}b!==null&&g.stopPropagation()}else Qu(o,l,g,null,h)}}var Ns=null;function Po(o,l,h,g){if(Ns=null,o=Mt(g),o=Ra(o),o!==null)if(l=Tr(o),l===null)o=null;else if(h=l.tag,h===13){if(o=fi(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Ns=o,null}function ko(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ka()){case Ao:return 1;case zr:return 4;case Pi:case _a:return 16;case xa:return 536870912;default:return 16}default:return 16}}var vi=null,Fs=null,wi=null;function Ta(){if(wi)return wi;var o,l=Fs,h=l.length,g,b="value"in vi?vi.value:vi.textContent,E=b.length;for(o=0;o<h&&l[o]===b[o];o++);var B=h-o;for(g=1;g<=B&&l[h-g]===b[E-g];g++);return wi=b.slice(o,1<g?1-g:void 0)}function ss(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function ri(){return!0}function Na(){return!1}function jr(o){function l(h,g,b,E,B){this._reactName=h,this._targetInst=b,this.type=g,this.nativeEvent=E,this.target=B,this.currentTarget=null;for(var le in o)o.hasOwnProperty(le)&&(h=o[le],this[le]=h?h(E):E[le]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?ri:Na,this.isPropagationStopped=Na,this}return _e(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),l}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=jr(_i),x=_e({},_i,{view:0,detail:0}),V=jr(x),ie,ce,we,Be=_e({},x,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==we&&(we&&o.type==="mousemove"?(ie=o.screenX-we.screenX,ce=o.screenY-we.screenY):ce=ie=0,we=o),ie)},movementY:function(o){return"movementY"in o?o.movementY:ce}}),$e=jr(Be),st=_e({},Be,{dataTransfer:0}),dt=jr(st),Ct=_e({},x,{relatedTarget:0}),jt=jr(Ct),yn=_e({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),Sn=jr(yn),lr=_e({},_i,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Dn=jr(lr),vr=_e({},_i,{data:0}),nr=jr(vr),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Za(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=xi[o])?!!l[o]:!1}function zi(){return Za}var m=_e({},x,{key:function(o){if(o.key){var l=wr[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=ss(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Jn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zi,charCode:function(o){return o.type==="keypress"?ss(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ss(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),A=jr(m),O=_e({},Be,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J=jr(O),be=_e({},x,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zi}),Le=jr(be),Xe=_e({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),mn=jr(Xe),ur=_e({},Be,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),an=jr(ur),sn=[9,13,27,32],Fn=u&&"CompositionEvent"in window,bi=null;u&&"documentMode"in document&&(bi=document.documentMode);var Li=u&&"TextEvent"in window&&!bi,ii=u&&(!Fn||bi&&8<bi&&11>=bi),Vs=" ",Vl=!1;function Ul(o,l){switch(o){case"keyup":return sn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qo(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Us=!1;function Is(o,l){switch(o){case"compositionend":return Qo(l);case"keypress":return l.which!==32?null:(Vl=!0,Vs);case"textInput":return o=l.data,o===Vs&&Vl?null:o;default:return null}}function Ps(o,l){if(Us)return o==="compositionend"||!Fn&&Ul(o,l)?(o=Ta(),wi=Fs=vi=null,Us=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ii&&l.locale!=="ko"?null:l.data;default:return null}}var Ia={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Co(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Ia[o.type]:l==="textarea"}function Jo(o,l,h,g){rn(g),l=zc(l,"onChange"),0<l.length&&(h=new Yo("onChange","change",null,h,g),o.push({event:h,listeners:l}))}var Xo=null,Lo=null;function Nr(o){Ku(o,0)}function el(o){var l=cl(o);if(nt(l))return o}function Ro(o,l){if(o==="change")return l}var ao=!1;if(u){var tl;if(u){var nl="oninput"in document;if(!nl){var Bl=document.createElement("div");Bl.setAttribute("oninput","return;"),nl=typeof Bl.oninput=="function"}tl=nl}else tl=!1;ao=tl&&(!document.documentMode||9<document.documentMode)}function ql(){Xo&&(Xo.detachEvent("onpropertychange",Zo),Lo=Xo=null)}function Zo(o){if(o.propertyName==="value"&&el(Lo)){var l=[];Jo(l,Lo,o,Mt(o)),It(Nr,l)}}function Pa(o,l,h){o==="focusin"?(ql(),Xo=l,Lo=h,Xo.attachEvent("onpropertychange",Zo)):o==="focusout"&&ql()}function ka(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return el(Lo)}function rl(o,l){if(o==="click")return el(l)}function Ca(o,l){if(o==="input"||o==="change")return el(l)}function il(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var _r=typeof Object.is=="function"?Object.is:il;function os(o,l){if(_r(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var b=h[g];if(!c.call(l,b)||!_r(o[b],l[b]))return!1}return!0}function An(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Vn(o,l){var h=An(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=l&&g>=l)return{node:h,offset:l-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=An(h)}}function xr(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?xr(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Mr(){for(var o=window,l=rt();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=rt(o.document)}return l}function lo(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function Hu(o){var l=Mr(),h=o.focusedElem,g=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&xr(h.ownerDocument.documentElement,h)){if(g!==null&&lo(h)){if(l=g.start,o=g.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var b=h.textContent.length,E=Math.min(g.start,b);g=g.end===void 0?E:Math.min(g.end,b),!o.extend&&E>g&&(b=g,g=E,E=b),b=Vn(h,E);var B=Vn(h,g);b&&B&&(o.rangeCount!==1||o.anchorNode!==b.node||o.anchorOffset!==b.offset||o.focusNode!==B.node||o.focusOffset!==B.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),o.removeAllRanges(),E>g?(o.addRange(l),o.extend(B.node,B.offset)):(l.setEnd(B.node,B.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var zl=u&&"documentMode"in document&&11>=document.documentMode,ea=null,Vc=null,Hl=null,Uc=!1;function Jh(o,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Uc||ea==null||ea!==rt(g)||(g=ea,"selectionStart"in g&&lo(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Hl&&os(Hl,g)||(Hl=g,g=zc(Vc,"onSelect"),0<g.length&&(l=new Yo("onSelect","select",null,l,h),o.push({event:l,listeners:g}),l.target=ea)))}function $u(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var sl={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},ol={},Xh={};u&&(Xh=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function Wu(o){if(ol[o])return ol[o];if(!sl[o])return o;var l=sl[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in Xh)return ol[o]=l[h];return o}var Zh=Wu("animationend"),ef=Wu("animationiteration"),tf=Wu("animationstart"),nf=Wu("transitionend"),rf=new Map,sf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(o,l){rf.set(o,l),s(l,[o])}for(var $l=0;$l<sf.length;$l++){var Hi=sf[$l],Bs=Hi.toLowerCase(),Bc=Hi[0].toUpperCase()+Hi.slice(1);Do(Bs,"on"+Bc)}Do(Zh,"onAnimationEnd"),Do(ef,"onAnimationIteration"),Do(tf,"onAnimationStart"),Do("dblclick","onDoubleClick"),Do("focusin","onFocus"),Do("focusout","onBlur"),Do(nf,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Md=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Gu(o,l,h){var g=o.type||"unknown-event";o.currentTarget=h,Ts(g,l,void 0,o),o.currentTarget=null}function Ku(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],b=g.event;g=g.listeners;e:{var E=void 0;if(l)for(var B=g.length-1;0<=B;B--){var le=g[B],pe=le.instance,De=le.currentTarget;if(le=le.listener,pe!==E&&b.isPropagationStopped())break e;Gu(b,le,De),E=pe}else for(B=0;B<g.length;B++){if(le=g[B],pe=le.instance,De=le.currentTarget,le=le.listener,pe!==E&&b.isPropagationStopped())break e;Gu(b,le,De),E=pe}}}if(qn)throw o=eo,qn=!1,eo=null,o}function zn(o,l){var h=l[ls];h===void 0&&(h=l[ls]=new Set);var g=o+"__bubble";h.has(g)||(Yu(l,o,2,!1),h.add(g))}function qc(o,l,h){var g=0;l&&(g|=4),Yu(h,o,g,l)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function al(o){if(!o[Wl]){o[Wl]=!0,r.forEach(function(h){h!=="selectionchange"&&(Md.has(h)||qc(h,!1,o),qc(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Wl]||(l[Wl]=!0,qc("selectionchange",!1,l))}}function Yu(o,l,h,g){switch(ko(l)){case 1:var b=Mn;break;case 4:b=Xa;break;default:b=oo}h=b.bind(null,l,h,o),b=void 0,!Zi||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),g?b!==void 0?o.addEventListener(l,h,{capture:!0,passive:b}):o.addEventListener(l,h,!0):b!==void 0?o.addEventListener(l,h,{passive:b}):o.addEventListener(l,h,!1)}function Qu(o,l,h,g,b){var E=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var B=g.tag;if(B===3||B===4){var le=g.stateNode.containerInfo;if(le===b||le.nodeType===8&&le.parentNode===b)break;if(B===4)for(B=g.return;B!==null;){var pe=B.tag;if((pe===3||pe===4)&&(pe=B.stateNode.containerInfo,pe===b||pe.nodeType===8&&pe.parentNode===b))return;B=B.return}for(;le!==null;){if(B=Ra(le),B===null)return;if(pe=B.tag,pe===5||pe===6){g=E=B;continue e}le=le.parentNode}}g=g.return}It(function(){var De=E,Ke=Mt(h),Je=[];e:{var Ge=rf.get(o);if(Ge!==void 0){var it=Yo,pt=o;switch(o){case"keypress":if(ss(h)===0)break e;case"keydown":case"keyup":it=A;break;case"focusin":pt="focus",it=jt;break;case"focusout":pt="blur",it=jt;break;case"beforeblur":case"afterblur":it=jt;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=$e;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=dt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Le;break;case Zh:case ef:case tf:it=Sn;break;case nf:it=mn;break;case"scroll":it=V;break;case"wheel":it=an;break;case"copy":case"cut":case"paste":it=Dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=J}var vt=(l&4)!==0,Gr=!vt&&o==="scroll",Pe=vt?Ge!==null?Ge+"Capture":null:Ge;vt=[];for(var ye=De,Ce;ye!==null;){Ce=ye;var Ze=Ce.stateNode;if(Ce.tag===5&&Ze!==null&&(Ce=Ze,Pe!==null&&(Ze=Ln(ye,Pe),Ze!=null&&vt.push(Ju(ye,Ze,Ce)))),Gr)break;ye=ye.return}0<vt.length&&(Ge=new it(Ge,pt,null,h,Ke),Je.push({event:Ge,listeners:vt}))}}if((l&7)===0){e:{if(Ge=o==="mouseover"||o==="pointerover",it=o==="mouseout"||o==="pointerout",Ge&&h!==en&&(pt=h.relatedTarget||h.fromElement)&&(Ra(pt)||pt[Ri]))break e;if((it||Ge)&&(Ge=Ke.window===Ke?Ke:(Ge=Ke.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,it?(pt=h.relatedTarget||h.toElement,it=De,pt=pt?Ra(pt):null,pt!==null&&(Gr=Tr(pt),pt!==Gr||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(it=null,pt=De),it!==pt)){if(vt=$e,Ze="onMouseLeave",Pe="onMouseEnter",ye="mouse",(o==="pointerout"||o==="pointerover")&&(vt=J,Ze="onPointerLeave",Pe="onPointerEnter",ye="pointer"),Gr=it==null?Ge:cl(it),Ce=pt==null?Ge:cl(pt),Ge=new vt(Ze,ye+"leave",it,h,Ke),Ge.target=Gr,Ge.relatedTarget=Ce,Ze=null,Ra(Ke)===De&&(vt=new vt(Pe,ye+"enter",pt,h,Ke),vt.target=Ce,vt.relatedTarget=Gr,Ze=vt),Gr=Ze,it&&pt)t:{for(vt=it,Pe=pt,ye=0,Ce=vt;Ce;Ce=ll(Ce))ye++;for(Ce=0,Ze=Pe;Ze;Ze=ll(Ze))Ce++;for(;0<ye-Ce;)vt=ll(vt),ye--;for(;0<Ce-ye;)Pe=ll(Pe),Ce--;for(;ye--;){if(vt===Pe||Pe!==null&&vt===Pe.alternate)break t;vt=ll(vt),Pe=ll(Pe)}vt=null}else vt=null;it!==null&&Fd(Je,Ge,it,vt,!1),pt!==null&&Gr!==null&&Fd(Je,Gr,pt,vt,!0)}}e:{if(Ge=De?cl(De):window,it=Ge.nodeName&&Ge.nodeName.toLowerCase(),it==="select"||it==="input"&&Ge.type==="file")var St=Ro;else if(Co(Ge))if(ao)St=Ca;else{St=ka;var Dt=Pa}else(it=Ge.nodeName)&&it.toLowerCase()==="input"&&(Ge.type==="checkbox"||Ge.type==="radio")&&(St=rl);if(St&&(St=St(o,De))){Jo(Je,St,h,Ke);break e}Dt&&Dt(o,Ge,De),o==="focusout"&&(Dt=Ge._wrapperState)&&Dt.controlled&&Ge.type==="number"&&Ye(Ge,"number",Ge.value)}switch(Dt=De?cl(De):window,o){case"focusin":(Co(Dt)||Dt.contentEditable==="true")&&(ea=Dt,Vc=De,Hl=null);break;case"focusout":Hl=Vc=ea=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,Jh(Je,h,Ke);break;case"selectionchange":if(zl)break;case"keydown":case"keyup":Jh(Je,h,Ke)}var Ot;if(Fn)e:{switch(o){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else Us?Ul(o,h)&&(Wt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Wt="onCompositionStart");Wt&&(ii&&h.locale!=="ko"&&(Us||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&Us&&(Ot=Ta()):(vi=Ke,Fs="value"in vi?vi.value:vi.textContent,Us=!0)),Dt=zc(De,Wt),0<Dt.length&&(Wt=new nr(Wt,o,null,h,Ke),Je.push({event:Wt,listeners:Dt}),Ot?Wt.data=Ot:(Ot=Qo(h),Ot!==null&&(Wt.data=Ot)))),(Ot=Li?Is(o,h):Ps(o,h))&&(De=zc(De,"onBeforeInput"),0<De.length&&(Ke=new nr("onBeforeInput","beforeinput",null,h,Ke),Je.push({event:Ke,listeners:De}),Ke.data=Ot))}Ku(Je,l)})}function Ju(o,l,h){return{instance:o,listener:l,currentTarget:h}}function zc(o,l){for(var h=l+"Capture",g=[];o!==null;){var b=o,E=b.stateNode;b.tag===5&&E!==null&&(b=E,E=Ln(o,h),E!=null&&g.unshift(Ju(o,E,b)),E=Ln(o,l),E!=null&&g.push(Ju(o,E,b))),o=o.return}return g}function ll(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Fd(o,l,h,g,b){for(var E=l._reactName,B=[];h!==null&&h!==g;){var le=h,pe=le.alternate,De=le.stateNode;if(pe!==null&&pe===g)break;le.tag===5&&De!==null&&(le=De,b?(pe=Ln(h,E),pe!=null&&B.unshift(Ju(h,pe,le))):b||(pe=Ln(h,E),pe!=null&&B.push(Ju(h,pe,le)))),h=h.return}B.length!==0&&o.push({event:l,listeners:B})}var yg=/\r\n?/g,vg=/\u0000|\uFFFD/g;function Vd(o){return(typeof o=="string"?o:""+o).replace(yg,`
`).replace(vg,"")}function Hc(o,l,h){if(l=Vd(l),Vd(o)!==l&&h)throw Error(t(425))}function Gl(){}var Xu=null,ul=null;function of(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var af=typeof setTimeout=="function"?setTimeout:void 0,Ud=typeof clearTimeout=="function"?clearTimeout:void 0,Bd=typeof Promise=="function"?Promise:void 0,wg=typeof queueMicrotask=="function"?queueMicrotask:typeof Bd<"u"?function(o){return Bd.resolve(null).then(o).catch(_g)}:af;function _g(o){setTimeout(function(){throw o})}function lf(o,l){var h=l,g=0;do{var b=h.nextSibling;if(o.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(g===0){o.removeChild(b),Ci(l);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=b}while(h);Ci(l)}function $i(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function qs(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var as=Math.random().toString(36).slice(2),Oo="__reactFiber$"+as,Kl="__reactProps$"+as,Ri="__reactContainer$"+as,ls="__reactEvents$"+as,xg="__reactListeners$"+as,bg="__reactHandles$"+as;function Ra(o){var l=o[Oo];if(l)return l;for(var h=o.parentNode;h;){if(l=h[Ri]||h[Oo]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=qs(o);o!==null;){if(h=o[Oo])return h;o=qs(o)}return l}o=h,h=o.parentNode}return null}function Yl(o){return o=o[Oo]||o[Ri],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function cl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Zu(o){return o[Kl]||null}var uf=[],ta=-1;function uo(o){return{current:o}}function On(o){0>ta||(o.current=uf[ta],uf[ta]=null,ta--)}function Un(o,l){ta++,uf[ta]=o.current,o.current=l}var Da={},Si=uo(Da),us=uo(!1),hl=Da;function Ql(o,l){var h=o.type.contextTypes;if(!h)return Da;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var b={},E;for(E in h)b[E]=l[E];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=b),b}function cs(o){return o=o.childContextTypes,o!=null}function $c(){On(us),On(Si)}function qd(o,l,h){if(Si.current!==Da)throw Error(t(168));Un(Si,l),Un(us,h)}function cf(o,l,h){var g=o.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var b in g)if(!(b in l))throw Error(t(108,ve(o)||"Unknown",b));return _e({},h,g)}function fl(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Da,hl=Si.current,Un(Si,o),Un(us,us.current),!0}function zd(o,l,h){var g=o.stateNode;if(!g)throw Error(t(169));h?(o=cf(o,l,hl),g.__reactInternalMemoizedMergedChildContext=o,On(us),On(Si),Un(Si,o)):On(us),Un(us,h)}var na=null,ec=!1,p=!1;function v(o){na===null?na=[o]:na.push(o)}function S(o){ec=!0,v(o)}function k(){if(!p&&na!==null){p=!0;var o=0,l=on;try{var h=na;for(on=1;o<h.length;o++){var g=h[o];do g=g(!0);while(g!==null)}na=null,ec=!1}catch(b){throw na!==null&&(na=na.slice(o+1)),to(Ao,k),b}finally{on=l,p=!1}}return null}var U=[],z=0,G=null,K=0,Z=[],te=0,de=null,Ie=1,re="";function me(o,l){U[z++]=K,U[z++]=G,G=o,K=l}function Ae(o,l,h){Z[te++]=Ie,Z[te++]=re,Z[te++]=de,de=o;var g=Ie;o=re;var b=32-Or(g)-1;g&=~(1<<b),h+=1;var E=32-Or(l)+b;if(30<E){var B=b-b%5;E=(g&(1<<B)-1).toString(32),g>>=B,b-=B,Ie=1<<32-Or(l)+b|h<<b|g,re=E+o}else Ie=1<<E|h<<b|g,re=o}function Ue(o){o.return!==null&&(me(o,1),Ae(o,1,0))}function ke(o){for(;o===G;)G=U[--z],U[z]=null,K=U[--z],U[z]=null;for(;o===de;)de=Z[--te],Z[te]=null,re=Z[--te],Z[te]=null,Ie=Z[--te],Z[te]=null}var Me=null,Ve=null,qe=!1,ze=null;function bt(o,l){var h=Uo(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function ot(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Me=o,Ve=$i(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Me=o,Ve=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=de!==null?{id:Ie,overflow:re}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Uo(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,Me=o,Ve=null,!0):!1;default:return!1}}function Yt(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ht(o){if(qe){var l=Ve;if(l){var h=l;if(!ot(o,l)){if(Yt(o))throw Error(t(418));l=$i(h.nextSibling);var g=Me;l&&ot(o,l)?bt(g,h):(o.flags=o.flags&-4097|2,qe=!1,Me=o)}}else{if(Yt(o))throw Error(t(418));o.flags=o.flags&-4097|2,qe=!1,Me=o}}}function fn(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Me=o}function br(o){if(o!==Me)return!1;if(!qe)return fn(o),qe=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!of(o.type,o.memoizedProps)),l&&(l=Ve)){if(Yt(o))throw Qt(),Error(t(418));for(;l;)bt(o,l),l=$i(l.nextSibling)}if(fn(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){Ve=$i(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}Ve=null}}else Ve=Me?$i(o.stateNode.nextSibling):null;return!0}function Qt(){for(var o=Ve;o;)o=$i(o.nextSibling)}function at(){Ve=Me=null,qe=!1}function tt(o){ze===null?ze=[o]:ze.push(o)}var Ir=$.ReactCurrentBatchConfig;function Ut(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var g=h.stateNode}if(!g)throw Error(t(147,o));var b=g,E=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(B){var le=b.refs;B===null?delete le[E]:le[E]=B},l._stringRef=E,l)}if(typeof o!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,o))}return o}function ln(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function Xn(o){var l=o._init;return l(o._payload)}function si(o){function l(Pe,ye){if(o){var Ce=Pe.deletions;Ce===null?(Pe.deletions=[ye],Pe.flags|=16):Ce.push(ye)}}function h(Pe,ye){if(!o)return null;for(;ye!==null;)l(Pe,ye),ye=ye.sibling;return null}function g(Pe,ye){for(Pe=new Map;ye!==null;)ye.key!==null?Pe.set(ye.key,ye):Pe.set(ye.index,ye),ye=ye.sibling;return Pe}function b(Pe,ye){return Pe=ou(Pe,ye),Pe.index=0,Pe.sibling=null,Pe}function E(Pe,ye,Ce){return Pe.index=Ce,o?(Ce=Pe.alternate,Ce!==null?(Ce=Ce.index,Ce<ye?(Pe.flags|=2,ye):Ce):(Pe.flags|=2,ye)):(Pe.flags|=1048576,ye)}function B(Pe){return o&&Pe.alternate===null&&(Pe.flags|=2),Pe}function le(Pe,ye,Ce,Ze){return ye===null||ye.tag!==6?(ye=Jg(Ce,Pe.mode,Ze),ye.return=Pe,ye):(ye=b(ye,Ce),ye.return=Pe,ye)}function pe(Pe,ye,Ce,Ze){var St=Ce.type;return St===W?Ke(Pe,ye,Ce.props.children,Ze,Ce.key):ye!==null&&(ye.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===xe&&Xn(St)===ye.type)?(Ze=b(ye,Ce.props),Ze.ref=Ut(Pe,ye,Ce),Ze.return=Pe,Ze):(Ze=up(Ce.type,Ce.key,Ce.props,null,Pe.mode,Ze),Ze.ref=Ut(Pe,ye,Ce),Ze.return=Pe,Ze)}function De(Pe,ye,Ce,Ze){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ce.containerInfo||ye.stateNode.implementation!==Ce.implementation?(ye=Xg(Ce,Pe.mode,Ze),ye.return=Pe,ye):(ye=b(ye,Ce.children||[]),ye.return=Pe,ye)}function Ke(Pe,ye,Ce,Ze,St){return ye===null||ye.tag!==7?(ye=lc(Ce,Pe.mode,Ze,St),ye.return=Pe,ye):(ye=b(ye,Ce),ye.return=Pe,ye)}function Je(Pe,ye,Ce){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=Jg(""+ye,Pe.mode,Ce),ye.return=Pe,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case ae:return Ce=up(ye.type,ye.key,ye.props,null,Pe.mode,Ce),Ce.ref=Ut(Pe,null,ye),Ce.return=Pe,Ce;case ge:return ye=Xg(ye,Pe.mode,Ce),ye.return=Pe,ye;case xe:var Ze=ye._init;return Je(Pe,Ze(ye._payload),Ce)}if(ut(ye)||he(ye))return ye=lc(ye,Pe.mode,Ce,null),ye.return=Pe,ye;ln(Pe,ye)}return null}function Ge(Pe,ye,Ce,Ze){var St=ye!==null?ye.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return St!==null?null:le(Pe,ye,""+Ce,Ze);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case ae:return Ce.key===St?pe(Pe,ye,Ce,Ze):null;case ge:return Ce.key===St?De(Pe,ye,Ce,Ze):null;case xe:return St=Ce._init,Ge(Pe,ye,St(Ce._payload),Ze)}if(ut(Ce)||he(Ce))return St!==null?null:Ke(Pe,ye,Ce,Ze,null);ln(Pe,Ce)}return null}function it(Pe,ye,Ce,Ze,St){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return Pe=Pe.get(Ce)||null,le(ye,Pe,""+Ze,St);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case ae:return Pe=Pe.get(Ze.key===null?Ce:Ze.key)||null,pe(ye,Pe,Ze,St);case ge:return Pe=Pe.get(Ze.key===null?Ce:Ze.key)||null,De(ye,Pe,Ze,St);case xe:var Dt=Ze._init;return it(Pe,ye,Ce,Dt(Ze._payload),St)}if(ut(Ze)||he(Ze))return Pe=Pe.get(Ce)||null,Ke(ye,Pe,Ze,St,null);ln(ye,Ze)}return null}function pt(Pe,ye,Ce,Ze){for(var St=null,Dt=null,Ot=ye,Wt=ye=0,Fi=null;Ot!==null&&Wt<Ce.length;Wt++){Ot.index>Wt?(Fi=Ot,Ot=null):Fi=Ot.sibling;var kn=Ge(Pe,Ot,Ce[Wt],Ze);if(kn===null){Ot===null&&(Ot=Fi);break}o&&Ot&&kn.alternate===null&&l(Pe,Ot),ye=E(kn,ye,Wt),Dt===null?St=kn:Dt.sibling=kn,Dt=kn,Ot=Fi}if(Wt===Ce.length)return h(Pe,Ot),qe&&me(Pe,Wt),St;if(Ot===null){for(;Wt<Ce.length;Wt++)Ot=Je(Pe,Ce[Wt],Ze),Ot!==null&&(ye=E(Ot,ye,Wt),Dt===null?St=Ot:Dt.sibling=Ot,Dt=Ot);return qe&&me(Pe,Wt),St}for(Ot=g(Pe,Ot);Wt<Ce.length;Wt++)Fi=it(Ot,Pe,Wt,Ce[Wt],Ze),Fi!==null&&(o&&Fi.alternate!==null&&Ot.delete(Fi.key===null?Wt:Fi.key),ye=E(Fi,ye,Wt),Dt===null?St=Fi:Dt.sibling=Fi,Dt=Fi);return o&&Ot.forEach(function(au){return l(Pe,au)}),qe&&me(Pe,Wt),St}function vt(Pe,ye,Ce,Ze){var St=he(Ce);if(typeof St!="function")throw Error(t(150));if(Ce=St.call(Ce),Ce==null)throw Error(t(151));for(var Dt=St=null,Ot=ye,Wt=ye=0,Fi=null,kn=Ce.next();Ot!==null&&!kn.done;Wt++,kn=Ce.next()){Ot.index>Wt?(Fi=Ot,Ot=null):Fi=Ot.sibling;var au=Ge(Pe,Ot,kn.value,Ze);if(au===null){Ot===null&&(Ot=Fi);break}o&&Ot&&au.alternate===null&&l(Pe,Ot),ye=E(au,ye,Wt),Dt===null?St=au:Dt.sibling=au,Dt=au,Ot=Fi}if(kn.done)return h(Pe,Ot),qe&&me(Pe,Wt),St;if(Ot===null){for(;!kn.done;Wt++,kn=Ce.next())kn=Je(Pe,kn.value,Ze),kn!==null&&(ye=E(kn,ye,Wt),Dt===null?St=kn:Dt.sibling=kn,Dt=kn);return qe&&me(Pe,Wt),St}for(Ot=g(Pe,Ot);!kn.done;Wt++,kn=Ce.next())kn=it(Ot,Pe,Wt,kn.value,Ze),kn!==null&&(o&&kn.alternate!==null&&Ot.delete(kn.key===null?Wt:kn.key),ye=E(kn,ye,Wt),Dt===null?St=kn:Dt.sibling=kn,Dt=kn);return o&&Ot.forEach(function(mT){return l(Pe,mT)}),qe&&me(Pe,Wt),St}function Gr(Pe,ye,Ce,Ze){if(typeof Ce=="object"&&Ce!==null&&Ce.type===W&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case ae:e:{for(var St=Ce.key,Dt=ye;Dt!==null;){if(Dt.key===St){if(St=Ce.type,St===W){if(Dt.tag===7){h(Pe,Dt.sibling),ye=b(Dt,Ce.props.children),ye.return=Pe,Pe=ye;break e}}else if(Dt.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===xe&&Xn(St)===Dt.type){h(Pe,Dt.sibling),ye=b(Dt,Ce.props),ye.ref=Ut(Pe,Dt,Ce),ye.return=Pe,Pe=ye;break e}h(Pe,Dt);break}else l(Pe,Dt);Dt=Dt.sibling}Ce.type===W?(ye=lc(Ce.props.children,Pe.mode,Ze,Ce.key),ye.return=Pe,Pe=ye):(Ze=up(Ce.type,Ce.key,Ce.props,null,Pe.mode,Ze),Ze.ref=Ut(Pe,ye,Ce),Ze.return=Pe,Pe=Ze)}return B(Pe);case ge:e:{for(Dt=Ce.key;ye!==null;){if(ye.key===Dt)if(ye.tag===4&&ye.stateNode.containerInfo===Ce.containerInfo&&ye.stateNode.implementation===Ce.implementation){h(Pe,ye.sibling),ye=b(ye,Ce.children||[]),ye.return=Pe,Pe=ye;break e}else{h(Pe,ye);break}else l(Pe,ye);ye=ye.sibling}ye=Xg(Ce,Pe.mode,Ze),ye.return=Pe,Pe=ye}return B(Pe);case xe:return Dt=Ce._init,Gr(Pe,ye,Dt(Ce._payload),Ze)}if(ut(Ce))return pt(Pe,ye,Ce,Ze);if(he(Ce))return vt(Pe,ye,Ce,Ze);ln(Pe,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,ye!==null&&ye.tag===6?(h(Pe,ye.sibling),ye=b(ye,Ce),ye.return=Pe,Pe=ye):(h(Pe,ye),ye=Jg(Ce,Pe.mode,Ze),ye.return=Pe,Pe=ye),B(Pe)):h(Pe,ye)}return Gr}var Fr=si(!0),cr=si(!1),$r=uo(null),oi=null,rr=null,gn=null;function En(){gn=rr=oi=null}function ir(o){var l=$r.current;On($r),o._currentValue=l}function Tn(o,l,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===h)break;o=o.return}}function Sr(o,l){oi=o,gn=rr=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Hs=!0),o.firstContext=null)}function Ar(o){var l=o._currentValue;if(gn!==o)if(o={context:o,memoizedValue:l,next:null},rr===null){if(oi===null)throw Error(t(308));rr=o,oi.dependencies={lanes:0,firstContext:o}}else rr=rr.next=o;return l}var Hn=null;function Di(o){Hn===null?Hn=[o]:Hn.push(o)}function Bn(o,l,h,g){var b=l.interleaved;return b===null?(h.next=h,Di(l)):(h.next=b.next,b.next=h),l.interleaved=h,$n(o,g)}function $n(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var Vr=!1;function Ai(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hs(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Pr(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function kr(o,l,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Nn&2)!==0){var b=g.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),g.pending=l,$n(o,h)}return b=g.interleaved,b===null?(l.next=l,Di(g)):(l.next=b.next,b.next=l),g.interleaved=l,$n(o,h)}function Oi(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var g=l.lanes;g&=o.pendingLanes,h|=g,l.lanes=h,no(o,h)}}function Wn(o,l){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var b=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var B={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?b=E=B:E=E.next=B,h=h.next}while(h!==null);E===null?b=E=l:E=E.next=l}else b=E=l;h={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:E,shared:g.shared,effects:g.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function ji(o,l,h,g){var b=o.updateQueue;Vr=!1;var E=b.firstBaseUpdate,B=b.lastBaseUpdate,le=b.shared.pending;if(le!==null){b.shared.pending=null;var pe=le,De=pe.next;pe.next=null,B===null?E=De:B.next=De,B=pe;var Ke=o.alternate;Ke!==null&&(Ke=Ke.updateQueue,le=Ke.lastBaseUpdate,le!==B&&(le===null?Ke.firstBaseUpdate=De:le.next=De,Ke.lastBaseUpdate=pe))}if(E!==null){var Je=b.baseState;B=0,Ke=De=pe=null,le=E;do{var Ge=le.lane,it=le.eventTime;if((g&Ge)===Ge){Ke!==null&&(Ke=Ke.next={eventTime:it,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var pt=o,vt=le;switch(Ge=l,it=h,vt.tag){case 1:if(pt=vt.payload,typeof pt=="function"){Je=pt.call(it,Je,Ge);break e}Je=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=vt.payload,Ge=typeof pt=="function"?pt.call(it,Je,Ge):pt,Ge==null)break e;Je=_e({},Je,Ge);break e;case 2:Vr=!0}}le.callback!==null&&le.lane!==0&&(o.flags|=64,Ge=b.effects,Ge===null?b.effects=[le]:Ge.push(le))}else it={eventTime:it,lane:Ge,tag:le.tag,payload:le.payload,callback:le.callback,next:null},Ke===null?(De=Ke=it,pe=Je):Ke=Ke.next=it,B|=Ge;if(le=le.next,le===null){if(le=b.shared.pending,le===null)break;Ge=le,le=Ge.next,Ge.next=null,b.lastBaseUpdate=Ge,b.shared.pending=null}}while(!0);if(Ke===null&&(pe=Je),b.baseState=pe,b.firstBaseUpdate=De,b.lastBaseUpdate=Ke,l=b.shared.interleaved,l!==null){b=l;do B|=b.lane,b=b.next;while(b!==l)}else E===null&&(b.shared.lanes=0);ic|=B,o.lanes=B,o.memoizedState=Je}}function zs(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var g=o[l],b=g.callback;if(b!==null){if(g.callback=null,g=h,typeof b!="function")throw Error(t(191,b));b.call(g)}}}var co={},ai=uo(co),Cr=uo(co),Oa=uo(co);function ra(o){if(o===co)throw Error(t(174));return o}function Jl(o,l){switch(Un(Oa,l),Un(Cr,o),Un(ai,co),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ht(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Ht(l,o)}On(ai),Un(ai,l)}function jo(){On(ai),On(Cr),On(Oa)}function Hd(o){ra(Oa.current);var l=ra(ai.current),h=Ht(l,o.type);l!==h&&(Un(Cr,o),Un(ai,h))}function hf(o){Cr.current===o&&(On(ai),On(Cr))}var er=uo(0);function ho(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ff=[];function df(){for(var o=0;o<ff.length;o++)ff[o]._workInProgressVersionPrimary=null;ff.length=0}var Wc=$.ReactCurrentDispatcher,Gc=$.ReactCurrentBatchConfig,Mo=0,sr=null,Ur=null,Lr=null,Xl=!1,ia=!1,Zl=0,Sg=0;function Wr(){throw Error(t(321))}function Kc(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!_r(o[h],l[h]))return!1;return!0}function tc(o,l,h,g,b,E){if(Mo=E,sr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Wc.current=o===null||o.memoizedState===null?BE:qE,o=h(g,b),ia){E=0;do{if(ia=!1,Zl=0,25<=E)throw Error(t(301));E+=1,Lr=Ur=null,l.updateQueue=null,Wc.current=zE,o=h(g,b)}while(ia)}if(Wc.current=Yd,l=Ur!==null&&Ur.next!==null,Mo=0,Lr=Ur=sr=null,Xl=!1,l)throw Error(t(300));return o}function Fo(){var o=Zl!==0;return Zl=0,o}function fo(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?sr.memoizedState=Lr=o:Lr=Lr.next=o,Lr}function ks(){if(Ur===null){var o=sr.alternate;o=o!==null?o.memoizedState:null}else o=Ur.next;var l=Lr===null?sr.memoizedState:Lr.next;if(l!==null)Lr=l,Ur=o;else{if(o===null)throw Error(t(310));Ur=o,o={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},Lr===null?sr.memoizedState=Lr=o:Lr=Lr.next=o}return Lr}function nc(o,l){return typeof l=="function"?l(o):l}function Yc(o){var l=ks(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var g=Ur,b=g.baseQueue,E=h.pending;if(E!==null){if(b!==null){var B=b.next;b.next=E.next,E.next=B}g.baseQueue=b=E,h.pending=null}if(b!==null){E=b.next,g=g.baseState;var le=B=null,pe=null,De=E;do{var Ke=De.lane;if((Mo&Ke)===Ke)pe!==null&&(pe=pe.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),g=De.hasEagerState?De.eagerState:o(g,De.action);else{var Je={lane:Ke,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};pe===null?(le=pe=Je,B=g):pe=pe.next=Je,sr.lanes|=Ke,ic|=Ke}De=De.next}while(De!==null&&De!==E);pe===null?B=g:pe.next=le,_r(g,l.memoizedState)||(Hs=!0),l.memoizedState=g,l.baseState=B,l.baseQueue=pe,h.lastRenderedState=g}if(o=h.interleaved,o!==null){b=o;do E=b.lane,sr.lanes|=E,ic|=E,b=b.next;while(b!==o)}else b===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function ja(o){var l=ks(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var g=h.dispatch,b=h.pending,E=l.memoizedState;if(b!==null){h.pending=null;var B=b=b.next;do E=o(E,B.action),B=B.next;while(B!==b);_r(E,l.memoizedState)||(Hs=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),h.lastRenderedState=E}return[E,g]}function $d(){}function pf(o,l){var h=sr,g=ks(),b=l(),E=!_r(g.memoizedState,b);if(E&&(g.memoizedState=b,Hs=!0),g=g.queue,Xc(Gd.bind(null,h,g,o),[o]),g.getSnapshot!==l||E||Lr!==null&&Lr.memoizedState.tag&1){if(h.flags|=2048,Cs(9,mf.bind(null,h,g,b,l),void 0,null),Mi===null)throw Error(t(349));(Mo&30)!==0||Wd(h,l,b)}return b}function Wd(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=sr.updateQueue,l===null?(l={lastEffect:null,stores:null},sr.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function mf(o,l,h,g){l.value=h,l.getSnapshot=g,eu(l)&&Qc(o)}function Gd(o,l,h){return h(function(){eu(l)&&Qc(o)})}function eu(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!_r(o,h)}catch{return!0}}function Qc(o){var l=$n(o,1);l!==null&&ua(l,o,1,-1)}function rc(o){var l=fo();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:o},l.queue=o,o=o.dispatch=UE.bind(null,sr,o),[l.memoizedState,o]}function Cs(o,l,h,g){return o={tag:o,create:l,destroy:h,deps:g,next:null},l=sr.updateQueue,l===null?(l={lastEffect:null,stores:null},sr.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,l.lastEffect=o)),o}function sa(){return ks().memoizedState}function po(o,l,h,g){var b=fo();sr.flags|=o,b.memoizedState=Cs(1|l,h,void 0,g===void 0?null:g)}function dl(o,l,h,g){var b=ks();g=g===void 0?null:g;var E=void 0;if(Ur!==null){var B=Ur.memoizedState;if(E=B.destroy,g!==null&&Kc(g,B.deps)){b.memoizedState=Cs(l,h,E,g);return}}sr.flags|=o,b.memoizedState=Cs(1|l,h,E,g)}function Jc(o,l){return po(8390656,8,o,l)}function Xc(o,l){return dl(2048,8,o,l)}function Kd(o,l){return dl(4,2,o,l)}function Zc(o,l){return dl(4,4,o,l)}function eh(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function q2(o,l,h){return h=h!=null?h.concat([o]):null,dl(4,4,eh.bind(null,l,o),h)}function Ag(){}function z2(o,l){var h=ks();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&Kc(l,g[1])?g[0]:(h.memoizedState=[o,l],o)}function H2(o,l){var h=ks();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&Kc(l,g[1])?g[0]:(o=o(),h.memoizedState=[o,l],o)}function $2(o,l,h){return(Mo&21)===0?(o.baseState&&(o.baseState=!1,Hs=!0),o.memoizedState=h):(_r(h,l)||(h=Ko(),sr.lanes|=h,ic|=h,o.baseState=!0),l)}function FE(o,l){var h=on;on=h!==0&&4>h?h:4,o(!0);var g=Gc.transition;Gc.transition={};try{o(!1),l()}finally{on=h,Gc.transition=g}}function W2(){return ks().memoizedState}function VE(o,l,h){var g=iu(o);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},G2(o))K2(l,h);else if(h=Bn(o,l,h,g),h!==null){var b=Rs();ua(h,o,g,b),Y2(h,l,g)}}function UE(o,l,h){var g=iu(o),b={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(G2(o))K2(l,b);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var B=l.lastRenderedState,le=E(B,h);if(b.hasEagerState=!0,b.eagerState=le,_r(le,B)){var pe=l.interleaved;pe===null?(b.next=b,Di(l)):(b.next=pe.next,pe.next=b),l.interleaved=b;return}}catch{}finally{}h=Bn(o,l,b,g),h!==null&&(b=Rs(),ua(h,o,g,b),Y2(h,l,g))}}function G2(o){var l=o.alternate;return o===sr||l!==null&&l===sr}function K2(o,l){ia=Xl=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function Y2(o,l,h){if((h&4194240)!==0){var g=l.lanes;g&=o.pendingLanes,h|=g,l.lanes=h,no(o,h)}}var Yd={readContext:Ar,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},BE={readContext:Ar,useCallback:function(o,l){return fo().memoizedState=[o,l===void 0?null:l],o},useContext:Ar,useEffect:Jc,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,po(4194308,4,eh.bind(null,l,o),h)},useLayoutEffect:function(o,l){return po(4194308,4,o,l)},useInsertionEffect:function(o,l){return po(4,2,o,l)},useMemo:function(o,l){var h=fo();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var g=fo();return l=h!==void 0?h(l):l,g.memoizedState=g.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},g.queue=o,o=o.dispatch=VE.bind(null,sr,o),[g.memoizedState,o]},useRef:function(o){var l=fo();return o={current:o},l.memoizedState=o},useState:rc,useDebugValue:Ag,useDeferredValue:function(o){return fo().memoizedState=o},useTransition:function(){var o=rc(!1),l=o[0];return o=FE.bind(null,o[1]),fo().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var g=sr,b=fo();if(qe){if(h===void 0)throw Error(t(407));h=h()}else{if(h=l(),Mi===null)throw Error(t(349));(Mo&30)!==0||Wd(g,l,h)}b.memoizedState=h;var E={value:h,getSnapshot:l};return b.queue=E,Jc(Gd.bind(null,g,E,o),[o]),g.flags|=2048,Cs(9,mf.bind(null,g,E,h,l),void 0,null),h},useId:function(){var o=fo(),l=Mi.identifierPrefix;if(qe){var h=re,g=Ie;h=(g&~(1<<32-Or(g)-1)).toString(32)+h,l=":"+l+"R"+h,h=Zl++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=Sg++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},qE={readContext:Ar,useCallback:z2,useContext:Ar,useEffect:Xc,useImperativeHandle:q2,useInsertionEffect:Kd,useLayoutEffect:Zc,useMemo:H2,useReducer:Yc,useRef:sa,useState:function(){return Yc(nc)},useDebugValue:Ag,useDeferredValue:function(o){var l=ks();return $2(l,Ur.memoizedState,o)},useTransition:function(){var o=Yc(nc)[0],l=ks().memoizedState;return[o,l]},useMutableSource:$d,useSyncExternalStore:pf,useId:W2,unstable_isNewReconciler:!1},zE={readContext:Ar,useCallback:z2,useContext:Ar,useEffect:Xc,useImperativeHandle:q2,useInsertionEffect:Kd,useLayoutEffect:Zc,useMemo:H2,useReducer:ja,useRef:sa,useState:function(){return ja(nc)},useDebugValue:Ag,useDeferredValue:function(o){var l=ks();return Ur===null?l.memoizedState=o:$2(l,Ur.memoizedState,o)},useTransition:function(){var o=ja(nc)[0],l=ks().memoizedState;return[o,l]},useMutableSource:$d,useSyncExternalStore:pf,useId:W2,unstable_isNewReconciler:!1};function oa(o,l){if(o&&o.defaultProps){l=_e({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}function Eg(o,l,h,g){l=o.memoizedState,h=h(g,l),h=h==null?l:_e({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Qd={isMounted:function(o){return(o=o._reactInternals)?Tr(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var g=Rs(),b=iu(o),E=Pr(g,b);E.payload=l,h!=null&&(E.callback=h),l=kr(o,E,b),l!==null&&(ua(l,o,b,g),Oi(l,o,b))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var g=Rs(),b=iu(o),E=Pr(g,b);E.tag=1,E.payload=l,h!=null&&(E.callback=h),l=kr(o,E,b),l!==null&&(ua(l,o,b,g),Oi(l,o,b))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=Rs(),g=iu(o),b=Pr(h,g);b.tag=2,l!=null&&(b.callback=l),l=kr(o,b,g),l!==null&&(ua(l,o,g,h),Oi(l,o,g))}};function Q2(o,l,h,g,b,E,B){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,E,B):l.prototype&&l.prototype.isPureReactComponent?!os(h,g)||!os(b,E):!0}function J2(o,l,h){var g=!1,b=Da,E=l.contextType;return typeof E=="object"&&E!==null?E=Ar(E):(b=cs(l)?hl:Si.current,g=l.contextTypes,E=(g=g!=null)?Ql(o,b):Da),l=new l(h,E),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Qd,o.stateNode=l,l._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=b,o.__reactInternalMemoizedMaskedChildContext=E),l}function X2(o,l,h,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==o&&Qd.enqueueReplaceState(l,l.state,null)}function Tg(o,l,h,g){var b=o.stateNode;b.props=h,b.state=o.memoizedState,b.refs={},Ai(o);var E=l.contextType;typeof E=="object"&&E!==null?b.context=Ar(E):(E=cs(l)?hl:Si.current,b.context=Ql(o,E)),b.state=o.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Eg(o,l,E,h),b.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&Qd.enqueueReplaceState(b,b.state,null),ji(o,h,b,g),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308)}function th(o,l){try{var h="",g=l;do h+=ue(g),g=g.return;while(g);var b=h}catch(E){b=`
Error generating stack: `+E.message+`
`+E.stack}return{value:o,source:l,stack:b,digest:null}}function Ng(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function Ig(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var HE=typeof WeakMap=="function"?WeakMap:Map;function Z2(o,l,h){h=Pr(-1,h),h.tag=3,h.payload={element:null};var g=l.value;return h.callback=function(){rp||(rp=!0,zg=g),Ig(o,l)},h}function ev(o,l,h){h=Pr(-1,h),h.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var b=l.value;h.payload=function(){return g(b)},h.callback=function(){Ig(o,l)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){Ig(o,l),typeof g!="function"&&(nu===null?nu=new Set([this]):nu.add(this));var B=l.stack;this.componentDidCatch(l.value,{componentStack:B!==null?B:""})}),h}function tv(o,l,h){var g=o.pingCache;if(g===null){g=o.pingCache=new HE;var b=new Set;g.set(l,b)}else b=g.get(l),b===void 0&&(b=new Set,g.set(l,b));b.has(h)||(b.add(h),o=iT.bind(null,o,l,h),l.then(o,o))}function nv(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function rv(o,l,h,g,b){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=Pr(-1,1),l.tag=2,kr(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=b,o)}var $E=$.ReactCurrentOwner,Hs=!1;function Ls(o,l,h,g){l.child=o===null?cr(l,null,h,g):Fr(l,o.child,h,g)}function iv(o,l,h,g,b){h=h.render;var E=l.ref;return Sr(l,b),g=tc(o,l,h,g,E,b),h=Fo(),o!==null&&!Hs?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~b,pl(o,l,b)):(qe&&h&&Ue(l),l.flags|=1,Ls(o,l,g,b),l.child)}function sv(o,l,h,g,b){if(o===null){var E=h.type;return typeof E=="function"&&!Qg(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=E,ov(o,l,E,g,b)):(o=up(h.type,null,g,l,l.mode,b),o.ref=l.ref,o.return=l,l.child=o)}if(E=o.child,(o.lanes&b)===0){var B=E.memoizedProps;if(h=h.compare,h=h!==null?h:os,h(B,g)&&o.ref===l.ref)return pl(o,l,b)}return l.flags|=1,o=ou(E,g),o.ref=l.ref,o.return=l,l.child=o}function ov(o,l,h,g,b){if(o!==null){var E=o.memoizedProps;if(os(E,g)&&o.ref===l.ref)if(Hs=!1,l.pendingProps=g=E,(o.lanes&b)!==0)(o.flags&131072)!==0&&(Hs=!0);else return l.lanes=o.lanes,pl(o,l,b)}return Pg(o,l,h,g,b)}function av(o,l,h){var g=l.pendingProps,b=g.children,E=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Un(rh,mo),mo|=h;else{if((h&1073741824)===0)return o=E!==null?E.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Un(rh,mo),mo|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=E!==null?E.baseLanes:h,Un(rh,mo),mo|=g}else E!==null?(g=E.baseLanes|h,l.memoizedState=null):g=h,Un(rh,mo),mo|=g;return Ls(o,l,b,h),l.child}function lv(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function Pg(o,l,h,g,b){var E=cs(h)?hl:Si.current;return E=Ql(l,E),Sr(l,b),h=tc(o,l,h,g,E,b),g=Fo(),o!==null&&!Hs?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~b,pl(o,l,b)):(qe&&g&&Ue(l),l.flags|=1,Ls(o,l,h,b),l.child)}function uv(o,l,h,g,b){if(cs(h)){var E=!0;fl(l)}else E=!1;if(Sr(l,b),l.stateNode===null)Xd(o,l),J2(l,h,g),Tg(l,h,g,b),g=!0;else if(o===null){var B=l.stateNode,le=l.memoizedProps;B.props=le;var pe=B.context,De=h.contextType;typeof De=="object"&&De!==null?De=Ar(De):(De=cs(h)?hl:Si.current,De=Ql(l,De));var Ke=h.getDerivedStateFromProps,Je=typeof Ke=="function"||typeof B.getSnapshotBeforeUpdate=="function";Je||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(le!==g||pe!==De)&&X2(l,B,g,De),Vr=!1;var Ge=l.memoizedState;B.state=Ge,ji(l,g,B,b),pe=l.memoizedState,le!==g||Ge!==pe||us.current||Vr?(typeof Ke=="function"&&(Eg(l,h,Ke,g),pe=l.memoizedState),(le=Vr||Q2(l,h,le,g,Ge,pe,De))?(Je||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(l.flags|=4194308)):(typeof B.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=pe),B.props=g,B.state=pe,B.context=De,g=le):(typeof B.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{B=l.stateNode,hs(o,l),le=l.memoizedProps,De=l.type===l.elementType?le:oa(l.type,le),B.props=De,Je=l.pendingProps,Ge=B.context,pe=h.contextType,typeof pe=="object"&&pe!==null?pe=Ar(pe):(pe=cs(h)?hl:Si.current,pe=Ql(l,pe));var it=h.getDerivedStateFromProps;(Ke=typeof it=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(le!==Je||Ge!==pe)&&X2(l,B,g,pe),Vr=!1,Ge=l.memoizedState,B.state=Ge,ji(l,g,B,b);var pt=l.memoizedState;le!==Je||Ge!==pt||us.current||Vr?(typeof it=="function"&&(Eg(l,h,it,g),pt=l.memoizedState),(De=Vr||Q2(l,h,De,g,Ge,pt,pe)||!1)?(Ke||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(g,pt,pe),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(g,pt,pe)),typeof B.componentDidUpdate=="function"&&(l.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof B.componentDidUpdate!="function"||le===o.memoizedProps&&Ge===o.memoizedState||(l.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||le===o.memoizedProps&&Ge===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=pt),B.props=g,B.state=pt,B.context=pe,g=De):(typeof B.componentDidUpdate!="function"||le===o.memoizedProps&&Ge===o.memoizedState||(l.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||le===o.memoizedProps&&Ge===o.memoizedState||(l.flags|=1024),g=!1)}return kg(o,l,h,g,E,b)}function kg(o,l,h,g,b,E){lv(o,l);var B=(l.flags&128)!==0;if(!g&&!B)return b&&zd(l,h,!1),pl(o,l,E);g=l.stateNode,$E.current=l;var le=B&&typeof h.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,o!==null&&B?(l.child=Fr(l,o.child,null,E),l.child=Fr(l,null,le,E)):Ls(o,l,le,E),l.memoizedState=g.state,b&&zd(l,h,!0),l.child}function cv(o){var l=o.stateNode;l.pendingContext?qd(o,l.pendingContext,l.pendingContext!==l.context):l.context&&qd(o,l.context,!1),Jl(o,l.containerInfo)}function hv(o,l,h,g,b){return at(),tt(b),l.flags|=256,Ls(o,l,h,g),l.child}var Cg={dehydrated:null,treeContext:null,retryLane:0};function Lg(o){return{baseLanes:o,cachePool:null,transitions:null}}function fv(o,l,h){var g=l.pendingProps,b=er.current,E=!1,B=(l.flags&128)!==0,le;if((le=B)||(le=o!==null&&o.memoizedState===null?!1:(b&2)!==0),le?(E=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(b|=1),Un(er,b&1),o===null)return ht(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(B=g.children,o=g.fallback,E?(g=l.mode,E=l.child,B={mode:"hidden",children:B},(g&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=B):E=cp(B,g,0,null),o=lc(o,g,h,null),E.return=l,o.return=l,E.sibling=o,l.child=E,l.child.memoizedState=Lg(h),l.memoizedState=Cg,o):Rg(l,B));if(b=o.memoizedState,b!==null&&(le=b.dehydrated,le!==null))return WE(o,l,B,g,le,b,h);if(E){E=g.fallback,B=l.mode,b=o.child,le=b.sibling;var pe={mode:"hidden",children:g.children};return(B&1)===0&&l.child!==b?(g=l.child,g.childLanes=0,g.pendingProps=pe,l.deletions=null):(g=ou(b,pe),g.subtreeFlags=b.subtreeFlags&14680064),le!==null?E=ou(le,E):(E=lc(E,B,h,null),E.flags|=2),E.return=l,g.return=l,g.sibling=E,l.child=g,g=E,E=l.child,B=o.child.memoizedState,B=B===null?Lg(h):{baseLanes:B.baseLanes|h,cachePool:null,transitions:B.transitions},E.memoizedState=B,E.childLanes=o.childLanes&~h,l.memoizedState=Cg,g}return E=o.child,o=E.sibling,g=ou(E,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=h),g.return=l,g.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=g,l.memoizedState=null,g}function Rg(o,l){return l=cp({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Jd(o,l,h,g){return g!==null&&tt(g),Fr(l,o.child,null,h),o=Rg(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function WE(o,l,h,g,b,E,B){if(h)return l.flags&256?(l.flags&=-257,g=Ng(Error(t(422))),Jd(o,l,B,g)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(E=g.fallback,b=l.mode,g=cp({mode:"visible",children:g.children},b,0,null),E=lc(E,b,B,null),E.flags|=2,g.return=l,E.return=l,g.sibling=E,l.child=g,(l.mode&1)!==0&&Fr(l,o.child,null,B),l.child.memoizedState=Lg(B),l.memoizedState=Cg,E);if((l.mode&1)===0)return Jd(o,l,B,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var le=g.dgst;return g=le,E=Error(t(419)),g=Ng(E,g,void 0),Jd(o,l,B,g)}if(le=(B&o.childLanes)!==0,Hs||le){if(g=Mi,g!==null){switch(B&-B){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|B))!==0?0:b,b!==0&&b!==E.retryLane&&(E.retryLane=b,$n(o,b),ua(g,o,b,-1))}return Yg(),g=Ng(Error(t(421))),Jd(o,l,B,g)}return b.data==="$?"?(l.flags|=128,l.child=o.child,l=sT.bind(null,o),b._reactRetry=l,null):(o=E.treeContext,Ve=$i(b.nextSibling),Me=l,qe=!0,ze=null,o!==null&&(Z[te++]=Ie,Z[te++]=re,Z[te++]=de,Ie=o.id,re=o.overflow,de=l),l=Rg(l,g.children),l.flags|=4096,l)}function dv(o,l,h){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),Tn(o.return,l,h)}function Dg(o,l,h,g,b){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:b}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=g,E.tail=h,E.tailMode=b)}function pv(o,l,h){var g=l.pendingProps,b=g.revealOrder,E=g.tail;if(Ls(o,l,g.children,h),g=er.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&dv(o,h,l);else if(o.tag===19)dv(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(Un(er,g),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(h=l.child,b=null;h!==null;)o=h.alternate,o!==null&&ho(o)===null&&(b=h),h=h.sibling;h=b,h===null?(b=l.child,l.child=null):(b=h.sibling,h.sibling=null),Dg(l,!1,b,h,E);break;case"backwards":for(h=null,b=l.child,l.child=null;b!==null;){if(o=b.alternate,o!==null&&ho(o)===null){l.child=b;break}o=b.sibling,b.sibling=h,h=b,b=o}Dg(l,!0,h,null,E);break;case"together":Dg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Xd(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function pl(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),ic|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,h=ou(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=ou(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function GE(o,l,h){switch(l.tag){case 3:cv(l),at();break;case 5:Hd(l);break;case 1:cs(l.type)&&fl(l);break;case 4:Jl(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,b=l.memoizedProps.value;Un($r,g._currentValue),g._currentValue=b;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Un(er,er.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?fv(o,l,h):(Un(er,er.current&1),o=pl(o,l,h),o!==null?o.sibling:null);Un(er,er.current&1);break;case 19:if(g=(h&l.childLanes)!==0,(o.flags&128)!==0){if(g)return pv(o,l,h);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Un(er,er.current),g)break;return null;case 22:case 23:return l.lanes=0,av(o,l,h)}return pl(o,l,h)}var mv,Og,gv,yv;mv=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Og=function(){},gv=function(o,l,h,g){var b=o.memoizedProps;if(b!==g){o=l.stateNode,ra(ai.current);var E=null;switch(h){case"input":b=Fe(o,b),g=Fe(o,g),E=[];break;case"select":b=_e({},b,{value:void 0}),g=_e({},g,{value:void 0}),E=[];break;case"textarea":b=zt(o,b),g=zt(o,g),E=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=Gl)}bn(h,g);var B;h=null;for(De in b)if(!g.hasOwnProperty(De)&&b.hasOwnProperty(De)&&b[De]!=null)if(De==="style"){var le=b[De];for(B in le)le.hasOwnProperty(B)&&(h||(h={}),h[B]="")}else De!=="dangerouslySetInnerHTML"&&De!=="children"&&De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&De!=="autoFocus"&&(i.hasOwnProperty(De)?E||(E=[]):(E=E||[]).push(De,null));for(De in g){var pe=g[De];if(le=b!=null?b[De]:void 0,g.hasOwnProperty(De)&&pe!==le&&(pe!=null||le!=null))if(De==="style")if(le){for(B in le)!le.hasOwnProperty(B)||pe&&pe.hasOwnProperty(B)||(h||(h={}),h[B]="");for(B in pe)pe.hasOwnProperty(B)&&le[B]!==pe[B]&&(h||(h={}),h[B]=pe[B])}else h||(E||(E=[]),E.push(De,h)),h=pe;else De==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,le=le?le.__html:void 0,pe!=null&&le!==pe&&(E=E||[]).push(De,pe)):De==="children"?typeof pe!="string"&&typeof pe!="number"||(E=E||[]).push(De,""+pe):De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&(i.hasOwnProperty(De)?(pe!=null&&De==="onScroll"&&zn("scroll",o),E||le===pe||(E=[])):(E=E||[]).push(De,pe))}h&&(E=E||[]).push("style",h);var De=E;(l.updateQueue=De)&&(l.flags|=4)}},yv=function(o,l,h,g){h!==g&&(l.flags|=4)};function gf(o,l){if(!qe)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function fs(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(l)for(var b=o.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=g,o.childLanes=h,l}function KE(o,l,h){var g=l.pendingProps;switch(ke(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fs(l),null;case 1:return cs(l.type)&&$c(),fs(l),null;case 3:return g=l.stateNode,jo(),On(us),On(Si),df(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(br(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ze!==null&&(Wg(ze),ze=null))),Og(o,l),fs(l),null;case 5:hf(l);var b=ra(Oa.current);if(h=l.type,o!==null&&l.stateNode!=null)gv(o,l,h,g,b),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(t(166));return fs(l),null}if(o=ra(ai.current),br(l)){g=l.stateNode,h=l.type;var E=l.memoizedProps;switch(g[Oo]=l,g[Kl]=E,o=(l.mode&1)!==0,h){case"dialog":zn("cancel",g),zn("close",g);break;case"iframe":case"object":case"embed":zn("load",g);break;case"video":case"audio":for(b=0;b<La.length;b++)zn(La[b],g);break;case"source":zn("error",g);break;case"img":case"image":case"link":zn("error",g),zn("load",g);break;case"details":zn("toggle",g);break;case"input":oe(g,E),zn("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!E.multiple},zn("invalid",g);break;case"textarea":_t(g,E),zn("invalid",g)}bn(h,E),b=null;for(var B in E)if(E.hasOwnProperty(B)){var le=E[B];B==="children"?typeof le=="string"?g.textContent!==le&&(E.suppressHydrationWarning!==!0&&Hc(g.textContent,le,o),b=["children",le]):typeof le=="number"&&g.textContent!==""+le&&(E.suppressHydrationWarning!==!0&&Hc(g.textContent,le,o),b=["children",""+le]):i.hasOwnProperty(B)&&le!=null&&B==="onScroll"&&zn("scroll",g)}switch(h){case"input":He(g),Et(g,E,!0);break;case"textarea":He(g),Ft(g);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(g.onclick=Gl)}g=b,l.updateQueue=g,g!==null&&(l.flags|=4)}else{B=b.nodeType===9?b:b.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=gt(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=B.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=B.createElement(h,{is:g.is}):(o=B.createElement(h),h==="select"&&(B=o,g.multiple?B.multiple=!0:g.size&&(B.size=g.size))):o=B.createElementNS(o,h),o[Oo]=l,o[Kl]=g,mv(o,l,!1,!1),l.stateNode=o;e:{switch(B=Nt(h,g),h){case"dialog":zn("cancel",o),zn("close",o),b=g;break;case"iframe":case"object":case"embed":zn("load",o),b=g;break;case"video":case"audio":for(b=0;b<La.length;b++)zn(La[b],o);b=g;break;case"source":zn("error",o),b=g;break;case"img":case"image":case"link":zn("error",o),zn("load",o),b=g;break;case"details":zn("toggle",o),b=g;break;case"input":oe(o,g),b=Fe(o,g),zn("invalid",o);break;case"option":b=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},b=_e({},g,{value:void 0}),zn("invalid",o);break;case"textarea":_t(o,g),b=zt(o,g),zn("invalid",o);break;default:b=g}bn(h,b),le=b;for(E in le)if(le.hasOwnProperty(E)){var pe=le[E];E==="style"?ft(o,pe):E==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,pe!=null&&xt(o,pe)):E==="children"?typeof pe=="string"?(h!=="textarea"||pe!=="")&&Tt(o,pe):typeof pe=="number"&&Tt(o,""+pe):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?pe!=null&&E==="onScroll"&&zn("scroll",o):pe!=null&&H(o,E,pe,B))}switch(h){case"input":He(o),Et(o,g,!1);break;case"textarea":He(o),Ft(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Ne(g.value));break;case"select":o.multiple=!!g.multiple,E=g.value,E!=null?et(o,!!g.multiple,E,!1):g.defaultValue!=null&&et(o,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(o.onclick=Gl)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return fs(l),null;case 6:if(o&&l.stateNode!=null)yv(o,l,o.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(t(166));if(h=ra(Oa.current),ra(ai.current),br(l)){if(g=l.stateNode,h=l.memoizedProps,g[Oo]=l,(E=g.nodeValue!==h)&&(o=Me,o!==null))switch(o.tag){case 3:Hc(g.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Hc(g.nodeValue,h,(o.mode&1)!==0)}E&&(l.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Oo]=l,l.stateNode=g}return fs(l),null;case 13:if(On(er),g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(qe&&Ve!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Qt(),at(),l.flags|=98560,E=!1;else if(E=br(l),g!==null&&g.dehydrated!==null){if(o===null){if(!E)throw Error(t(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[Oo]=l}else at(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;fs(l),E=!1}else ze!==null&&(Wg(ze),ze=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(er.current&1)!==0?Ei===0&&(Ei=3):Yg())),l.updateQueue!==null&&(l.flags|=4),fs(l),null);case 4:return jo(),Og(o,l),o===null&&al(l.stateNode.containerInfo),fs(l),null;case 10:return ir(l.type._context),fs(l),null;case 17:return cs(l.type)&&$c(),fs(l),null;case 19:if(On(er),E=l.memoizedState,E===null)return fs(l),null;if(g=(l.flags&128)!==0,B=E.rendering,B===null)if(g)gf(E,!1);else{if(Ei!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(B=ho(o),B!==null){for(l.flags|=128,gf(E,!1),g=B.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=h,h=l.child;h!==null;)E=h,o=g,E.flags&=14680066,B=E.alternate,B===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=B.childLanes,E.lanes=B.lanes,E.child=B.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=B.memoizedProps,E.memoizedState=B.memoizedState,E.updateQueue=B.updateQueue,E.type=B.type,o=B.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Un(er,er.current&1|2),l.child}o=o.sibling}E.tail!==null&&Pn()>ih&&(l.flags|=128,g=!0,gf(E,!1),l.lanes=4194304)}else{if(!g)if(o=ho(B),o!==null){if(l.flags|=128,g=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),gf(E,!0),E.tail===null&&E.tailMode==="hidden"&&!B.alternate&&!qe)return fs(l),null}else 2*Pn()-E.renderingStartTime>ih&&h!==1073741824&&(l.flags|=128,g=!0,gf(E,!1),l.lanes=4194304);E.isBackwards?(B.sibling=l.child,l.child=B):(h=E.last,h!==null?h.sibling=B:l.child=B,E.last=B)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=Pn(),l.sibling=null,h=er.current,Un(er,g?h&1|2:h&1),l):(fs(l),null);case 22:case 23:return Kg(),g=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(mo&1073741824)!==0&&(fs(l),l.subtreeFlags&6&&(l.flags|=8192)):fs(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function YE(o,l){switch(ke(l),l.tag){case 1:return cs(l.type)&&$c(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return jo(),On(us),On(Si),df(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return hf(l),null;case 13:if(On(er),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));at()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return On(er),null;case 4:return jo(),null;case 10:return ir(l.type._context),null;case 22:case 23:return Kg(),null;case 24:return null;default:return null}}var Zd=!1,ds=!1,QE=typeof WeakSet=="function"?WeakSet:Set,ct=null;function nh(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Br(o,l,g)}else h.current=null}function jg(o,l,h){try{h()}catch(g){Br(o,l,g)}}var vv=!1;function JE(o,l){if(Xu=Io,o=Mr(),lo(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var b=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var B=0,le=-1,pe=-1,De=0,Ke=0,Je=o,Ge=null;t:for(;;){for(var it;Je!==h||b!==0&&Je.nodeType!==3||(le=B+b),Je!==E||g!==0&&Je.nodeType!==3||(pe=B+g),Je.nodeType===3&&(B+=Je.nodeValue.length),(it=Je.firstChild)!==null;)Ge=Je,Je=it;for(;;){if(Je===o)break t;if(Ge===h&&++De===b&&(le=B),Ge===E&&++Ke===g&&(pe=B),(it=Je.nextSibling)!==null)break;Je=Ge,Ge=Je.parentNode}Je=it}h=le===-1||pe===-1?null:{start:le,end:pe}}else h=null}h=h||{start:0,end:0}}else h=null;for(ul={focusedElem:o,selectionRange:h},Io=!1,ct=l;ct!==null;)if(l=ct,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,ct=o;else for(;ct!==null;){l=ct;try{var pt=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var vt=pt.memoizedProps,Gr=pt.memoizedState,Pe=l.stateNode,ye=Pe.getSnapshotBeforeUpdate(l.elementType===l.type?vt:oa(l.type,vt),Gr);Pe.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:var Ce=l.stateNode.containerInfo;Ce.nodeType===1?Ce.textContent="":Ce.nodeType===9&&Ce.documentElement&&Ce.removeChild(Ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ze){Br(l,l.return,Ze)}if(o=l.sibling,o!==null){o.return=l.return,ct=o;break}ct=l.return}return pt=vv,vv=!1,pt}function yf(o,l,h){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&o)===o){var E=b.destroy;b.destroy=void 0,E!==void 0&&jg(l,h,E)}b=b.next}while(b!==g)}}function ep(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var g=h.create;h.destroy=g()}h=h.next}while(h!==l)}}function Mg(o){var l=o.ref;if(l!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof l=="function"?l(o):l.current=o}}function wv(o){var l=o.alternate;l!==null&&(o.alternate=null,wv(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Oo],delete l[Kl],delete l[ls],delete l[xg],delete l[bg])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function _v(o){return o.tag===5||o.tag===3||o.tag===4}function xv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||_v(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Fg(o,l,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Gl));else if(g!==4&&(o=o.child,o!==null))for(Fg(o,l,h),o=o.sibling;o!==null;)Fg(o,l,h),o=o.sibling}function Vg(o,l,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(Vg(o,l,h),o=o.sibling;o!==null;)Vg(o,l,h),o=o.sibling}var Wi=null,aa=!1;function tu(o,l,h){for(h=h.child;h!==null;)bv(o,l,h),h=h.sibling}function bv(o,l,h){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(Eo,h)}catch{}switch(h.tag){case 5:ds||nh(h,l);case 6:var g=Wi,b=aa;Wi=null,tu(o,l,h),Wi=g,aa=b,Wi!==null&&(aa?(o=Wi,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Wi.removeChild(h.stateNode));break;case 18:Wi!==null&&(aa?(o=Wi,h=h.stateNode,o.nodeType===8?lf(o.parentNode,h):o.nodeType===1&&lf(o,h),Ci(o)):lf(Wi,h.stateNode));break;case 4:g=Wi,b=aa,Wi=h.stateNode.containerInfo,aa=!0,tu(o,l,h),Wi=g,aa=b;break;case 0:case 11:case 14:case 15:if(!ds&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var E=b,B=E.destroy;E=E.tag,B!==void 0&&((E&2)!==0||(E&4)!==0)&&jg(h,l,B),b=b.next}while(b!==g)}tu(o,l,h);break;case 1:if(!ds&&(nh(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(le){Br(h,l,le)}tu(o,l,h);break;case 21:tu(o,l,h);break;case 22:h.mode&1?(ds=(g=ds)||h.memoizedState!==null,tu(o,l,h),ds=g):tu(o,l,h);break;default:tu(o,l,h)}}function Sv(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new QE),l.forEach(function(g){var b=oT.bind(null,o,g);h.has(g)||(h.add(g),g.then(b,b))})}}function la(o,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var b=h[g];try{var E=o,B=l,le=B;e:for(;le!==null;){switch(le.tag){case 5:Wi=le.stateNode,aa=!1;break e;case 3:Wi=le.stateNode.containerInfo,aa=!0;break e;case 4:Wi=le.stateNode.containerInfo,aa=!0;break e}le=le.return}if(Wi===null)throw Error(t(160));bv(E,B,b),Wi=null,aa=!1;var pe=b.alternate;pe!==null&&(pe.return=null),b.return=null}catch(De){Br(b,l,De)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Av(l,o),l=l.sibling}function Av(o,l){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(la(l,o),Ma(o),g&4){try{yf(3,o,o.return),ep(3,o)}catch(vt){Br(o,o.return,vt)}try{yf(5,o,o.return)}catch(vt){Br(o,o.return,vt)}}break;case 1:la(l,o),Ma(o),g&512&&h!==null&&nh(h,h.return);break;case 5:if(la(l,o),Ma(o),g&512&&h!==null&&nh(h,h.return),o.flags&32){var b=o.stateNode;try{Tt(b,"")}catch(vt){Br(o,o.return,vt)}}if(g&4&&(b=o.stateNode,b!=null)){var E=o.memoizedProps,B=h!==null?h.memoizedProps:E,le=o.type,pe=o.updateQueue;if(o.updateQueue=null,pe!==null)try{le==="input"&&E.type==="radio"&&E.name!=null&&tn(b,E),Nt(le,B);var De=Nt(le,E);for(B=0;B<pe.length;B+=2){var Ke=pe[B],Je=pe[B+1];Ke==="style"?ft(b,Je):Ke==="dangerouslySetInnerHTML"?xt(b,Je):Ke==="children"?Tt(b,Je):H(b,Ke,Je,De)}switch(le){case"input":qt(b,E);break;case"textarea":un(b,E);break;case"select":var Ge=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!E.multiple;var it=E.value;it!=null?et(b,!!E.multiple,it,!1):Ge!==!!E.multiple&&(E.defaultValue!=null?et(b,!!E.multiple,E.defaultValue,!0):et(b,!!E.multiple,E.multiple?[]:"",!1))}b[Kl]=E}catch(vt){Br(o,o.return,vt)}}break;case 6:if(la(l,o),Ma(o),g&4){if(o.stateNode===null)throw Error(t(162));b=o.stateNode,E=o.memoizedProps;try{b.nodeValue=E}catch(vt){Br(o,o.return,vt)}}break;case 3:if(la(l,o),Ma(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Ci(l.containerInfo)}catch(vt){Br(o,o.return,vt)}break;case 4:la(l,o),Ma(o);break;case 13:la(l,o),Ma(o),b=o.child,b.flags&8192&&(E=b.memoizedState!==null,b.stateNode.isHidden=E,!E||b.alternate!==null&&b.alternate.memoizedState!==null||(qg=Pn())),g&4&&Sv(o);break;case 22:if(Ke=h!==null&&h.memoizedState!==null,o.mode&1?(ds=(De=ds)||Ke,la(l,o),ds=De):la(l,o),Ma(o),g&8192){if(De=o.memoizedState!==null,(o.stateNode.isHidden=De)&&!Ke&&(o.mode&1)!==0)for(ct=o,Ke=o.child;Ke!==null;){for(Je=ct=Ke;ct!==null;){switch(Ge=ct,it=Ge.child,Ge.tag){case 0:case 11:case 14:case 15:yf(4,Ge,Ge.return);break;case 1:nh(Ge,Ge.return);var pt=Ge.stateNode;if(typeof pt.componentWillUnmount=="function"){g=Ge,h=Ge.return;try{l=g,pt.props=l.memoizedProps,pt.state=l.memoizedState,pt.componentWillUnmount()}catch(vt){Br(g,h,vt)}}break;case 5:nh(Ge,Ge.return);break;case 22:if(Ge.memoizedState!==null){Nv(Je);continue}}it!==null?(it.return=Ge,ct=it):Nv(Je)}Ke=Ke.sibling}e:for(Ke=null,Je=o;;){if(Je.tag===5){if(Ke===null){Ke=Je;try{b=Je.stateNode,De?(E=b.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(le=Je.stateNode,pe=Je.memoizedProps.style,B=pe!=null&&pe.hasOwnProperty("display")?pe.display:null,le.style.display=pn("display",B))}catch(vt){Br(o,o.return,vt)}}}else if(Je.tag===6){if(Ke===null)try{Je.stateNode.nodeValue=De?"":Je.memoizedProps}catch(vt){Br(o,o.return,vt)}}else if((Je.tag!==22&&Je.tag!==23||Je.memoizedState===null||Je===o)&&Je.child!==null){Je.child.return=Je,Je=Je.child;continue}if(Je===o)break e;for(;Je.sibling===null;){if(Je.return===null||Je.return===o)break e;Ke===Je&&(Ke=null),Je=Je.return}Ke===Je&&(Ke=null),Je.sibling.return=Je.return,Je=Je.sibling}}break;case 19:la(l,o),Ma(o),g&4&&Sv(o);break;case 21:break;default:la(l,o),Ma(o)}}function Ma(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(_v(h)){var g=h;break e}h=h.return}throw Error(t(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Tt(b,""),g.flags&=-33);var E=xv(o);Vg(o,E,b);break;case 3:case 4:var B=g.stateNode.containerInfo,le=xv(o);Fg(o,le,B);break;default:throw Error(t(161))}}catch(pe){Br(o,o.return,pe)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function XE(o,l,h){ct=o,Ev(o)}function Ev(o,l,h){for(var g=(o.mode&1)!==0;ct!==null;){var b=ct,E=b.child;if(b.tag===22&&g){var B=b.memoizedState!==null||Zd;if(!B){var le=b.alternate,pe=le!==null&&le.memoizedState!==null||ds;le=Zd;var De=ds;if(Zd=B,(ds=pe)&&!De)for(ct=b;ct!==null;)B=ct,pe=B.child,B.tag===22&&B.memoizedState!==null?Iv(b):pe!==null?(pe.return=B,ct=pe):Iv(b);for(;E!==null;)ct=E,Ev(E),E=E.sibling;ct=b,Zd=le,ds=De}Tv(o)}else(b.subtreeFlags&8772)!==0&&E!==null?(E.return=b,ct=E):Tv(o)}}function Tv(o){for(;ct!==null;){var l=ct;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:ds||ep(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!ds)if(h===null)g.componentDidMount();else{var b=l.elementType===l.type?h.memoizedProps:oa(l.type,h.memoizedProps);g.componentDidUpdate(b,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&zs(l,E,g);break;case 3:var B=l.updateQueue;if(B!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}zs(l,B,h)}break;case 5:var le=l.stateNode;if(h===null&&l.flags&4){h=le;var pe=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":pe.autoFocus&&h.focus();break;case"img":pe.src&&(h.src=pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var De=l.alternate;if(De!==null){var Ke=De.memoizedState;if(Ke!==null){var Je=Ke.dehydrated;Je!==null&&Ci(Je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ds||l.flags&512&&Mg(l)}catch(Ge){Br(l,l.return,Ge)}}if(l===o){ct=null;break}if(h=l.sibling,h!==null){h.return=l.return,ct=h;break}ct=l.return}}function Nv(o){for(;ct!==null;){var l=ct;if(l===o){ct=null;break}var h=l.sibling;if(h!==null){h.return=l.return,ct=h;break}ct=l.return}}function Iv(o){for(;ct!==null;){var l=ct;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{ep(4,l)}catch(pe){Br(l,h,pe)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var b=l.return;try{g.componentDidMount()}catch(pe){Br(l,b,pe)}}var E=l.return;try{Mg(l)}catch(pe){Br(l,E,pe)}break;case 5:var B=l.return;try{Mg(l)}catch(pe){Br(l,B,pe)}}}catch(pe){Br(l,l.return,pe)}if(l===o){ct=null;break}var le=l.sibling;if(le!==null){le.return=l.return,ct=le;break}ct=l.return}}var ZE=Math.ceil,tp=$.ReactCurrentDispatcher,Ug=$.ReactCurrentOwner,Vo=$.ReactCurrentBatchConfig,Nn=0,Mi=null,li=null,Gi=0,mo=0,rh=uo(0),Ei=0,vf=null,ic=0,np=0,Bg=0,wf=null,$s=null,qg=0,ih=1/0,ml=null,rp=!1,zg=null,nu=null,ip=!1,ru=null,sp=0,_f=0,Hg=null,op=-1,ap=0;function Rs(){return(Nn&6)!==0?Pn():op!==-1?op:op=Pn()}function iu(o){return(o.mode&1)===0?1:(Nn&2)!==0&&Gi!==0?Gi&-Gi:Ir.transition!==null?(ap===0&&(ap=Ko()),ap):(o=on,o!==0||(o=window.event,o=o===void 0?16:ko(o.type)),o)}function ua(o,l,h,g){if(50<_f)throw _f=0,Hg=null,Error(t(185));No(o,h,g),((Nn&2)===0||o!==Mi)&&(o===Mi&&((Nn&2)===0&&(np|=h),Ei===4&&su(o,Gi)),Ws(o,g),h===1&&Nn===0&&(l.mode&1)===0&&(ih=Pn()+500,ec&&k()))}function Ws(o,l){var h=o.callbackNode;Rn(o,l);var g=di(o,o===Mi?Gi:0);if(g===0)h!==null&&So(h),o.callbackNode=null,o.callbackPriority=0;else if(l=g&-g,o.callbackPriority!==l){if(h!=null&&So(h),l===1)o.tag===0?S(kv.bind(null,o)):v(kv.bind(null,o)),wg(function(){(Nn&6)===0&&k()}),h=null;else{switch(Bi(g)){case 1:h=Ao;break;case 4:h=zr;break;case 16:h=Pi;break;case 536870912:h=xa;break;default:h=Pi}h=Fv(h,Pv.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function Pv(o,l){if(op=-1,ap=0,(Nn&6)!==0)throw Error(t(327));var h=o.callbackNode;if(sh()&&o.callbackNode!==h)return null;var g=di(o,o===Mi?Gi:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||l)l=lp(o,g);else{l=g;var b=Nn;Nn|=2;var E=Lv();(Mi!==o||Gi!==l)&&(ml=null,ih=Pn()+500,oc(o,l));do try{nT();break}catch(le){Cv(o,le)}while(!0);En(),tp.current=E,Nn=b,li!==null?l=0:(Mi=null,Gi=0,l=Ei)}if(l!==0){if(l===2&&(b=pi(o),b!==0&&(g=b,l=$g(o,b))),l===1)throw h=vf,oc(o,0),su(o,g),Ws(o,Pn()),h;if(l===6)su(o,g);else{if(b=o.current.alternate,(g&30)===0&&!eT(b)&&(l=lp(o,g),l===2&&(E=pi(o),E!==0&&(g=E,l=$g(o,E))),l===1))throw h=vf,oc(o,0),su(o,g),Ws(o,Pn()),h;switch(o.finishedWork=b,o.finishedLanes=g,l){case 0:case 1:throw Error(t(345));case 2:ac(o,$s,ml);break;case 3:if(su(o,g),(g&130023424)===g&&(l=qg+500-Pn(),10<l)){if(di(o,0)!==0)break;if(b=o.suspendedLanes,(b&g)!==g){Rs(),o.pingedLanes|=o.suspendedLanes&b;break}o.timeoutHandle=af(ac.bind(null,o,$s,ml),l);break}ac(o,$s,ml);break;case 4:if(su(o,g),(g&4194240)===g)break;for(l=o.eventTimes,b=-1;0<g;){var B=31-Or(g);E=1<<B,B=l[B],B>b&&(b=B),g&=~E}if(g=b,g=Pn()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*ZE(g/1960))-g,10<g){o.timeoutHandle=af(ac.bind(null,o,$s,ml),g);break}ac(o,$s,ml);break;case 5:ac(o,$s,ml);break;default:throw Error(t(329))}}}return Ws(o,Pn()),o.callbackNode===h?Pv.bind(null,o):null}function $g(o,l){var h=wf;return o.current.memoizedState.isDehydrated&&(oc(o,l).flags|=256),o=lp(o,l),o!==2&&(l=$s,$s=h,l!==null&&Wg(l)),o}function Wg(o){$s===null?$s=o:$s.push.apply($s,o)}function eT(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var b=h[g],E=b.getSnapshot;b=b.value;try{if(!_r(E(),b))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function su(o,l){for(l&=~Bg,l&=~np,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-Or(l),g=1<<h;o[h]=-1,l&=~g}}function kv(o){if((Nn&6)!==0)throw Error(t(327));sh();var l=di(o,0);if((l&1)===0)return Ws(o,Pn()),null;var h=lp(o,l);if(o.tag!==0&&h===2){var g=pi(o);g!==0&&(l=g,h=$g(o,g))}if(h===1)throw h=vf,oc(o,0),su(o,l),Ws(o,Pn()),h;if(h===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,ac(o,$s,ml),Ws(o,Pn()),null}function Gg(o,l){var h=Nn;Nn|=1;try{return o(l)}finally{Nn=h,Nn===0&&(ih=Pn()+500,ec&&k())}}function sc(o){ru!==null&&ru.tag===0&&(Nn&6)===0&&sh();var l=Nn;Nn|=1;var h=Vo.transition,g=on;try{if(Vo.transition=null,on=1,o)return o()}finally{on=g,Vo.transition=h,Nn=l,(Nn&6)===0&&k()}}function Kg(){mo=rh.current,On(rh)}function oc(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,Ud(h)),li!==null)for(h=li.return;h!==null;){var g=h;switch(ke(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&$c();break;case 3:jo(),On(us),On(Si),df();break;case 5:hf(g);break;case 4:jo();break;case 13:On(er);break;case 19:On(er);break;case 10:ir(g.type._context);break;case 22:case 23:Kg()}h=h.return}if(Mi=o,li=o=ou(o.current,null),Gi=mo=l,Ei=0,vf=null,Bg=np=ic=0,$s=wf=null,Hn!==null){for(l=0;l<Hn.length;l++)if(h=Hn[l],g=h.interleaved,g!==null){h.interleaved=null;var b=g.next,E=h.pending;if(E!==null){var B=E.next;E.next=b,g.next=B}h.pending=g}Hn=null}return o}function Cv(o,l){do{var h=li;try{if(En(),Wc.current=Yd,Xl){for(var g=sr.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}Xl=!1}if(Mo=0,Lr=Ur=sr=null,ia=!1,Zl=0,Ug.current=null,h===null||h.return===null){Ei=1,vf=l,li=null;break}e:{var E=o,B=h.return,le=h,pe=l;if(l=Gi,le.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var De=pe,Ke=le,Je=Ke.tag;if((Ke.mode&1)===0&&(Je===0||Je===11||Je===15)){var Ge=Ke.alternate;Ge?(Ke.updateQueue=Ge.updateQueue,Ke.memoizedState=Ge.memoizedState,Ke.lanes=Ge.lanes):(Ke.updateQueue=null,Ke.memoizedState=null)}var it=nv(B);if(it!==null){it.flags&=-257,rv(it,B,le,E,l),it.mode&1&&tv(E,De,l),l=it,pe=De;var pt=l.updateQueue;if(pt===null){var vt=new Set;vt.add(pe),l.updateQueue=vt}else pt.add(pe);break e}else{if((l&1)===0){tv(E,De,l),Yg();break e}pe=Error(t(426))}}else if(qe&&le.mode&1){var Gr=nv(B);if(Gr!==null){(Gr.flags&65536)===0&&(Gr.flags|=256),rv(Gr,B,le,E,l),tt(th(pe,le));break e}}E=pe=th(pe,le),Ei!==4&&(Ei=2),wf===null?wf=[E]:wf.push(E),E=B;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var Pe=Z2(E,pe,l);Wn(E,Pe);break e;case 1:le=pe;var ye=E.type,Ce=E.stateNode;if((E.flags&128)===0&&(typeof ye.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(nu===null||!nu.has(Ce)))){E.flags|=65536,l&=-l,E.lanes|=l;var Ze=ev(E,le,l);Wn(E,Ze);break e}}E=E.return}while(E!==null)}Dv(h)}catch(St){l=St,li===h&&h!==null&&(li=h=h.return);continue}break}while(!0)}function Lv(){var o=tp.current;return tp.current=Yd,o===null?Yd:o}function Yg(){(Ei===0||Ei===3||Ei===2)&&(Ei=4),Mi===null||(ic&268435455)===0&&(np&268435455)===0||su(Mi,Gi)}function lp(o,l){var h=Nn;Nn|=2;var g=Lv();(Mi!==o||Gi!==l)&&(ml=null,oc(o,l));do try{tT();break}catch(b){Cv(o,b)}while(!0);if(En(),Nn=h,tp.current=g,li!==null)throw Error(t(261));return Mi=null,Gi=0,Ei}function tT(){for(;li!==null;)Rv(li)}function nT(){for(;li!==null&&!$o();)Rv(li)}function Rv(o){var l=Mv(o.alternate,o,mo);o.memoizedProps=o.pendingProps,l===null?Dv(o):li=l,Ug.current=null}function Dv(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=KE(h,l,mo),h!==null){li=h;return}}else{if(h=YE(h,l),h!==null){h.flags&=32767,li=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Ei=6,li=null;return}}if(l=l.sibling,l!==null){li=l;return}li=l=o}while(l!==null);Ei===0&&(Ei=5)}function ac(o,l,h){var g=on,b=Vo.transition;try{Vo.transition=null,on=1,rT(o,l,h,g)}finally{Vo.transition=b,on=g}return null}function rT(o,l,h,g){do sh();while(ru!==null);if((Nn&6)!==0)throw Error(t(327));h=o.finishedWork;var b=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var E=h.lanes|h.childLanes;if(hn(o,E),o===Mi&&(li=Mi=null,Gi=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||ip||(ip=!0,Fv(Pi,function(){return sh(),null})),E=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||E){E=Vo.transition,Vo.transition=null;var B=on;on=1;var le=Nn;Nn|=4,Ug.current=null,JE(o,h),Av(h,o),Hu(ul),Io=!!Xu,ul=Xu=null,o.current=h,XE(h),qu(),Nn=le,on=B,Vo.transition=E}else o.current=h;if(ip&&(ip=!1,ru=o,sp=b),E=o.pendingLanes,E===0&&(nu=null),Ya(h.stateNode),Ws(o,Pn()),l!==null)for(g=o.onRecoverableError,h=0;h<l.length;h++)b=l[h],g(b.value,{componentStack:b.stack,digest:b.digest});if(rp)throw rp=!1,o=zg,zg=null,o;return(sp&1)!==0&&o.tag!==0&&sh(),E=o.pendingLanes,(E&1)!==0?o===Hg?_f++:(_f=0,Hg=o):_f=0,k(),null}function sh(){if(ru!==null){var o=Bi(sp),l=Vo.transition,h=on;try{if(Vo.transition=null,on=16>o?16:o,ru===null)var g=!1;else{if(o=ru,ru=null,sp=0,(Nn&6)!==0)throw Error(t(331));var b=Nn;for(Nn|=4,ct=o.current;ct!==null;){var E=ct,B=E.child;if((ct.flags&16)!==0){var le=E.deletions;if(le!==null){for(var pe=0;pe<le.length;pe++){var De=le[pe];for(ct=De;ct!==null;){var Ke=ct;switch(Ke.tag){case 0:case 11:case 15:yf(8,Ke,E)}var Je=Ke.child;if(Je!==null)Je.return=Ke,ct=Je;else for(;ct!==null;){Ke=ct;var Ge=Ke.sibling,it=Ke.return;if(wv(Ke),Ke===De){ct=null;break}if(Ge!==null){Ge.return=it,ct=Ge;break}ct=it}}}var pt=E.alternate;if(pt!==null){var vt=pt.child;if(vt!==null){pt.child=null;do{var Gr=vt.sibling;vt.sibling=null,vt=Gr}while(vt!==null)}}ct=E}}if((E.subtreeFlags&2064)!==0&&B!==null)B.return=E,ct=B;else e:for(;ct!==null;){if(E=ct,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:yf(9,E,E.return)}var Pe=E.sibling;if(Pe!==null){Pe.return=E.return,ct=Pe;break e}ct=E.return}}var ye=o.current;for(ct=ye;ct!==null;){B=ct;var Ce=B.child;if((B.subtreeFlags&2064)!==0&&Ce!==null)Ce.return=B,ct=Ce;else e:for(B=ye;ct!==null;){if(le=ct,(le.flags&2048)!==0)try{switch(le.tag){case 0:case 11:case 15:ep(9,le)}}catch(St){Br(le,le.return,St)}if(le===B){ct=null;break e}var Ze=le.sibling;if(Ze!==null){Ze.return=le.return,ct=Ze;break e}ct=le.return}}if(Nn=b,k(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(Eo,o)}catch{}g=!0}return g}finally{on=h,Vo.transition=l}}return!1}function Ov(o,l,h){l=th(h,l),l=Z2(o,l,1),o=kr(o,l,1),l=Rs(),o!==null&&(No(o,1,l),Ws(o,l))}function Br(o,l,h){if(o.tag===3)Ov(o,o,h);else for(;l!==null;){if(l.tag===3){Ov(l,o,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(nu===null||!nu.has(g))){o=th(h,o),o=ev(l,o,1),l=kr(l,o,1),o=Rs(),l!==null&&(No(l,1,o),Ws(l,o));break}}l=l.return}}function iT(o,l,h){var g=o.pingCache;g!==null&&g.delete(l),l=Rs(),o.pingedLanes|=o.suspendedLanes&h,Mi===o&&(Gi&h)===h&&(Ei===4||Ei===3&&(Gi&130023424)===Gi&&500>Pn()-qg?oc(o,0):Bg|=h),Ws(o,l)}function jv(o,l){l===0&&((o.mode&1)===0?l=1:(l=ts,ts<<=1,(ts&130023424)===0&&(ts=4194304)));var h=Rs();o=$n(o,l),o!==null&&(No(o,l,h),Ws(o,h))}function sT(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),jv(o,h)}function oT(o,l){var h=0;switch(o.tag){case 13:var g=o.stateNode,b=o.memoizedState;b!==null&&(h=b.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(l),jv(o,h)}var Mv;Mv=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||us.current)Hs=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return Hs=!1,GE(o,l,h);Hs=(o.flags&131072)!==0}else Hs=!1,qe&&(l.flags&1048576)!==0&&Ae(l,K,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Xd(o,l),o=l.pendingProps;var b=Ql(l,Si.current);Sr(l,h),b=tc(null,l,g,o,b,h);var E=Fo();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,cs(g)?(E=!0,fl(l)):E=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Ai(l),b.updater=Qd,l.stateNode=b,b._reactInternals=l,Tg(l,g,o,h),l=kg(null,l,g,!0,E,h)):(l.tag=0,qe&&E&&Ue(l),Ls(null,l,b,h),l=l.child),l;case 16:g=l.elementType;e:{switch(Xd(o,l),o=l.pendingProps,b=g._init,g=b(g._payload),l.type=g,b=l.tag=lT(g),o=oa(g,o),b){case 0:l=Pg(null,l,g,o,h);break e;case 1:l=uv(null,l,g,o,h);break e;case 11:l=iv(null,l,g,o,h);break e;case 14:l=sv(null,l,g,oa(g.type,o),h);break e}throw Error(t(306,g,""))}return l;case 0:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:oa(g,b),Pg(o,l,g,b,h);case 1:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:oa(g,b),uv(o,l,g,b,h);case 3:e:{if(cv(l),o===null)throw Error(t(387));g=l.pendingProps,E=l.memoizedState,b=E.element,hs(o,l),ji(l,g,null,h);var B=l.memoizedState;if(g=B.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){b=th(Error(t(423)),l),l=hv(o,l,g,h,b);break e}else if(g!==b){b=th(Error(t(424)),l),l=hv(o,l,g,h,b);break e}else for(Ve=$i(l.stateNode.containerInfo.firstChild),Me=l,qe=!0,ze=null,h=cr(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(at(),g===b){l=pl(o,l,h);break e}Ls(o,l,g,h)}l=l.child}return l;case 5:return Hd(l),o===null&&ht(l),g=l.type,b=l.pendingProps,E=o!==null?o.memoizedProps:null,B=b.children,of(g,b)?B=null:E!==null&&of(g,E)&&(l.flags|=32),lv(o,l),Ls(o,l,B,h),l.child;case 6:return o===null&&ht(l),null;case 13:return fv(o,l,h);case 4:return Jl(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=Fr(l,null,g,h):Ls(o,l,g,h),l.child;case 11:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:oa(g,b),iv(o,l,g,b,h);case 7:return Ls(o,l,l.pendingProps,h),l.child;case 8:return Ls(o,l,l.pendingProps.children,h),l.child;case 12:return Ls(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(g=l.type._context,b=l.pendingProps,E=l.memoizedProps,B=b.value,Un($r,g._currentValue),g._currentValue=B,E!==null)if(_r(E.value,B)){if(E.children===b.children&&!us.current){l=pl(o,l,h);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var le=E.dependencies;if(le!==null){B=E.child;for(var pe=le.firstContext;pe!==null;){if(pe.context===g){if(E.tag===1){pe=Pr(-1,h&-h),pe.tag=2;var De=E.updateQueue;if(De!==null){De=De.shared;var Ke=De.pending;Ke===null?pe.next=pe:(pe.next=Ke.next,Ke.next=pe),De.pending=pe}}E.lanes|=h,pe=E.alternate,pe!==null&&(pe.lanes|=h),Tn(E.return,h,l),le.lanes|=h;break}pe=pe.next}}else if(E.tag===10)B=E.type===l.type?null:E.child;else if(E.tag===18){if(B=E.return,B===null)throw Error(t(341));B.lanes|=h,le=B.alternate,le!==null&&(le.lanes|=h),Tn(B,h,l),B=E.sibling}else B=E.child;if(B!==null)B.return=E;else for(B=E;B!==null;){if(B===l){B=null;break}if(E=B.sibling,E!==null){E.return=B.return,B=E;break}B=B.return}E=B}Ls(o,l,b.children,h),l=l.child}return l;case 9:return b=l.type,g=l.pendingProps.children,Sr(l,h),b=Ar(b),g=g(b),l.flags|=1,Ls(o,l,g,h),l.child;case 14:return g=l.type,b=oa(g,l.pendingProps),b=oa(g.type,b),sv(o,l,g,b,h);case 15:return ov(o,l,l.type,l.pendingProps,h);case 17:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:oa(g,b),Xd(o,l),l.tag=1,cs(g)?(o=!0,fl(l)):o=!1,Sr(l,h),J2(l,g,b),Tg(l,g,b,h),kg(null,l,g,!0,o,h);case 19:return pv(o,l,h);case 22:return av(o,l,h)}throw Error(t(156,l.tag))};function Fv(o,l){return to(o,l)}function aT(o,l,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uo(o,l,h,g){return new aT(o,l,h,g)}function Qg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function lT(o){if(typeof o=="function")return Qg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===j)return 11;if(o===Se)return 14}return 2}function ou(o,l){var h=o.alternate;return h===null?(h=Uo(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function up(o,l,h,g,b,E){var B=2;if(g=o,typeof o=="function")Qg(o)&&(B=1);else if(typeof o=="string")B=5;else e:switch(o){case W:return lc(h.children,b,E,l);case R:B=8,b|=8;break;case L:return o=Uo(12,h,l,b|2),o.elementType=L,o.lanes=E,o;case M:return o=Uo(13,h,l,b),o.elementType=M,o.lanes=E,o;case se:return o=Uo(19,h,l,b),o.elementType=se,o.lanes=E,o;case Ee:return cp(h,b,E,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case q:B=10;break e;case C:B=9;break e;case j:B=11;break e;case Se:B=14;break e;case xe:B=16,g=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=Uo(B,h,l,b),l.elementType=o,l.type=g,l.lanes=E,l}function lc(o,l,h,g){return o=Uo(7,o,g,l),o.lanes=h,o}function cp(o,l,h,g){return o=Uo(22,o,g,l),o.elementType=Ee,o.lanes=h,o.stateNode={isHidden:!1},o}function Jg(o,l,h){return o=Uo(6,o,null,l),o.lanes=h,o}function Xg(o,l,h){return l=Uo(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function uT(o,l,h,g,b){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=To(0),this.expirationTimes=To(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=To(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Zg(o,l,h,g,b,E,B,le,pe){return o=new uT(o,l,h,le,pe),l===1?(l=1,E===!0&&(l|=8)):l=0,E=Uo(3,null,null,l),o.current=E,E.stateNode=o,E.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ai(E),o}function cT(o,l,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ge,key:g==null?null:""+g,children:o,containerInfo:l,implementation:h}}function Vv(o){if(!o)return Da;o=o._reactInternals;e:{if(Tr(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(cs(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var h=o.type;if(cs(h))return cf(o,h,l)}return l}function Uv(o,l,h,g,b,E,B,le,pe){return o=Zg(h,g,!0,o,b,E,B,le,pe),o.context=Vv(null),h=o.current,g=Rs(),b=iu(h),E=Pr(g,b),E.callback=l??null,kr(h,E,b),o.current.lanes=b,No(o,b,g),Ws(o,g),o}function hp(o,l,h,g){var b=l.current,E=Rs(),B=iu(b);return h=Vv(h),l.context===null?l.context=h:l.pendingContext=h,l=Pr(E,B),l.payload={element:o},g=g===void 0?null:g,g!==null&&(l.callback=g),o=kr(b,l,B),o!==null&&(ua(o,b,B,E),Oi(o,b,B)),B}function fp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Bv(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function e0(o,l){Bv(o,l),(o=o.alternate)&&Bv(o,l)}function hT(){return null}var qv=typeof reportError=="function"?reportError:function(o){console.error(o)};function t0(o){this._internalRoot=o}dp.prototype.render=t0.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));hp(o,l,null,null)},dp.prototype.unmount=t0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;sc(function(){hp(null,o,null,null)}),l[Ri]=null}};function dp(o){this._internalRoot=o}dp.prototype.unstable_scheduleHydration=function(o){if(o){var l=jl();o={blockedOn:null,target:o,priority:l};for(var h=0;h<js.length&&l!==0&&l<js[h].priority;h++);js.splice(h,0,o),h===0&&Fl(o)}};function n0(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function zv(){}function fT(o,l,h,g,b){if(b){if(typeof g=="function"){var E=g;g=function(){var De=fp(B);E.call(De)}}var B=Uv(l,g,o,0,null,!1,!1,"",zv);return o._reactRootContainer=B,o[Ri]=B.current,al(o.nodeType===8?o.parentNode:o),sc(),B}for(;b=o.lastChild;)o.removeChild(b);if(typeof g=="function"){var le=g;g=function(){var De=fp(pe);le.call(De)}}var pe=Zg(o,0,!1,null,null,!1,!1,"",zv);return o._reactRootContainer=pe,o[Ri]=pe.current,al(o.nodeType===8?o.parentNode:o),sc(function(){hp(l,pe,h,g)}),pe}function mp(o,l,h,g,b){var E=h._reactRootContainer;if(E){var B=E;if(typeof b=="function"){var le=b;b=function(){var pe=fp(B);le.call(pe)}}hp(l,B,o,b)}else B=fT(h,l,o,b,g);return fp(B)}ba=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=ns(l.pendingLanes);h!==0&&(no(l,h|1),Ws(l,Pn()),(Nn&6)===0&&(ih=Pn()+500,k()))}break;case 13:sc(function(){var g=$n(o,1);if(g!==null){var b=Rs();ua(g,o,1,b)}}),e0(o,1)}},Sa=function(o){if(o.tag===13){var l=$n(o,134217728);if(l!==null){var h=Rs();ua(l,o,134217728,h)}e0(o,134217728)}},Ol=function(o){if(o.tag===13){var l=iu(o),h=$n(o,l);if(h!==null){var g=Rs();ua(h,o,l,g)}e0(o,l)}},jl=function(){return on},Aa=function(o,l){var h=on;try{return on=o,l()}finally{on=h}},Qn=function(o,l,h){switch(l){case"input":if(qt(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==o&&g.form===o.form){var b=Zu(g);if(!b)throw Error(t(90));nt(g),qt(g,b)}}}break;case"textarea":un(o,h);break;case"select":l=h.value,l!=null&&et(o,!!h.multiple,l,!1)}},pr=Gg,Es=sc;var dT={usingClientEntryPoint:!1,Events:[Yl,cl,Zu,rn,Zs,Gg]},xf={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pT={bundleType:xf.bundleType,version:xf.version,rendererPackageName:xf.rendererPackageName,rendererConfig:xf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=es(o),o===null?null:o.stateNode},findFiberByHostInstance:xf.findFiberByHostInstance||hT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gp.isDisabled&&gp.supportsFiber)try{Eo=gp.inject(pT),ki=gp}catch{}}return Gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dT,Gs.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n0(l))throw Error(t(200));return cT(o,l,null,h)},Gs.createRoot=function(o,l){if(!n0(o))throw Error(t(299));var h=!1,g="",b=qv;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=Zg(o,1,!1,null,null,h,!1,g,b),o[Ri]=l.current,al(o.nodeType===8?o.parentNode:o),new t0(l)},Gs.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=es(l),o=o===null?null:o.stateNode,o},Gs.flushSync=function(o){return sc(o)},Gs.hydrate=function(o,l,h){if(!pp(l))throw Error(t(200));return mp(null,o,l,!0,h)},Gs.hydrateRoot=function(o,l,h){if(!n0(o))throw Error(t(405));var g=h!=null&&h.hydratedSources||null,b=!1,E="",B=qv;if(h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(B=h.onRecoverableError)),l=Uv(l,null,o,1,h??null,b,!1,E,B),o[Ri]=l.current,al(o),g)for(o=0;o<g.length;o++)h=g[o],b=h._getVersion,b=b(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,b]:l.mutableSourceEagerHydrationData.push(h,b);return new dp(l)},Gs.render=function(o,l,h){if(!pp(l))throw Error(t(200));return mp(null,o,l,!1,h)},Gs.unmountComponentAtNode=function(o){if(!pp(o))throw Error(t(40));return o._reactRootContainer?(sc(function(){mp(null,null,o,!1,function(){o._reactRootContainer=null,o[Ri]=null})}),!0):!1},Gs.unstable_batchedUpdates=Gg,Gs.unstable_renderSubtreeIntoContainer=function(o,l,h,g){if(!pp(h))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return mp(o,l,h,!1,g)},Gs.version="18.3.1-next-f1338f8080-20240426",Gs}var Jv;function gb(){if(Jv)return s0.exports;Jv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),s0.exports=TT(),s0.exports}var Xv;function NT(){if(Xv)return yp;Xv=1;var n=gb();return yp.createRoot=n.createRoot,yp.hydrateRoot=n.hydrateRoot,yp}var IT=NT();gb();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yf(){return Yf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yf.apply(this,arguments)}var yu;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(yu||(yu={}));const Zv="popstate";function PT(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:a,hash:u}=r.location;return r1("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:im(i)}return CT(e,t,null,n)}function Zr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function yb(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kT(){return Math.random().toString(36).substr(2,8)}function e5(n,e){return{usr:n.state,key:n.key,idx:e}}function r1(n,e,t,r){return t===void 0&&(t=null),Yf({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Fh(e):e,{state:t,key:e&&e.key||r||kT()})}function im(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function CT(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,u=yu.Pop,c=null,f=d();f==null&&(f=0,a.replaceState(Yf({},a.state,{idx:f}),""));function d(){return(a.state||{idx:null}).idx}function y(){u=yu.Pop;let P=d(),F=P==null?null:P-f;f=P,c&&c({action:u,location:I.location,delta:F})}function _(P,F){u=yu.Push;let Y=r1(I.location,P,F);f=d()+1;let H=e5(Y,f),$=I.createHref(Y);try{a.pushState(H,"",$)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;i.location.assign($)}s&&c&&c({action:u,location:I.location,delta:1})}function w(P,F){u=yu.Replace;let Y=r1(I.location,P,F);f=d();let H=e5(Y,f),$=I.createHref(Y);a.replaceState(H,"",$),s&&c&&c({action:u,location:I.location,delta:0})}function T(P){let F=i.location.origin!=="null"?i.location.origin:i.location.href,Y=typeof P=="string"?P:im(P);return Y=Y.replace(/ $/,"%20"),Zr(F,"No window.location.(origin|href) available to create URL for href: "+Y),new URL(Y,F)}let I={get action(){return u},get location(){return n(i,a)},listen(P){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Zv,y),c=P,()=>{i.removeEventListener(Zv,y),c=null}},createHref(P){return e(i,P)},createURL:T,encodeLocation(P){let F=T(P);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:_,replace:w,go(P){return a.go(P)}};return I}var t5;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(t5||(t5={}));function LT(n,e,t){return t===void 0&&(t="/"),RT(n,e,t)}function RT(n,e,t,r){let i=typeof e=="string"?Fh(e):e,s=uy(i.pathname||"/",t);if(s==null)return null;let a=vb(n);DT(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let f=WT(s);u=zT(a[c],f)}return u}function vb(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Zr(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=xu([r,c.relativePath]),d=t.concat(c);s.children&&s.children.length>0&&(Zr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),vb(s.children,e,d,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:BT(f,s.index),routesMeta:d})};return n.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let c of wb(s.path))i(s,a,c)}),e}function wb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=wb(r.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...a),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function DT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:qT(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const OT=/^:[\w-]+$/,jT=3,MT=2,FT=1,VT=10,UT=-2,n5=n=>n==="*";function BT(n,e){let t=n.split("/"),r=t.length;return t.some(n5)&&(r+=UT),e&&(r+=MT),t.filter(i=>!n5(i)).reduce((i,s)=>i+(OT.test(s)?jT:s===""?FT:VT),r)}function qT(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function zT(n,e,t){let{routesMeta:r}=n,i={},s="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",y=HT({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},d),_=c.route;if(!y)return null;Object.assign(i,y.params),a.push({params:i,pathname:xu([s,y.pathname]),pathnameBase:QT(xu([s,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(s=xu([s,y.pathnameBase]))}return a}function HT(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=$T(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,d,y)=>{let{paramName:_,isOptional:w}=d;if(_==="*"){let I=u[y]||"";a=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const T=u[y];return w&&!T?f[_]=void 0:f[_]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:n}}function $T(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),yb(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yb(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function uy(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function GT(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Fh(n):n;return{pathname:t?t.startsWith("/")?t:KT(t,e):e,search:JT(r),hash:XT(i)}}function KT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function l0(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cy(n,e){let t=YT(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function hy(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Fh(n):(i=Yf({},n),Zr(!i.pathname||!i.pathname.includes("?"),l0("?","pathname","search",i)),Zr(!i.pathname||!i.pathname.includes("#"),l0("#","pathname","hash",i)),Zr(!i.search||!i.search.includes("#"),l0("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=t;else{let y=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}u=y>=0?e[y]:"/"}let c=GT(i,u),f=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||d)&&(c.pathname+="/"),c}const xu=n=>n.join("/").replace(/\/\/+/g,"/"),QT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),JT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,XT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ZT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const _b=["post","put","patch","delete"];new Set(_b);const eN=["get",..._b];new Set(eN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qf.apply(this,arguments)}const fy=Re.createContext(null),tN=Re.createContext(null),Du=Re.createContext(null),Dm=Re.createContext(null),Ou=Re.createContext({outlet:null,matches:[],isDataRoute:!1}),xb=Re.createContext(null);function nN(n,e){let{relative:t}=e===void 0?{}:e;Vh()||Zr(!1);let{basename:r,navigator:i}=Re.useContext(Du),{hash:s,pathname:a,search:u}=Ab(n,{relative:t}),c=a;return r!=="/"&&(c=a==="/"?r:xu([r,a])),i.createHref({pathname:c,search:u,hash:s})}function Vh(){return Re.useContext(Dm)!=null}function Uh(){return Vh()||Zr(!1),Re.useContext(Dm).location}function bb(n){Re.useContext(Du).static||Re.useLayoutEffect(n)}function Sb(){let{isDataRoute:n}=Re.useContext(Ou);return n?mN():rN()}function rN(){Vh()||Zr(!1);let n=Re.useContext(fy),{basename:e,future:t,navigator:r}=Re.useContext(Du),{matches:i}=Re.useContext(Ou),{pathname:s}=Uh(),a=JSON.stringify(cy(i,t.v7_relativeSplatPath)),u=Re.useRef(!1);return bb(()=>{u.current=!0}),Re.useCallback(function(f,d){if(d===void 0&&(d={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let y=hy(f,JSON.parse(a),s,d.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:xu([e,y.pathname])),(d.replace?r.replace:r.push)(y,d.state,d)},[e,r,a,s,n])}function Ab(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=Re.useContext(Du),{matches:i}=Re.useContext(Ou),{pathname:s}=Uh(),a=JSON.stringify(cy(i,r.v7_relativeSplatPath));return Re.useMemo(()=>hy(n,JSON.parse(a),s,t==="path"),[n,a,s,t])}function iN(n,e){return sN(n,e)}function sN(n,e,t,r){Vh()||Zr(!1);let{navigator:i}=Re.useContext(Du),{matches:s}=Re.useContext(Ou),a=s[s.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let f=Uh(),d;if(e){var y;let P=typeof e=="string"?Fh(e):e;c==="/"||(y=P.pathname)!=null&&y.startsWith(c)||Zr(!1),d=P}else d=f;let _=d.pathname||"/",w=_;if(c!=="/"){let P=c.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(P.length).join("/")}let T=LT(n,{pathname:w}),I=cN(T&&T.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:xu([c,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?c:xu([c,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,t,r);return e&&I?Re.createElement(Dm.Provider,{value:{location:Qf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:yu.Pop}},I):I}function oN(){let n=pN(),e=ZT(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Re.createElement(Re.Fragment,null,Re.createElement("h2",null,"Unexpected Application Error!"),Re.createElement("h3",{style:{fontStyle:"italic"}},e),t?Re.createElement("pre",{style:i},t):null,null)}const aN=Re.createElement(oN,null);class lN extends Re.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Re.createElement(Ou.Provider,{value:this.props.routeContext},Re.createElement(xb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uN(n){let{routeContext:e,match:t,children:r}=n,i=Re.useContext(fy);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Re.createElement(Ou.Provider,{value:e},r)}function cN(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=(i=t)==null?void 0:i.errors;if(u!=null){let d=a.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);d>=0||Zr(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,f=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let y=a[d];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=d),y.route.id){let{loaderData:_,errors:w}=t,T=y.route.loader&&_[y.route.id]===void 0&&(!w||w[y.route.id]===void 0);if(y.route.lazy||T){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((d,y,_)=>{let w,T=!1,I=null,P=null;t&&(w=u&&y.route.id?u[y.route.id]:void 0,I=y.route.errorElement||aN,c&&(f<0&&_===0?(gN("route-fallback"),T=!0,P=null):f===_&&(T=!0,P=y.route.hydrateFallbackElement||null)));let F=e.concat(a.slice(0,_+1)),Y=()=>{let H;return w?H=I:T?H=P:y.route.Component?H=Re.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=d,Re.createElement(uN,{match:y,routeContext:{outlet:d,matches:F,isDataRoute:t!=null},children:H})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?Re.createElement(lN,{location:t.location,revalidation:t.revalidation,component:I,error:w,children:Y(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):Y()},null)}var Eb=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(Eb||{}),Tb=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(Tb||{});function hN(n){let e=Re.useContext(fy);return e||Zr(!1),e}function fN(n){let e=Re.useContext(tN);return e||Zr(!1),e}function dN(n){let e=Re.useContext(Ou);return e||Zr(!1),e}function Nb(n){let e=dN(),t=e.matches[e.matches.length-1];return t.route.id||Zr(!1),t.route.id}function pN(){var n;let e=Re.useContext(xb),t=fN(),r=Nb();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function mN(){let{router:n}=hN(Eb.UseNavigateStable),e=Nb(Tb.UseNavigateStable),t=Re.useRef(!1);return bb(()=>{t.current=!0}),Re.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Qf({fromRouteId:e},s)))},[n,e])}const r5={};function gN(n,e,t){r5[n]||(r5[n]=!0)}function yN(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function vN(n){let{to:e,replace:t,state:r,relative:i}=n;Vh()||Zr(!1);let{future:s,static:a}=Re.useContext(Du),{matches:u}=Re.useContext(Ou),{pathname:c}=Uh(),f=Sb(),d=hy(e,cy(u,s.v7_relativeSplatPath),c,i==="path"),y=JSON.stringify(d);return Re.useEffect(()=>f(JSON.parse(y),{replace:t,state:r,relative:i}),[f,y,i,t,r]),null}function hu(n){Zr(!1)}function wN(n){let{basename:e="/",children:t=null,location:r,navigationType:i=yu.Pop,navigator:s,static:a=!1,future:u}=n;Vh()&&Zr(!1);let c=e.replace(/^\/*/,"/"),f=Re.useMemo(()=>({basename:c,navigator:s,static:a,future:Qf({v7_relativeSplatPath:!1},u)}),[c,u,s,a]);typeof r=="string"&&(r=Fh(r));let{pathname:d="/",search:y="",hash:_="",state:w=null,key:T="default"}=r,I=Re.useMemo(()=>{let P=uy(d,c);return P==null?null:{location:{pathname:P,search:y,hash:_,state:w,key:T},navigationType:i}},[c,d,y,_,w,T,i]);return I==null?null:Re.createElement(Du.Provider,{value:f},Re.createElement(Dm.Provider,{children:t,value:I}))}function i5(n){let{children:e,location:t}=n;return iN(i1(e),t)}new Promise(()=>{});function i1(n,e){e===void 0&&(e=[]);let t=[];return Re.Children.forEach(n,(r,i)=>{if(!Re.isValidElement(r))return;let s=[...e,i];if(r.type===Re.Fragment){t.push.apply(t,i1(r.props.children,s));return}r.type!==hu&&Zr(!1),!r.props.index||!r.props.children||Zr(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=i1(r.props.children,s)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function s1(){return s1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},s1.apply(this,arguments)}function _N(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function xN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bN(n,e){return n.button===0&&(!e||e==="_self")&&!xN(n)}const SN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AN="6";try{window.__reactRouterVersion=AN}catch{}const EN="startTransition",s5=ST[EN];function TN(n){let{basename:e,children:t,future:r,window:i}=n,s=Re.useRef();s.current==null&&(s.current=PT({window:i,v5Compat:!0}));let a=s.current,[u,c]=Re.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},d=Re.useCallback(y=>{f&&s5?s5(()=>c(y)):c(y)},[c,f]);return Re.useLayoutEffect(()=>a.listen(d),[a,d]),Re.useEffect(()=>yN(r),[r]),Re.createElement(wN,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:a,future:r})}const NN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ha=Re.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:u,target:c,to:f,preventScrollReset:d,viewTransition:y}=e,_=_N(e,SN),{basename:w}=Re.useContext(Du),T,I=!1;if(typeof f=="string"&&IN.test(f)&&(T=f,NN))try{let H=new URL(window.location.href),$=f.startsWith("//")?new URL(H.protocol+f):new URL(f),ae=uy($.pathname,w);$.origin===H.origin&&ae!=null?f=ae+$.search+$.hash:I=!0}catch{}let P=nN(f,{relative:i}),F=PN(f,{replace:a,state:u,target:c,preventScrollReset:d,relative:i,viewTransition:y});function Y(H){r&&r(H),H.defaultPrevented||F(H)}return Re.createElement("a",s1({},_,{href:T||P,onClick:I||s?r:Y,ref:t,target:c}))});var o5;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(o5||(o5={}));var a5;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(a5||(a5={}));function PN(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:u}=e===void 0?{}:e,c=Sb(),f=Uh(),d=Ab(n,{relative:a});return Re.useCallback(y=>{if(bN(y,t)){y.preventDefault();let _=r!==void 0?r:im(f)===im(d);c(n,{replace:_,state:i,preventScrollReset:s,relative:a,viewTransition:u})}},[f,c,d,r,i,t,n,s,a,u])}var l5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},kN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],a=n[t++],u=n[t++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Pb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],a=i+1<n.length,u=a?n[i+1]:0,c=i+2<n.length,f=c?n[i+2]:0,d=s>>2,y=(s&3)<<4|u>>4;let _=(u&15)<<2|f>>6,w=f&63;c||(w=64,a||(_=64)),r.push(t[d],t[y],t[_],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ib(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||f==null||y==null)throw new CN;const _=s<<2|u>>4;if(r.push(_),f!==64){const w=u<<4&240|f>>2;if(r.push(w),y!==64){const T=f<<6&192|y;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class CN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LN=function(n){const e=Ib(n);return Pb.encodeByteArray(e,!0)},sm=function(n){return LN(n).replace(/\./g,"")},kb=function(n){try{return Pb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=()=>RN().__FIREBASE_DEFAULTS__,ON=()=>{if(typeof process>"u"||typeof l5>"u")return;const n=l5.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kb(n[1]);return e&&JSON.parse(e)},Om=()=>{try{return DN()||ON()||jN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Cb=n=>{var e,t;return(t=(e=Om())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},MN=n=>{const e=Cb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Lb=()=>{var n;return(n=Om())===null||n===void 0?void 0:n.config},Rb=n=>{var e;return(e=Om())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sm(JSON.stringify(t)),sm(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(As())}function BN(){var n;const e=(n=Om())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function HN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $N(){const n=As();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function WN(){return!BN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GN(){try{return typeof indexedDB=="object"}catch{return!1}}function KN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="FirebaseError";class Dl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=YN,Object.setPrototypeOf(this,Dl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pd.prototype.create)}}class pd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?QN(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new Dl(i,u,r)}}function QN(n,e){return n.replace(JN,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JN=/\{\$([^}]+)}/g;function XN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function om(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],a=e[i];if(u5(s)&&u5(a)){if(!om(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function u5(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Cf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ZN(n,e){const t=new eI(n,e);return t.subscribe.bind(t)}class eI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");tI(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=u0),i.error===void 0&&(i.error=u0),i.complete===void 0&&(i.complete=u0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function u0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(n){return n&&n._delegate?n._delegate:n}class Ac{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new FN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iI(e))try{this.getOrInitializeService({instanceIdentifier:cc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=cc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cc){return this.instances.has(e)}getOptions(e=cc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cc){return this.component?this.component.multipleInstances?e:cc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rI(n){return n===cc?void 0:n}function iI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wn||(wn={}));const oI={debug:wn.DEBUG,verbose:wn.VERBOSE,info:wn.INFO,warn:wn.WARN,error:wn.ERROR,silent:wn.SILENT},aI=wn.INFO,lI={[wn.DEBUG]:"log",[wn.VERBOSE]:"log",[wn.INFO]:"info",[wn.WARN]:"warn",[wn.ERROR]:"error"},uI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=lI[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dy{constructor(e){this.name=e,this._logLevel=aI,this._logHandler=uI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wn.DEBUG,...e),this._logHandler(this,wn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wn.VERBOSE,...e),this._logHandler(this,wn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wn.INFO,...e),this._logHandler(this,wn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wn.WARN,...e),this._logHandler(this,wn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wn.ERROR,...e),this._logHandler(this,wn.ERROR,...e)}}const cI=(n,e)=>e.some(t=>n instanceof t);let c5,h5;function hI(){return c5||(c5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fI(){return h5||(h5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Db=new WeakMap,o1=new WeakMap,Ob=new WeakMap,c0=new WeakMap,py=new WeakMap;function dI(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(bu(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&Db.set(t,n)}).catch(()=>{}),py.set(e,n),e}function pI(n){if(o1.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});o1.set(n,e)}let a1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return o1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ob.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mI(n){a1=n(a1)}function gI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(h0(this),e,...t);return Ob.set(r,e.sort?e.sort():[e]),bu(r)}:fI().includes(n)?function(...e){return n.apply(h0(this),e),bu(Db.get(this))}:function(...e){return bu(n.apply(h0(this),e))}}function yI(n){return typeof n=="function"?gI(n):(n instanceof IDBTransaction&&pI(n),cI(n,hI())?new Proxy(n,a1):n)}function bu(n){if(n instanceof IDBRequest)return dI(n);if(c0.has(n))return c0.get(n);const e=yI(n);return e!==n&&(c0.set(n,e),py.set(e,n)),e}const h0=n=>py.get(n);function vI(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(n,e),u=bu(a);return r&&a.addEventListener("upgradeneeded",c=>{r(bu(a.result),c.oldVersion,c.newVersion,bu(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const wI=["get","getKey","getAll","getAllKeys","count"],_I=["put","add","delete","clear"],f0=new Map;function f5(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(f0.get(e))return f0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=_I.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wI.includes(t)))return;const s=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&c.done]))[0]};return f0.set(e,s),s}mI(n=>({...n,get:(e,t,r)=>f5(e,t)||n.get(e,t,r),has:(e,t)=>!!f5(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bI(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function bI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const l1="@firebase/app",d5="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new dy("@firebase/app"),SI="@firebase/app-compat",AI="@firebase/analytics-compat",EI="@firebase/analytics",TI="@firebase/app-check-compat",NI="@firebase/app-check",II="@firebase/auth",PI="@firebase/auth-compat",kI="@firebase/database",CI="@firebase/data-connect",LI="@firebase/database-compat",RI="@firebase/functions",DI="@firebase/functions-compat",OI="@firebase/installations",jI="@firebase/installations-compat",MI="@firebase/messaging",FI="@firebase/messaging-compat",VI="@firebase/performance",UI="@firebase/performance-compat",BI="@firebase/remote-config",qI="@firebase/remote-config-compat",zI="@firebase/storage",HI="@firebase/storage-compat",$I="@firebase/firestore",WI="@firebase/vertexai-preview",GI="@firebase/firestore-compat",KI="firebase",YI="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="[DEFAULT]",QI={[l1]:"fire-core",[SI]:"fire-core-compat",[EI]:"fire-analytics",[AI]:"fire-analytics-compat",[NI]:"fire-app-check",[TI]:"fire-app-check-compat",[II]:"fire-auth",[PI]:"fire-auth-compat",[kI]:"fire-rtdb",[CI]:"fire-data-connect",[LI]:"fire-rtdb-compat",[RI]:"fire-fn",[DI]:"fire-fn-compat",[OI]:"fire-iid",[jI]:"fire-iid-compat",[MI]:"fire-fcm",[FI]:"fire-fcm-compat",[VI]:"fire-perf",[UI]:"fire-perf-compat",[BI]:"fire-rc",[qI]:"fire-rc-compat",[zI]:"fire-gcs",[HI]:"fire-gcs-compat",[$I]:"fire-fst",[GI]:"fire-fst-compat",[WI]:"fire-vertex","fire-js":"fire-js",[KI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=new Map,JI=new Map,c1=new Map;function p5(n,e){try{n.container.addComponent(e)}catch(t){Pl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Nh(n){const e=n.name;if(c1.has(e))return Pl.debug(`There were multiple attempts to register component ${e}.`),!1;c1.set(e,n);for(const t of am.values())p5(t,n);for(const t of JI.values())p5(t,n);return!0}function my(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fa(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Su=new pd("app","Firebase",XI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ac("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Su.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=YI;function jb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:u1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Su.create("bad-app-name",{appName:String(i)});if(t||(t=Lb()),!t)throw Su.create("no-options");const s=am.get(i);if(s){if(om(t,s.options)&&om(r,s.config))return s;throw Su.create("duplicate-app",{appName:i})}const a=new sI(i);for(const c of c1.values())a.addComponent(c);const u=new ZI(t,r,a);return am.set(i,u),u}function Mb(n=u1){const e=am.get(n);if(!e&&n===u1&&Lb())return jb();if(!e)throw Su.create("no-app",{appName:n});return e}function Au(n,e,t){var r;let i=(r=QI[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pl.warn(u.join(" "));return}Nh(new Ac(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="firebase-heartbeat-database",tP=1,Jf="firebase-heartbeat-store";let d0=null;function Fb(){return d0||(d0=vI(eP,tP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Su.create("idb-open",{originalErrorMessage:n.message})})),d0}async function nP(n){try{const t=(await Fb()).transaction(Jf),r=await t.objectStore(Jf).get(Vb(n));return await t.done,r}catch(e){if(e instanceof Dl)Pl.warn(e.message);else{const t=Su.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pl.warn(t.message)}}}async function m5(n,e){try{const r=(await Fb()).transaction(Jf,"readwrite");await r.objectStore(Jf).put(e,Vb(n)),await r.done}catch(t){if(t instanceof Dl)Pl.warn(t.message);else{const r=Su.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Pl.warn(r.message)}}}function Vb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=1024,iP=720*60*60*1e3;class sP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=g5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=iP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Pl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=g5(),{heartbeatsToSend:r,unsentEntries:i}=oP(this._heartbeatsCache.heartbeats),s=sm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Pl.warn(t),""}}}function g5(){return new Date().toISOString().substring(0,10)}function oP(n,e=rP){const t=[];let r=n.slice();for(const i of n){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),y5(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),y5(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class aP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GN()?KN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return m5(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return m5(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function y5(n){return sm(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(n){Nh(new Ac("platform-logger",e=>new xI(e),"PRIVATE")),Nh(new Ac("heartbeat",e=>new sP(e),"PRIVATE")),Au(l1,d5,n),Au(l1,d5,"esm2017"),Au("fire-js","")}lP("");function gy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Ub(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uP=Ub,Bb=new pd("auth","Firebase",Ub());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=new dy("@firebase/auth");function cP(n,...e){lm.logLevel<=wn.WARN&&lm.warn(`Auth (${Bh}): ${n}`,...e)}function Fp(n,...e){lm.logLevel<=wn.ERROR&&lm.error(`Auth (${Bh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(n,...e){throw vy(n,...e)}function da(n,...e){return vy(n,...e)}function yy(n,e,t){const r=Object.assign(Object.assign({},uP()),{[e]:t});return new pd("auth","Firebase",r).create(e,{appName:n.name})}function El(n){return yy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hP(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&zo(n,"argument-error"),yy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Bb.create(n,...e)}function $t(n,e,...t){if(!n)throw vy(e,...t)}function xl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fp(e),new Error(e)}function kl(n,e){n||xl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function fP(){return v5()==="http:"||v5()==="https:"}function v5(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fP()||zN()||"connection"in navigator)?navigator.onLine:!0}function pP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t){this.shortDelay=e,this.longDelay=t,kl(t>e,"Short delay should be less than long delay!"),this.isMobile=UN()||HN()}get(){return dP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(n,e){kl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new gd(3e4,6e4);function ju(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Mu(n,e,t,r,i={}){return zb(n,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const u=md(Object.assign({key:n.config.apiKey},a)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:c},s);return qN()||(f.referrerPolicy="no-referrer"),qb.fetch()(Hb(n,n.config.apiHost,t,u),f)})}async function zb(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},mP),e);try{const i=new vP(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw vp(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vp(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw vp(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw vp(n,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw yy(n,d,f);zo(n,d)}}catch(i){if(i instanceof Dl)throw i;zo(n,"network-request-failed",{message:String(i)})}}async function yd(n,e,t,r,i={}){const s=await Mu(n,e,t,r,i);return"mfaPendingCredential"in s&&zo(n,"multi-factor-auth-required",{_serverResponse:s}),s}function Hb(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?wy(n.config,i):`${n.config.apiScheme}://${i}`}function yP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(da(this.auth,"network-request-failed")),gP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=da(n,e,r);return i.customData._tokenResponse=t,i}function w5(n){return n!==void 0&&n.enterprise!==void 0}class wP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function _P(n,e){return Mu(n,"GET","/v2/recaptchaConfig",ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(n,e){return Mu(n,"POST","/v1/accounts:delete",e)}async function $b(n,e){return Mu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bP(n,e=!1){const t=Ni(n),r=await t.getIdToken(e),i=_y(r);$t(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ff(p0(i.auth_time)),issuedAtTime:Ff(p0(i.iat)),expirationTime:Ff(p0(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function p0(n){return Number(n)*1e3}function _y(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Fp("JWT malformed, contained fewer than 3 sections"),null;try{const i=kb(t);return i?JSON.parse(i):(Fp("Failed to decode base64 JWT payload"),null)}catch(i){return Fp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _5(n){const e=_y(n);return $t(e,"internal-error"),$t(typeof e.exp<"u","internal-error"),$t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Dl&&SP(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function SP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ff(this.lastLoginAt),this.creationTime=Ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function um(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Xf(n,$b(t,{idToken:r}));$t(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Wb(s.providerUserInfo):[],u=TP(n.providerData,a),c=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),d=c?f:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new f1(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,y)}async function EP(n){const e=Ni(n);await um(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TP(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Wb(n){return n.map(e=>{var{providerId:t}=e,r=gy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(n,e){const t=await zb(n,{},async()=>{const r=md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=Hb(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",qb.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function IP(n,e){return Mu(n,"POST","/v2/accounts:revokeToken",ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$t(e.idToken,"internal-error"),$t(typeof e.idToken<"u","internal-error"),$t(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$t(e.length!==0,"internal-error");const t=_5(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await NP(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new wh;return r&&($t(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&($t(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&($t(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wh,this.toJSON())}_performRefresh(){return xl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(n,e){$t(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class bl{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=gy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new f1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Xf(this,this.stsTokenManager.getToken(this.auth,e));return $t(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return bP(this,e)}reload(){return EP(this)}_assign(e){this!==e&&($t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new bl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await um(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fa(this.auth.app))return Promise.reject(El(this.auth));const e=await this.getIdToken();return await Xf(this,xP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,u,c,f,d;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,w=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,T=(a=t.photoURL)!==null&&a!==void 0?a:void 0,I=(u=t.tenantId)!==null&&u!==void 0?u:void 0,P=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,F=(f=t.createdAt)!==null&&f!==void 0?f:void 0,Y=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:H,emailVerified:$,isAnonymous:ae,providerData:ge,stsTokenManager:W}=t;$t(H&&W,e,"internal-error");const R=wh.fromJSON(this.name,W);$t(typeof H=="string",e,"internal-error"),lu(y,e.name),lu(_,e.name),$t(typeof $=="boolean",e,"internal-error"),$t(typeof ae=="boolean",e,"internal-error"),lu(w,e.name),lu(T,e.name),lu(I,e.name),lu(P,e.name),lu(F,e.name),lu(Y,e.name);const L=new bl({uid:H,auth:e,email:_,emailVerified:$,displayName:y,isAnonymous:ae,photoURL:T,phoneNumber:w,tenantId:I,stsTokenManager:R,createdAt:F,lastLoginAt:Y});return ge&&Array.isArray(ge)&&(L.providerData=ge.map(q=>Object.assign({},q))),P&&(L._redirectEventId=P),L}static async _fromIdTokenResponse(e,t,r=!1){const i=new wh;i.updateFromServerResponse(t);const s=new bl({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await um(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];$t(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Wb(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new wh;u.updateFromIdToken(r);const c=new bl({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new f1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=new Map;function Sl(n){kl(n instanceof Function,"Expected a class definition");let e=x5.get(n);return e?(kl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,x5.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Gb.type="NONE";const b5=Gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(n,e,t){return`firebase:${n}:${e}:${t}`}class _h{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new _h(Sl(b5),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Sl(b5);const a=Vp(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const d=await f._get(a);if(d){const y=bl._fromJSON(e,d);f!==s&&(u=y),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new _h(s,e,r):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new _h(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zb(e))return"Blackberry";if(e4(e))return"Webos";if(Yb(e))return"Safari";if((e.includes("chrome/")||Qb(e))&&!e.includes("edge/"))return"Chrome";if(Xb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Kb(n=As()){return/firefox\//i.test(n)}function Yb(n=As()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qb(n=As()){return/crios\//i.test(n)}function Jb(n=As()){return/iemobile/i.test(n)}function Xb(n=As()){return/android/i.test(n)}function Zb(n=As()){return/blackberry/i.test(n)}function e4(n=As()){return/webos/i.test(n)}function xy(n=As()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function PP(n=As()){var e;return xy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kP(){return $N()&&document.documentMode===10}function t4(n=As()){return xy(n)||Xb(n)||e4(n)||Zb(n)||/windows phone/i.test(n)||Jb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(n,e=[]){let t;switch(n){case"Browser":t=S5(As());break;case"Worker":t=`${S5(As())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(n,e={}){return Mu(n,"GET","/v2/passwordPolicy",ju(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=6;class DP{constructor(e){var t,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:RP,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A5(this),this.idTokenSubscription=new A5(this),this.beforeStateQueue=new CP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Sl(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await _h.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $b(this,{idToken:e}),r=await bl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fa(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await um(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fa(this.app))return Promise.reject(El(this));const t=e?Ni(e):null;return t&&$t(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fa(this.app)?Promise.reject(El(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fa(this.app)?Promise.reject(El(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LP(this),t=new DP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await IP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Sl(e)||this._popupRedirectResolver;$t(t,this,"argument-error"),this.redirectPersistenceManager=await _h.create(this,[Sl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if($t(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&cP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Fu(n){return Ni(n)}class A5{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZN(t=>this.observer=t)}get next(){return $t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jP(n){jm=n}function r4(n){return jm.loadJS(n)}function MP(){return jm.recaptchaEnterpriseScript}function FP(){return jm.gapiScript}function VP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const UP="recaptcha-enterprise",BP="NO_RECAPTCHA";class qP{constructor(e){this.type=UP,this.auth=Fu(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{_P(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new wP(c);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(c=>{u(c)})})}function i(s,a,u){const c=window.grecaptcha;w5(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(BP)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(u=>{if(!t&&w5(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=MP();c.length!==0&&(c+=u),r4(c).then(()=>{i(u,s,a)}).catch(f=>{a(f)})}}).catch(u=>{a(u)})})}}async function E5(n,e,t,r=!1){const i=new qP(n);let s;try{s=await i.verify(t)}catch{s=await i.verify(t,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function d1(n,e,t,r){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await E5(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await E5(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(n,e){const t=my(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(om(s,e??{}))return i;zo(i,"already-initialized")}return t.initialize({options:e})}function HP(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Sl);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $P(n,e,t){const r=Fu(n);$t(r._canInitEmulator,r,"emulator-config-failed"),$t(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=i4(e),{host:a,port:u}=WP(e),c=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),GP()}function i4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function WP(n){const e=i4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:T5(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:T5(a)}}}function T5(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function GP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xl("not implemented")}_getIdTokenResponse(e){return xl("not implemented")}_linkToIdToken(e,t){return xl("not implemented")}_getReauthenticationResolver(e){return xl("not implemented")}}async function KP(n,e){return Mu(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(n,e){return yd(n,"POST","/v1/accounts:signInWithPassword",ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(n,e){return yd(n,"POST","/v1/accounts:signInWithEmailLink",ju(n,e))}async function JP(n,e){return yd(n,"POST","/v1/accounts:signInWithEmailLink",ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends by{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Zf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Zf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d1(e,t,"signInWithPassword",YP);case"emailLink":return QP(e,{email:this._email,oobCode:this._password});default:zo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d1(e,r,"signUpPassword",KP);case"emailLink":return JP(e,{idToken:t,email:this._email,oobCode:this._password});default:zo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(n,e){return yd(n,"POST","/v1/accounts:signInWithIdp",ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="http://localhost";class Ec extends by{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ec(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=gy(t,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Ec(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return xh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,xh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xh(e,t)}buildRequest(){const e={requestUri:XP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=md(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e6(n){const e=kf(Cf(n)).link,t=e?kf(Cf(e)).deep_link_id:null,r=kf(Cf(n)).deep_link_id;return(r?kf(Cf(r)).link:null)||r||t||e||n}class Sy{constructor(e){var t,r,i,s,a,u;const c=kf(Cf(e)),f=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,y=ZP((i=c.mode)!==null&&i!==void 0?i:null);$t(f&&d&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=e6(e);try{return new Sy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this.providerId=qh.PROVIDER_ID}static credential(e,t){return Zf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Sy.parseLink(t);return $t(r,"argument-error"),Zf._fromEmailAndCode(e,r.code,r.tenantId)}}qh.PROVIDER_ID="password";qh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends Ay{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends vd{constructor(){super("facebook.com")}static credential(e){return Ec._fromParams({providerId:pu.PROVIDER_ID,signInMethod:pu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pu.credentialFromTaggedObject(e)}static credentialFromError(e){return pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pu.credential(e.oauthAccessToken)}catch{return null}}}pu.FACEBOOK_SIGN_IN_METHOD="facebook.com";pu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends vd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ec._fromParams({providerId:wl.PROVIDER_ID,signInMethod:wl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wl.credentialFromTaggedObject(e)}static credentialFromError(e){return wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return wl.credential(t,r)}catch{return null}}}wl.GOOGLE_SIGN_IN_METHOD="google.com";wl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends vd{constructor(){super("github.com")}static credential(e){return Ec._fromParams({providerId:mu.PROVIDER_ID,signInMethod:mu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mu.credentialFromTaggedObject(e)}static credentialFromError(e){return mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mu.credential(e.oauthAccessToken)}catch{return null}}}mu.GITHUB_SIGN_IN_METHOD="github.com";mu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends vd{constructor(){super("twitter.com")}static credential(e,t){return Ec._fromParams({providerId:gu.PROVIDER_ID,signInMethod:gu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gu.credentialFromTaggedObject(e)}static credentialFromError(e){return gu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return gu.credential(t,r)}catch{return null}}}gu.TWITTER_SIGN_IN_METHOD="twitter.com";gu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(n,e){return yd(n,"POST","/v1/accounts:signUp",ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await bl._fromIdTokenResponse(e,r,i),a=N5(r);return new Tc({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=N5(r);return new Tc({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function N5(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm extends Dl{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new cm(e,t,r,i)}}function s4(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cm._fromErrorAndOperation(n,s,e,r):s})}async function n6(n,e,t=!1){const r=await Xf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Tc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(n,e,t=!1){const{auth:r}=n;if(fa(r.app))return Promise.reject(El(r));const i="reauthenticate";try{const s=await Xf(n,s4(r,i,e,n),t);$t(s.idToken,r,"internal-error");const a=_y(s.idToken);$t(a,r,"internal-error");const{sub:u}=a;return $t(n.uid===u,r,"user-mismatch"),Tc._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(n,e,t=!1){if(fa(n.app))return Promise.reject(El(n));const r="signIn",i=await s4(n,r,e),s=await Tc._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function i6(n,e){return o4(Fu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(n){const e=Fu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function s6(n,e,t){if(fa(n.app))return Promise.reject(El(n));const r=Fu(n),a=await d1(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",t6).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&a4(n),c}),u=await Tc._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function o6(n,e,t){return fa(n.app)?Promise.reject(El(n)):i6(Ni(n),qh.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&a4(n),r})}function a6(n,e,t,r){return Ni(n).onIdTokenChanged(e,t,r)}function l6(n,e,t){return Ni(n).beforeAuthStateChanged(e,t)}function u6(n,e,t,r){return Ni(n).onAuthStateChanged(e,t,r)}function c6(n){return Ni(n).signOut()}const hm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hm,"1"),this.storage.removeItem(hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=1e3,f6=10;class u4 extends l4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);kP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,f6):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},h6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}u4.type="LOCAL";const d6=u4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4 extends l4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}c4.type="SESSION";const h4=c4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Mm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async f=>f(t.origin,s)),c=await p6(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const f=Ey("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(){return window}function g6(n){qa().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(){return typeof qa().WorkerGlobalScope<"u"&&typeof qa().importScripts=="function"}async function y6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v6(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function w6(){return f4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="firebaseLocalStorageDb",_6=1,fm="firebaseLocalStorage",p4="fbase_key";class wd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fm(n,e){return n.transaction([fm],e?"readwrite":"readonly").objectStore(fm)}function x6(){const n=indexedDB.deleteDatabase(d4);return new wd(n).toPromise()}function p1(){const n=indexedDB.open(d4,_6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(fm,{keyPath:p4})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(fm)?e(r):(r.close(),await x6(),e(await p1()))})})}async function I5(n,e,t){const r=Fm(n,!0).put({[p4]:e,value:t});return new wd(r).toPromise()}async function b6(n,e){const t=Fm(n,!1).get(e),r=await new wd(t).toPromise();return r===void 0?null:r.value}function P5(n,e){const t=Fm(n,!0).delete(e);return new wd(t).toPromise()}const S6=800,A6=3;class m4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await p1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>A6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mm._getInstance(w6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await y6(),!this.activeServiceWorker)return;this.sender=new m6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||v6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await p1();return await I5(e,hm,"1"),await P5(e,hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>I5(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>b6(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>P5(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fm(i,!1).getAll();return new wd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m4.type="LOCAL";const E6=m4;new gd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(n,e){return e?Sl(e):($t(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends by{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function T6(n){return o4(n.auth,new Ty(n),n.bypassAuthState)}function N6(n){const{auth:e,user:t}=n;return $t(t,e,"internal-error"),r6(t,new Ty(n),n.bypassAuthState)}async function I6(n){const{auth:e,user:t}=n;return $t(t,e,"internal-error"),n6(t,new Ty(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T6;case"linkViaPopup":case"linkViaRedirect":return I6;case"reauthViaPopup":case"reauthViaRedirect":return N6;default:zo(this.auth,"internal-error")}}resolve(e){kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=new gd(2e3,1e4);async function k6(n,e,t){if(fa(n.app))return Promise.reject(da(n,"operation-not-supported-in-this-environment"));const r=Fu(n);hP(n,e,Ay);const i=g4(r,t);return new mc(r,"signInViaPopup",e,i).executeNotNull()}class mc extends y4{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,mc.currentPopupAction&&mc.currentPopupAction.cancel(),mc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $t(e,this.auth,"internal-error"),e}async onExecution(){kl(this.filter.length===1,"Popup operations only handle one event");const e=Ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(da(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(da(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(da(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P6.get())};e()}}mc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="pendingRedirect",Up=new Map;class L6 extends y4{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Up.get(this.auth._key());if(!e){try{const r=await R6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Up.set(this.auth._key(),e)}return this.bypassAuthState||Up.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function R6(n,e){const t=j6(e),r=O6(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function D6(n,e){Up.set(n._key(),e)}function O6(n){return Sl(n._redirectPersistence)}function j6(n){return Vp(C6,n.config.apiKey,n.name)}async function M6(n,e,t=!1){if(fa(n.app))return Promise.reject(El(n));const r=Fu(n),i=g4(r,e),a=await new L6(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=600*1e3;class V6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!v4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(da(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F6&&this.cachedEventUids.clear(),this.cachedEventUids.has(k5(e))}saveEventToCache(e){this.cachedEventUids.add(k5(e)),this.lastProcessedEventTime=Date.now()}}function k5(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function v4({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v4(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B6(n,e={}){return Mu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z6=/^https?/;async function H6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await B6(n);for(const t of e)try{if($6(t))return}catch{}zo(n,"unauthorized-domain")}function $6(n){const e=h1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!z6.test(t))return!1;if(q6.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=new gd(3e4,6e4);function C5(){const n=qa().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function G6(n){return new Promise((e,t)=>{var r,i,s;function a(){C5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C5(),t(da(n,"network-request-failed"))},timeout:W6.get()})}if(!((i=(r=qa().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qa().gapi)===null||s===void 0)&&s.load)a();else{const u=VP("iframefcb");return qa()[u]=()=>{gapi.load?a():t(da(n,"network-request-failed"))},r4(`${FP()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw Bp=null,e})}let Bp=null;function K6(n){return Bp=Bp||G6(n),Bp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=new gd(5e3,15e3),Q6="__/auth/iframe",J6="emulator/auth/iframe",X6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ek(n){const e=n.config;$t(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?wy(e,J6):`https://${n.config.authDomain}/${Q6}`,r={apiKey:e.apiKey,appName:n.name,v:Bh},i=Z6.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${md(r).slice(1)}`}async function tk(n){const e=await K6(n),t=qa().gapi;return $t(t,n,"internal-error"),e.open({where:document.body,url:ek(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=da(n,"network-request-failed"),u=qa().setTimeout(()=>{s(a)},Y6.get());function c(){qa().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rk=500,ik=600,sk="_blank",ok="http://localhost";class L5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ak(n,e,t,r=rk,i=ik){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},nk),{width:r.toString(),height:i.toString(),top:s,left:a}),f=As().toLowerCase();t&&(u=Qb(f)?sk:t),Kb(f)&&(e=e||ok,c.scrollbars="yes");const d=Object.entries(c).reduce((_,[w,T])=>`${_}${w}=${T},`,"");if(PP(f)&&u!=="_self")return lk(e||"",u),new L5(null);const y=window.open(e||"",u,d);$t(y,n,"popup-blocked");try{y.focus()}catch{}return new L5(y)}function lk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="__/auth/handler",ck="emulator/auth/handler",hk=encodeURIComponent("fac");async function R5(n,e,t,r,i,s){$t(n.config.authDomain,n,"auth-domain-config-required"),$t(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Bh,eventId:i};if(e instanceof Ay){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",XN(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,y]of Object.entries({}))a[d]=y}if(e instanceof vd){const d=e.getScopes().filter(y=>y!=="");d.length>0&&(a.scopes=d.join(","))}n.tenantId&&(a.tid=n.tenantId);const u=a;for(const d of Object.keys(u))u[d]===void 0&&delete u[d];const c=await n._getAppCheckToken(),f=c?`#${hk}=${encodeURIComponent(c)}`:"";return`${fk(n)}?${md(u).slice(1)}${f}`}function fk({config:n}){return n.emulator?wy(n,ck):`https://${n.authDomain}/${uk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="webStorageSupport";class dk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h4,this._completeRedirectFn=M6,this._overrideRedirectResult=D6}async _openPopup(e,t,r,i){var s;kl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await R5(e,t,r,h1(),i);return ak(e,a,Ey())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await R5(e,t,r,h1(),i);return g6(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(kl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await tk(e),r=new V6(e);return t.register("authEvent",i=>($t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(m0,{type:m0},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[m0];a!==void 0&&t(!!a),zo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=H6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return t4()||Yb()||xy()}}const pk=dk;var D5="@firebase/auth",O5="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yk(n){Nh(new Ac("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;$t(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n4(n)},f=new OP(r,i,s,c);return HP(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Nh(new Ac("auth-internal",e=>{const t=Fu(e.getProvider("auth").getImmediate());return(r=>new mk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Au(D5,O5,gk(n)),Au(D5,O5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=300,wk=Rb("authIdTokenMaxAge")||vk;let j5=null;const _k=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>wk)return;const i=t==null?void 0:t.token;j5!==i&&(j5=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xk(n=Mb()){const e=my(n,"auth");if(e.isInitialized())return e.getImmediate();const t=zP(n,{popupRedirectResolver:pk,persistence:[E6,d6,h4]}),r=Rb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=_k(s.toString());l6(t,a,()=>a(t.currentUser)),a6(t,u=>a(u))}}const i=Cb("auth");return i&&$P(t,`http://${i}`),t}function bk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}jP({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=da("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",bk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yk("Browser");var M5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _c,w4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(W,R){function L(){}L.prototype=R.prototype,W.D=R.prototype,W.prototype=new L,W.prototype.constructor=W,W.C=function(q,C,j){for(var M=Array(arguments.length-2),se=2;se<arguments.length;se++)M[se-2]=arguments[se];return R.prototype[C].apply(q,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(W,R,L){L||(L=0);var q=Array(16);if(typeof R=="string")for(var C=0;16>C;++C)q[C]=R.charCodeAt(L++)|R.charCodeAt(L++)<<8|R.charCodeAt(L++)<<16|R.charCodeAt(L++)<<24;else for(C=0;16>C;++C)q[C]=R[L++]|R[L++]<<8|R[L++]<<16|R[L++]<<24;R=W.g[0],L=W.g[1],C=W.g[2];var j=W.g[3],M=R+(j^L&(C^j))+q[0]+3614090360&4294967295;R=L+(M<<7&4294967295|M>>>25),M=j+(C^R&(L^C))+q[1]+3905402710&4294967295,j=R+(M<<12&4294967295|M>>>20),M=C+(L^j&(R^L))+q[2]+606105819&4294967295,C=j+(M<<17&4294967295|M>>>15),M=L+(R^C&(j^R))+q[3]+3250441966&4294967295,L=C+(M<<22&4294967295|M>>>10),M=R+(j^L&(C^j))+q[4]+4118548399&4294967295,R=L+(M<<7&4294967295|M>>>25),M=j+(C^R&(L^C))+q[5]+1200080426&4294967295,j=R+(M<<12&4294967295|M>>>20),M=C+(L^j&(R^L))+q[6]+2821735955&4294967295,C=j+(M<<17&4294967295|M>>>15),M=L+(R^C&(j^R))+q[7]+4249261313&4294967295,L=C+(M<<22&4294967295|M>>>10),M=R+(j^L&(C^j))+q[8]+1770035416&4294967295,R=L+(M<<7&4294967295|M>>>25),M=j+(C^R&(L^C))+q[9]+2336552879&4294967295,j=R+(M<<12&4294967295|M>>>20),M=C+(L^j&(R^L))+q[10]+4294925233&4294967295,C=j+(M<<17&4294967295|M>>>15),M=L+(R^C&(j^R))+q[11]+2304563134&4294967295,L=C+(M<<22&4294967295|M>>>10),M=R+(j^L&(C^j))+q[12]+1804603682&4294967295,R=L+(M<<7&4294967295|M>>>25),M=j+(C^R&(L^C))+q[13]+4254626195&4294967295,j=R+(M<<12&4294967295|M>>>20),M=C+(L^j&(R^L))+q[14]+2792965006&4294967295,C=j+(M<<17&4294967295|M>>>15),M=L+(R^C&(j^R))+q[15]+1236535329&4294967295,L=C+(M<<22&4294967295|M>>>10),M=R+(C^j&(L^C))+q[1]+4129170786&4294967295,R=L+(M<<5&4294967295|M>>>27),M=j+(L^C&(R^L))+q[6]+3225465664&4294967295,j=R+(M<<9&4294967295|M>>>23),M=C+(R^L&(j^R))+q[11]+643717713&4294967295,C=j+(M<<14&4294967295|M>>>18),M=L+(j^R&(C^j))+q[0]+3921069994&4294967295,L=C+(M<<20&4294967295|M>>>12),M=R+(C^j&(L^C))+q[5]+3593408605&4294967295,R=L+(M<<5&4294967295|M>>>27),M=j+(L^C&(R^L))+q[10]+38016083&4294967295,j=R+(M<<9&4294967295|M>>>23),M=C+(R^L&(j^R))+q[15]+3634488961&4294967295,C=j+(M<<14&4294967295|M>>>18),M=L+(j^R&(C^j))+q[4]+3889429448&4294967295,L=C+(M<<20&4294967295|M>>>12),M=R+(C^j&(L^C))+q[9]+568446438&4294967295,R=L+(M<<5&4294967295|M>>>27),M=j+(L^C&(R^L))+q[14]+3275163606&4294967295,j=R+(M<<9&4294967295|M>>>23),M=C+(R^L&(j^R))+q[3]+4107603335&4294967295,C=j+(M<<14&4294967295|M>>>18),M=L+(j^R&(C^j))+q[8]+1163531501&4294967295,L=C+(M<<20&4294967295|M>>>12),M=R+(C^j&(L^C))+q[13]+2850285829&4294967295,R=L+(M<<5&4294967295|M>>>27),M=j+(L^C&(R^L))+q[2]+4243563512&4294967295,j=R+(M<<9&4294967295|M>>>23),M=C+(R^L&(j^R))+q[7]+1735328473&4294967295,C=j+(M<<14&4294967295|M>>>18),M=L+(j^R&(C^j))+q[12]+2368359562&4294967295,L=C+(M<<20&4294967295|M>>>12),M=R+(L^C^j)+q[5]+4294588738&4294967295,R=L+(M<<4&4294967295|M>>>28),M=j+(R^L^C)+q[8]+2272392833&4294967295,j=R+(M<<11&4294967295|M>>>21),M=C+(j^R^L)+q[11]+1839030562&4294967295,C=j+(M<<16&4294967295|M>>>16),M=L+(C^j^R)+q[14]+4259657740&4294967295,L=C+(M<<23&4294967295|M>>>9),M=R+(L^C^j)+q[1]+2763975236&4294967295,R=L+(M<<4&4294967295|M>>>28),M=j+(R^L^C)+q[4]+1272893353&4294967295,j=R+(M<<11&4294967295|M>>>21),M=C+(j^R^L)+q[7]+4139469664&4294967295,C=j+(M<<16&4294967295|M>>>16),M=L+(C^j^R)+q[10]+3200236656&4294967295,L=C+(M<<23&4294967295|M>>>9),M=R+(L^C^j)+q[13]+681279174&4294967295,R=L+(M<<4&4294967295|M>>>28),M=j+(R^L^C)+q[0]+3936430074&4294967295,j=R+(M<<11&4294967295|M>>>21),M=C+(j^R^L)+q[3]+3572445317&4294967295,C=j+(M<<16&4294967295|M>>>16),M=L+(C^j^R)+q[6]+76029189&4294967295,L=C+(M<<23&4294967295|M>>>9),M=R+(L^C^j)+q[9]+3654602809&4294967295,R=L+(M<<4&4294967295|M>>>28),M=j+(R^L^C)+q[12]+3873151461&4294967295,j=R+(M<<11&4294967295|M>>>21),M=C+(j^R^L)+q[15]+530742520&4294967295,C=j+(M<<16&4294967295|M>>>16),M=L+(C^j^R)+q[2]+3299628645&4294967295,L=C+(M<<23&4294967295|M>>>9),M=R+(C^(L|~j))+q[0]+4096336452&4294967295,R=L+(M<<6&4294967295|M>>>26),M=j+(L^(R|~C))+q[7]+1126891415&4294967295,j=R+(M<<10&4294967295|M>>>22),M=C+(R^(j|~L))+q[14]+2878612391&4294967295,C=j+(M<<15&4294967295|M>>>17),M=L+(j^(C|~R))+q[5]+4237533241&4294967295,L=C+(M<<21&4294967295|M>>>11),M=R+(C^(L|~j))+q[12]+1700485571&4294967295,R=L+(M<<6&4294967295|M>>>26),M=j+(L^(R|~C))+q[3]+2399980690&4294967295,j=R+(M<<10&4294967295|M>>>22),M=C+(R^(j|~L))+q[10]+4293915773&4294967295,C=j+(M<<15&4294967295|M>>>17),M=L+(j^(C|~R))+q[1]+2240044497&4294967295,L=C+(M<<21&4294967295|M>>>11),M=R+(C^(L|~j))+q[8]+1873313359&4294967295,R=L+(M<<6&4294967295|M>>>26),M=j+(L^(R|~C))+q[15]+4264355552&4294967295,j=R+(M<<10&4294967295|M>>>22),M=C+(R^(j|~L))+q[6]+2734768916&4294967295,C=j+(M<<15&4294967295|M>>>17),M=L+(j^(C|~R))+q[13]+1309151649&4294967295,L=C+(M<<21&4294967295|M>>>11),M=R+(C^(L|~j))+q[4]+4149444226&4294967295,R=L+(M<<6&4294967295|M>>>26),M=j+(L^(R|~C))+q[11]+3174756917&4294967295,j=R+(M<<10&4294967295|M>>>22),M=C+(R^(j|~L))+q[2]+718787259&4294967295,C=j+(M<<15&4294967295|M>>>17),M=L+(j^(C|~R))+q[9]+3951481745&4294967295,W.g[0]=W.g[0]+R&4294967295,W.g[1]=W.g[1]+(C+(M<<21&4294967295|M>>>11))&4294967295,W.g[2]=W.g[2]+C&4294967295,W.g[3]=W.g[3]+j&4294967295}r.prototype.u=function(W,R){R===void 0&&(R=W.length);for(var L=R-this.blockSize,q=this.B,C=this.h,j=0;j<R;){if(C==0)for(;j<=L;)i(this,W,j),j+=this.blockSize;if(typeof W=="string"){for(;j<R;)if(q[C++]=W.charCodeAt(j++),C==this.blockSize){i(this,q),C=0;break}}else for(;j<R;)if(q[C++]=W[j++],C==this.blockSize){i(this,q),C=0;break}}this.h=C,this.o+=R},r.prototype.v=function(){var W=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);W[0]=128;for(var R=1;R<W.length-8;++R)W[R]=0;var L=8*this.o;for(R=W.length-8;R<W.length;++R)W[R]=L&255,L/=256;for(this.u(W),W=Array(16),R=L=0;4>R;++R)for(var q=0;32>q;q+=8)W[L++]=this.g[R]>>>q&255;return W};function s(W,R){var L=u;return Object.prototype.hasOwnProperty.call(L,W)?L[W]:L[W]=R(W)}function a(W,R){this.h=R;for(var L=[],q=!0,C=W.length-1;0<=C;C--){var j=W[C]|0;q&&j==R||(L[C]=j,q=!1)}this.g=L}var u={};function c(W){return-128<=W&&128>W?s(W,function(R){return new a([R|0],0>R?-1:0)}):new a([W|0],0>W?-1:0)}function f(W){if(isNaN(W)||!isFinite(W))return y;if(0>W)return P(f(-W));for(var R=[],L=1,q=0;W>=L;q++)R[q]=W/L|0,L*=4294967296;return new a(R,0)}function d(W,R){if(W.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(W.charAt(0)=="-")return P(d(W.substring(1),R));if(0<=W.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=f(Math.pow(R,8)),q=y,C=0;C<W.length;C+=8){var j=Math.min(8,W.length-C),M=parseInt(W.substring(C,C+j),R);8>j?(j=f(Math.pow(R,j)),q=q.j(j).add(f(M))):(q=q.j(L),q=q.add(f(M)))}return q}var y=c(0),_=c(1),w=c(16777216);n=a.prototype,n.m=function(){if(I(this))return-P(this).m();for(var W=0,R=1,L=0;L<this.g.length;L++){var q=this.i(L);W+=(0<=q?q:4294967296+q)*R,R*=4294967296}return W},n.toString=function(W){if(W=W||10,2>W||36<W)throw Error("radix out of range: "+W);if(T(this))return"0";if(I(this))return"-"+P(this).toString(W);for(var R=f(Math.pow(W,6)),L=this,q="";;){var C=$(L,R).g;L=F(L,C.j(R));var j=((0<L.g.length?L.g[0]:L.h)>>>0).toString(W);if(L=C,T(L))return j+q;for(;6>j.length;)j="0"+j;q=j+q}},n.i=function(W){return 0>W?0:W<this.g.length?this.g[W]:this.h};function T(W){if(W.h!=0)return!1;for(var R=0;R<W.g.length;R++)if(W.g[R]!=0)return!1;return!0}function I(W){return W.h==-1}n.l=function(W){return W=F(this,W),I(W)?-1:T(W)?0:1};function P(W){for(var R=W.g.length,L=[],q=0;q<R;q++)L[q]=~W.g[q];return new a(L,~W.h).add(_)}n.abs=function(){return I(this)?P(this):this},n.add=function(W){for(var R=Math.max(this.g.length,W.g.length),L=[],q=0,C=0;C<=R;C++){var j=q+(this.i(C)&65535)+(W.i(C)&65535),M=(j>>>16)+(this.i(C)>>>16)+(W.i(C)>>>16);q=M>>>16,j&=65535,M&=65535,L[C]=M<<16|j}return new a(L,L[L.length-1]&-2147483648?-1:0)};function F(W,R){return W.add(P(R))}n.j=function(W){if(T(this)||T(W))return y;if(I(this))return I(W)?P(this).j(P(W)):P(P(this).j(W));if(I(W))return P(this.j(P(W)));if(0>this.l(w)&&0>W.l(w))return f(this.m()*W.m());for(var R=this.g.length+W.g.length,L=[],q=0;q<2*R;q++)L[q]=0;for(q=0;q<this.g.length;q++)for(var C=0;C<W.g.length;C++){var j=this.i(q)>>>16,M=this.i(q)&65535,se=W.i(C)>>>16,Se=W.i(C)&65535;L[2*q+2*C]+=M*Se,Y(L,2*q+2*C),L[2*q+2*C+1]+=j*Se,Y(L,2*q+2*C+1),L[2*q+2*C+1]+=M*se,Y(L,2*q+2*C+1),L[2*q+2*C+2]+=j*se,Y(L,2*q+2*C+2)}for(q=0;q<R;q++)L[q]=L[2*q+1]<<16|L[2*q];for(q=R;q<2*R;q++)L[q]=0;return new a(L,0)};function Y(W,R){for(;(W[R]&65535)!=W[R];)W[R+1]+=W[R]>>>16,W[R]&=65535,R++}function H(W,R){this.g=W,this.h=R}function $(W,R){if(T(R))throw Error("division by zero");if(T(W))return new H(y,y);if(I(W))return R=$(P(W),R),new H(P(R.g),P(R.h));if(I(R))return R=$(W,P(R)),new H(P(R.g),R.h);if(30<W.g.length){if(I(W)||I(R))throw Error("slowDivide_ only works with positive integers.");for(var L=_,q=R;0>=q.l(W);)L=ae(L),q=ae(q);var C=ge(L,1),j=ge(q,1);for(q=ge(q,2),L=ge(L,2);!T(q);){var M=j.add(q);0>=M.l(W)&&(C=C.add(L),j=M),q=ge(q,1),L=ge(L,1)}return R=F(W,C.j(R)),new H(C,R)}for(C=y;0<=W.l(R);){for(L=Math.max(1,Math.floor(W.m()/R.m())),q=Math.ceil(Math.log(L)/Math.LN2),q=48>=q?1:Math.pow(2,q-48),j=f(L),M=j.j(R);I(M)||0<M.l(W);)L-=q,j=f(L),M=j.j(R);T(j)&&(j=_),C=C.add(j),W=F(W,M)}return new H(C,W)}n.A=function(W){return $(this,W).h},n.and=function(W){for(var R=Math.max(this.g.length,W.g.length),L=[],q=0;q<R;q++)L[q]=this.i(q)&W.i(q);return new a(L,this.h&W.h)},n.or=function(W){for(var R=Math.max(this.g.length,W.g.length),L=[],q=0;q<R;q++)L[q]=this.i(q)|W.i(q);return new a(L,this.h|W.h)},n.xor=function(W){for(var R=Math.max(this.g.length,W.g.length),L=[],q=0;q<R;q++)L[q]=this.i(q)^W.i(q);return new a(L,this.h^W.h)};function ae(W){for(var R=W.g.length+1,L=[],q=0;q<R;q++)L[q]=W.i(q)<<1|W.i(q-1)>>>31;return new a(L,W.h)}function ge(W,R){var L=R>>5;R%=32;for(var q=W.g.length-L,C=[],j=0;j<q;j++)C[j]=0<R?W.i(j+L)>>>R|W.i(j+L+1)<<32-R:W.i(j+L);return new a(C,W.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,w4=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=d,_c=a}).apply(typeof M5<"u"?M5:typeof self<"u"?self:typeof window<"u"?window:{});var wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _4,Lf,x4,qp,m1,b4,S4,A4;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,A,O){return m==Array.prototype||m==Object.prototype||(m[A]=O.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof wp=="object"&&wp];for(var A=0;A<m.length;++A){var O=m[A];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=t(this);function i(m,A){if(A)e:{var O=r;m=m.split(".");for(var J=0;J<m.length-1;J++){var be=m[J];if(!(be in O))break e;O=O[be]}m=m[m.length-1],J=O[m],A=A(J),A!=J&&A!=null&&e(O,m,{configurable:!0,writable:!0,value:A})}}function s(m,A){m instanceof String&&(m+="");var O=0,J=!1,be={next:function(){if(!J&&O<m.length){var Le=O++;return{value:A(Le,m[Le]),done:!1}}return J=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}i("Array.prototype.values",function(m){return m||function(){return s(this,function(A,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(m){var A=typeof m;return A=A!="object"?A:m?Array.isArray(m)?"array":A:"null",A=="array"||A=="object"&&typeof m.length=="number"}function f(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function d(m,A,O){return m.call.apply(m.bind,arguments)}function y(m,A,O){if(!m)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,J),m.apply(A,be)}}return function(){return m.apply(A,arguments)}}function _(m,A,O){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:y,_.apply(null,arguments)}function w(m,A){var O=Array.prototype.slice.call(arguments,1);return function(){var J=O.slice();return J.push.apply(J,arguments),m.apply(this,J)}}function T(m,A){function O(){}O.prototype=A.prototype,m.aa=A.prototype,m.prototype=new O,m.prototype.constructor=m,m.Qb=function(J,be,Le){for(var Xe=Array(arguments.length-2),mn=2;mn<arguments.length;mn++)Xe[mn-2]=arguments[mn];return A.prototype[be].apply(J,Xe)}}function I(m){const A=m.length;if(0<A){const O=Array(A);for(let J=0;J<A;J++)O[J]=m[J];return O}return[]}function P(m,A){for(let O=1;O<arguments.length;O++){const J=arguments[O];if(c(J)){const be=m.length||0,Le=J.length||0;m.length=be+Le;for(let Xe=0;Xe<Le;Xe++)m[be+Xe]=J[Xe]}else m.push(J)}}class F{constructor(A,O){this.i=A,this.j=O,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function Y(m){return/^[\s\xa0]*$/.test(m)}function H(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function $(m){return $[" "](m),m}$[" "]=function(){};var ae=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ge(m,A,O){for(const J in m)A.call(O,m[J],J,m)}function W(m,A){for(const O in m)A.call(void 0,m[O],O,m)}function R(m){const A={};for(const O in m)A[O]=m[O];return A}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(m,A){let O,J;for(let be=1;be<arguments.length;be++){J=arguments[be];for(O in J)m[O]=J[O];for(let Le=0;Le<L.length;Le++)O=L[Le],Object.prototype.hasOwnProperty.call(J,O)&&(m[O]=J[O])}}function C(m){var A=1;m=m.split(":");const O=[];for(;0<A&&m.length;)O.push(m.shift()),A--;return m.length&&O.push(m.join(":")),O}function j(m){u.setTimeout(()=>{throw m},0)}function M(){var m=he;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class se{constructor(){this.h=this.g=null}add(A,O){const J=Se.get();J.set(A,O),this.h?this.h.next=J:this.g=J,this.h=J}}var Se=new F(()=>new xe,m=>m.reset());class xe{constructor(){this.next=this.g=this.h=null}set(A,O){this.h=A,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ee=!1,he=new se,_e=()=>{const m=u.Promise.resolve(void 0);Ee=()=>{m.then(Q)}};var Q=()=>{for(var m;m=M();){try{m.h.call(m.g)}catch(O){j(O)}var A=Se;A.j(m),100>A.h&&(A.h++,m.next=A.g,A.g=m)}ee=!1};function D(){this.s=this.s,this.C=this.C}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ne=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const O=()=>{};u.addEventListener("test",O,A),u.removeEventListener("test",O,A)}catch{}return m})();function ue(m,A){if(X.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var O=this.type=m.type,J=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget){if(ae){e:{try{$(A.nodeName);var be=!0;break e}catch{}be=!1}be||(A=null)}}else O=="mouseover"?A=m.fromElement:O=="mouseout"&&(A=m.toElement);this.relatedTarget=A,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:fe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ue.aa.h.call(this)}}T(ue,X);var fe={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Te(m,A,O,J,be){this.listener=m,this.proxy=null,this.src=A,this.type=O,this.capture=!!J,this.ha=be,this.key=++Ne,this.da=this.fa=!1}function je(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function He(m){this.src=m,this.g={},this.h=0}He.prototype.add=function(m,A,O,J,be){var Le=m.toString();m=this.g[Le],m||(m=this.g[Le]=[],this.h++);var Xe=rt(m,A,J,be);return-1<Xe?(A=m[Xe],O||(A.fa=!1)):(A=new Te(A,this.src,Le,!!J,be),A.fa=O,m.push(A)),A};function nt(m,A){var O=A.type;if(O in m.g){var J=m.g[O],be=Array.prototype.indexOf.call(J,A,void 0),Le;(Le=0<=be)&&Array.prototype.splice.call(J,be,1),Le&&(je(A),m.g[O].length==0&&(delete m.g[O],m.h--))}}function rt(m,A,O,J){for(var be=0;be<m.length;++be){var Le=m[be];if(!Le.da&&Le.listener==A&&Le.capture==!!O&&Le.ha==J)return be}return-1}var Fe="closure_lm_"+(1e6*Math.random()|0),oe={};function tn(m,A,O,J,be){if(Array.isArray(A)){for(var Le=0;Le<A.length;Le++)tn(m,A[Le],O,J,be);return null}return O=Ft(O),m&&m[ve]?m.K(A,O,f(J)?!!J.capture:!1,be):qt(m,A,O,!1,J,be)}function qt(m,A,O,J,be,Le){if(!A)throw Error("Invalid event type");var Xe=f(be)?!!be.capture:!!be,mn=_t(m);if(mn||(m[Fe]=mn=new He(m)),O=mn.add(A,O,J,Xe,Le),O.proxy)return O;if(J=Et(),O.proxy=J,J.src=m,J.listener=O,m.addEventListener)ne||(be=Xe),be===void 0&&(be=!1),m.addEventListener(A.toString(),J,be);else if(m.attachEvent)m.attachEvent(et(A.toString()),J);else if(m.addListener&&m.removeListener)m.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Et(){function m(O){return A.call(m.src,m.listener,O)}const A=zt;return m}function Ye(m,A,O,J,be){if(Array.isArray(A))for(var Le=0;Le<A.length;Le++)Ye(m,A[Le],O,J,be);else J=f(J)?!!J.capture:!!J,O=Ft(O),m&&m[ve]?(m=m.i,A=String(A).toString(),A in m.g&&(Le=m.g[A],O=rt(Le,O,J,be),-1<O&&(je(Le[O]),Array.prototype.splice.call(Le,O,1),Le.length==0&&(delete m.g[A],m.h--)))):m&&(m=_t(m))&&(A=m.g[A.toString()],m=-1,A&&(m=rt(A,O,J,be)),(O=-1<m?A[m]:null)&&ut(O))}function ut(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[ve])nt(A.i,m);else{var O=m.type,J=m.proxy;A.removeEventListener?A.removeEventListener(O,J,m.capture):A.detachEvent?A.detachEvent(et(O),J):A.addListener&&A.removeListener&&A.removeListener(J),(O=_t(A))?(nt(O,m),O.h==0&&(O.src=null,A[Fe]=null)):je(m)}}}function et(m){return m in oe?oe[m]:oe[m]="on"+m}function zt(m,A){if(m.da)m=!0;else{A=new ue(A,this);var O=m.listener,J=m.ha||m.src;m.fa&&ut(m),m=O.call(J,A)}return m}function _t(m){return m=m[Fe],m instanceof He?m:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ft(m){return typeof m=="function"?m:(m[un]||(m[un]=function(A){return m.handleEvent(A)}),m[un])}function gt(){D.call(this),this.i=new He(this),this.M=this,this.F=null}T(gt,D),gt.prototype[ve]=!0,gt.prototype.removeEventListener=function(m,A,O,J){Ye(this,m,A,O,J)};function Ht(m,A){var O,J=m.F;if(J)for(O=[];J;J=J.F)O.push(J);if(m=m.M,J=A.type||A,typeof A=="string")A=new X(A,m);else if(A instanceof X)A.target=A.target||m;else{var be=A;A=new X(J,m),q(A,be)}if(be=!0,O)for(var Le=O.length-1;0<=Le;Le--){var Xe=A.g=O[Le];be=Lt(Xe,J,!0,A)&&be}if(Xe=A.g=m,be=Lt(Xe,J,!0,A)&&be,be=Lt(Xe,J,!1,A)&&be,O)for(Le=0;Le<O.length;Le++)Xe=A.g=O[Le],be=Lt(Xe,J,!1,A)&&be}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var m=this.i,A;for(A in m.g){for(var O=m.g[A],J=0;J<O.length;J++)je(O[J]);delete m.g[A],m.h--}}this.F=null},gt.prototype.K=function(m,A,O,J){return this.i.add(String(m),A,!1,O,J)},gt.prototype.L=function(m,A,O,J){return this.i.add(String(m),A,!0,O,J)};function Lt(m,A,O,J){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();for(var be=!0,Le=0;Le<A.length;++Le){var Xe=A[Le];if(Xe&&!Xe.da&&Xe.capture==O){var mn=Xe.listener,ur=Xe.ha||Xe.src;Xe.fa&&nt(m.i,Xe),be=mn.call(ur,J)!==!1&&be}}return be&&!J.defaultPrevented}function xt(m,A,O){if(typeof m=="function")O&&(m=_(m,O));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:u.setTimeout(m,A||0)}function Tt(m){m.g=xt(()=>{m.g=null,m.i&&(m.i=!1,Tt(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class yt extends D{constructor(A,O){super(),this.m=A,this.l=O,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _n(m){D.call(this),this.h=m,this.g={}}T(_n,D);var pn=[];function ft(m){ge(m.g,function(A,O){this.g.hasOwnProperty(O)&&ut(A)},m),m.g={}}_n.prototype.N=function(){_n.aa.N.call(this),ft(this)},_n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=u.JSON.stringify,bn=u.JSON.parse,Nt=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function en(){}en.prototype.h=null;function Mt(m){return m.h||(m.h=m.i())}function Qn(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cn(){X.call(this,"d")}T(cn,X);function Rt(){X.call(this,"c")}T(Rt,X);var rn={},Zs=null;function pr(){return Zs=Zs||new gt}rn.La="serverreachability";function Es(m){X.call(this,rn.La,m)}T(Es,X);function ti(m){const A=pr();Ht(A,new Es(A))}rn.STAT_EVENT="statevent";function It(m,A){X.call(this,rn.STAT_EVENT,m),this.stat=A}T(It,X);function Ln(m){const A=pr();Ht(A,new It(A,m))}rn.Ma="timingevent";function Zi(m,A){X.call(this,rn.Ma,m),this.size=A}T(Zi,X);function mr(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},A)}function ni(){this.g=!0}ni.prototype.xa=function(){this.g=!1};function jn(m,A,O,J,be,Le){m.info(function(){if(m.g)if(Le)for(var Xe="",mn=Le.split("&"),ur=0;ur<mn.length;ur++){var an=mn[ur].split("=");if(1<an.length){var sn=an[0];an=an[1];var Fn=sn.split("_");Xe=2<=Fn.length&&Fn[1]=="type"?Xe+(sn+"="+an+"&"):Xe+(sn+"=redacted&")}}else Xe=null;else Xe=Le;return"XMLHTTP REQ ("+J+") [attempt "+be+"]: "+A+`
`+O+`
`+Xe})}function or(m,A,O,J,be,Le,Xe){m.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+be+"]: "+A+`
`+O+`
`+Le+" "+Xe})}function qn(m,A,O,J){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+xo(m,O)+(J?" "+J:"")})}function eo(m,A){m.info(function(){return"TIMEOUT: "+A})}ni.prototype.info=function(){};function xo(m,A){if(!m.g)return A;if(!A)return null;try{var O=JSON.parse(A);if(O){for(m=0;m<O.length;m++)if(Array.isArray(O[m])){var J=O[m];if(!(2>J.length)){var be=J[1];if(Array.isArray(be)&&!(1>be.length)){var Le=be[0];if(Le!="noop"&&Le!="stop"&&Le!="close")for(var Xe=1;Xe<be.length;Xe++)be[Xe]=""}}}}return Vt(O)}catch{return A}}var Ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ts={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tr;function fi(){}T(fi,en),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},Tr=new fi;function gr(m,A,O,J){this.j=m,this.i=A,this.l=O,this.R=J||1,this.U=new _n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bo}function bo(){this.i=null,this.g="",this.h=!1}var es={},Os={};function to(m,A,O){m.L=1,m.v=no(pi(A)),m.m=O,m.P=!0,So(m,null)}function So(m,A){m.F=Date.now(),Pn(m),m.A=pi(m.v);var O=m.A,J=m.R;Array.isArray(J)||(J=[String(J)]),Pt(O.i,"t",J),m.C=0,O=m.j.J,m.h=new bo,m.g=vr(m.j,O?A:null,!m.m),0<m.O&&(m.M=new yt(_(m.Y,m,m.g),m.O)),A=m.U,O=m.g,J=m.ca;var be="readystatechange";Array.isArray(be)||(be&&(pn[0]=be.toString()),be=pn);for(var Le=0;Le<be.length;Le++){var Xe=tn(O,be[Le],J||A.handleEvent,!1,A.h||A);if(!Xe)break;A.g[Xe.key]=Xe}A=m.H?R(m.H):{},m.m?(m.u||(m.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,A)):(m.u="GET",m.g.ea(m.A,m.u,null,A)),ti(),jn(m.i,m.u,m.A,m.l,m.R,m.m)}gr.prototype.ca=function(m){m=m.target;const A=this.M;A&&wi(m)==3?A.j():this.Y(m)},gr.prototype.Y=function(m){try{if(m==this.g)e:{const Fn=wi(this.g);var A=this.g.Ba();const bi=this.g.Z();if(!(3>Fn)&&(Fn!=3||this.g&&(this.h.h||this.g.oa()||Ta(this.g)))){this.J||Fn!=4||A==7||(A==8||0>=bi?ti(3):ti(2)),Ao(this);var O=this.g.Z();this.X=O;t:if($o(this)){var J=Ta(this.g);m="";var be=J.length,Le=wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),zr(this);var Xe="";break t}this.h.i=new u.TextDecoder}for(A=0;A<be;A++)this.h.h=!0,m+=this.h.i.decode(J[A],{stream:!(Le&&A==be-1)});J.length=0,this.h.g+=m,this.C=0,Xe=this.h.g}else Xe=this.g.oa();if(this.o=O==200,or(this.i,this.u,this.A,this.l,this.R,Fn,O),this.o){if(this.T&&!this.K){t:{if(this.g){var mn,ur=this.g;if((mn=ur.g?ur.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(mn)){var an=mn;break t}}an=null}if(O=an)qn(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_a(this,O);else{this.o=!1,this.s=3,Ln(12),Pi(this),zr(this);break e}}if(this.P){O=!0;let Li;for(;!this.J&&this.C<Xe.length;)if(Li=qu(this,Xe),Li==Os){Fn==4&&(this.s=4,Ln(14),O=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Li==es){this.s=4,Ln(15),qn(this.i,this.l,Xe,"[Invalid Chunk]"),O=!1;break}else qn(this.i,this.l,Li,null),_a(this,Li);if($o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fn!=4||Xe.length!=0||this.h.h||(this.s=1,Ln(16),O=!1),this.o=this.o&&O,!O)qn(this.i,this.l,Xe,"[Invalid Chunked Response]"),Pi(this),zr(this);else if(0<Xe.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+Xe.length),st(sn),sn.M=!0,Ln(11))}}else qn(this.i,this.l,Xe,null),_a(this,Xe);Fn==4&&Pi(this),this.o&&!this.J&&(Fn==4?jt(this.j,this):(this.o=!1,Pn(this)))}else ss(this.g),O==400&&0<Xe.indexOf("Unknown SID")?(this.s=3,Ln(12)):(this.s=0,Ln(13)),Pi(this),zr(this)}}}catch{}finally{}};function $o(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function qu(m,A){var O=m.C,J=A.indexOf(`
`,O);return J==-1?Os:(O=Number(A.substring(O,J)),isNaN(O)?es:(J+=1,J+O>A.length?Os:(A=A.slice(J,J+O),m.C=J+O,A)))}gr.prototype.cancel=function(){this.J=!0,Pi(this)};function Pn(m){m.S=Date.now()+m.I,Ka(m,m.I)}function Ka(m,A){if(m.B!=null)throw Error("WatchDog timer not null");m.B=mr(_(m.ba,m),A)}function Ao(m){m.B&&(u.clearTimeout(m.B),m.B=null)}gr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(eo(this.i,this.A),this.L!=2&&(ti(),Ln(17)),Pi(this),this.s=2,zr(this)):Ka(this,this.S-m)};function zr(m){m.j.G==0||m.J||jt(m.j,m)}function Pi(m){Ao(m);var A=m.M;A&&typeof A.ma=="function"&&A.ma(),m.M=null,ft(m.U),m.g&&(A=m.g,m.g=null,A.abort(),A.ma())}function _a(m,A){try{var O=m.j;if(O.G!=0&&(O.g==m||Or(O.h,m))){if(!m.K&&Or(O.h,m)&&O.G==3){try{var J=O.Da.g.parse(A)}catch{J=null}if(Array.isArray(J)&&J.length==3){var be=J;if(be[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<m.F)Ct(O),_i(O);else break e;$e(O),Ln(18)}}else O.za=be[1],0<O.za-O.T&&37500>be[2]&&O.F&&O.v==0&&!O.C&&(O.C=mr(_(O.Za,O),6e3));if(1>=Ya(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else Sn(O,11)}else if((m.K||O.g==m)&&Ct(O),!Y(A))for(be=O.Da.g.parse(A),A=0;A<be.length;A++){let an=be[A];if(O.T=an[0],an=an[1],O.G==2)if(an[0]=="c"){O.K=an[1],O.ia=an[2];const sn=an[3];sn!=null&&(O.la=sn,O.j.info("VER="+O.la));const Fn=an[4];Fn!=null&&(O.Aa=Fn,O.j.info("SVER="+O.Aa));const bi=an[5];bi!=null&&typeof bi=="number"&&0<bi&&(J=1.5*bi,O.L=J,O.j.info("backChannelRequestTimeoutMs_="+J)),J=O;const Li=m.g;if(Li){const ii=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var Le=J.h;Le.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(Le.j=Le.l,Le.g=new Set,Le.h&&(Qa(Le,Le.h),Le.h=null))}if(J.D){const Vs=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;Vs&&(J.ya=Vs,hn(J.I,J.D,Vs))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-m.F,O.j.info("Handshake RTT: "+O.R+"ms")),J=O;var Xe=m;if(J.qa=Dn(J,J.J?J.ia:null,J.W),Xe.K){ar(J.h,Xe);var mn=Xe,ur=J.L;ur&&(mn.I=ur),mn.B&&(Ao(mn),Pn(mn)),J.g=Xe}else Be(J);0<O.i.length&&x(O)}else an[0]!="stop"&&an[0]!="close"||Sn(O,7);else O.G==3&&(an[0]=="stop"||an[0]=="close"?an[0]=="stop"?Sn(O,7):jr(O):an[0]!="noop"&&O.l&&O.l.ta(an),O.v=0)}}ti(4)}catch{}}var xa=class{constructor(m,A){this.g=m,this.map=A}};function Eo(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ki(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ya(m){return m.h?1:m.g?m.g.size:0}function Or(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function Qa(m,A){m.g?m.g.add(A):m.h=A}function ar(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}Eo.prototype.cancel=function(){if(this.i=Ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ja(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const O of m.g.values())A=A.concat(O.D);return A}return I(m.i)}function Wo(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var A=[],O=m.length,J=0;J<O;J++)A.push(m[J]);return A}A=[],O=0;for(J in m)A[O++]=m[J];return A}function ts(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var A=[];m=m.length;for(var O=0;O<m;O++)A.push(O);return A}A=[],O=0;for(const J in m)A[O++]=J;return A}}}function ns(m,A){if(m.forEach&&typeof m.forEach=="function")m.forEach(A,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,A,void 0);else for(var O=ts(m),J=Wo(m),be=J.length,Le=0;Le<be;Le++)A.call(void 0,J[Le],O&&O[Le],m)}var di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Go(m,A){if(m){m=m.split("&");for(var O=0;O<m.length;O++){var J=m[O].indexOf("="),be=null;if(0<=J){var Le=m[O].substring(0,J);be=m[O].substring(J+1)}else Le=m[O];A(Le,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function Rn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Rn){this.h=m.h,Ko(this,m.j),this.o=m.o,this.g=m.g,To(this,m.s),this.l=m.l;var A=m.i,O=new mi;O.i=A.i,A.g&&(O.g=new Map(A.g),O.h=A.h),No(this,O),this.m=m.m}else m&&(A=String(m).match(di))?(this.h=!1,Ko(this,A[1]||"",!0),this.o=on(A[2]||""),this.g=on(A[3]||"",!0),To(this,A[4]),this.l=on(A[5]||"",!0),No(this,A[6]||"",!0),this.m=on(A[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}Rn.prototype.toString=function(){var m=[],A=this.j;A&&m.push(Bi(A,Sa,!0),":");var O=this.g;return(O||A=="file")&&(m.push("//"),(A=this.o)&&m.push(Bi(A,Sa,!0),"@"),m.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&m.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&m.push("/"),m.push(Bi(O,O.charAt(0)=="/"?jl:Ol,!0))),(O=this.i.toString())&&m.push("?",O),(O=this.m)&&m.push("#",Bi(O,ro)),m.join("")};function pi(m){return new Rn(m)}function Ko(m,A,O){m.j=O?on(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function To(m,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);m.s=A}else m.s=null}function No(m,A,O){A instanceof mi?(m.i=A,js(m.i,m.h)):(O||(A=Bi(A,Aa)),m.i=new mi(A,m.h))}function hn(m,A,O){m.i.set(A,O)}function no(m){return hn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function on(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Bi(m,A,O){return typeof m=="string"?(m=encodeURI(m).replace(A,ba),O&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ba(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Sa=/[#\/\?@]/g,Ol=/[#\?:]/g,jl=/[#\?]/g,Aa=/[#\?@]/g,ro=/#/g;function mi(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function Hr(m){m.g||(m.g=new Map,m.h=0,m.i&&Go(m.i,function(A,O){m.add(decodeURIComponent(A.replace(/\+/g," ")),O)}))}n=mi.prototype,n.add=function(m,A){Hr(this),this.i=null,m=rs(this,m);var O=this.g.get(m);return O||this.g.set(m,O=[]),O.push(A),this.h+=1,this};function gi(m,A){Hr(m),A=rs(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function qi(m,A){return Hr(m),A=rs(m,A),m.g.has(A)}n.forEach=function(m,A){Hr(this),this.g.forEach(function(O,J){O.forEach(function(be){m.call(A,be,J,this)},this)},this)},n.na=function(){Hr(this);const m=Array.from(this.g.values()),A=Array.from(this.g.keys()),O=[];for(let J=0;J<A.length;J++){const be=m[J];for(let Le=0;Le<be.length;Le++)O.push(A[J])}return O},n.V=function(m){Hr(this);let A=[];if(typeof m=="string")qi(this,m)&&(A=A.concat(this.g.get(rs(this,m))));else{m=Array.from(this.g.values());for(let O=0;O<m.length;O++)A=A.concat(m[O])}return A},n.set=function(m,A){return Hr(this),this.i=null,m=rs(this,m),qi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},n.get=function(m,A){return m?(m=this.V(m),0<m.length?String(m[0]):A):A};function Pt(m,A,O){gi(m,A),0<O.length&&(m.i=null,m.g.set(rs(m,A),I(O)),m.h+=O.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(var O=0;O<A.length;O++){var J=A[O];const Le=encodeURIComponent(String(J)),Xe=this.V(J);for(J=0;J<Xe.length;J++){var be=Le;Xe[J]!==""&&(be+="="+encodeURIComponent(String(Xe[J]))),m.push(be)}}return this.i=m.join("&")};function rs(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function js(m,A){A&&!m.j&&(Hr(m),m.i=null,m.g.forEach(function(O,J){var be=J.toLowerCase();J!=be&&(gi(this,J),Pt(this,be,O))},m)),m.j=A}function zu(m,A){const O=new ni;if(u.Image){const J=new Image;J.onload=w(yr,O,"TestLoadImage: loaded",!0,A,J),J.onerror=w(yr,O,"TestLoadImage: error",!1,A,J),J.onabort=w(yr,O,"TestLoadImage: abort",!1,A,J),J.ontimeout=w(yr,O,"TestLoadImage: timeout",!1,A,J),u.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=m}else A(!1)}function Ml(m,A){const O=new ni,J=new AbortController,be=setTimeout(()=>{J.abort(),yr(O,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:J.signal}).then(Le=>{clearTimeout(be),Le.ok?yr(O,"TestPingServer: ok",!0,A):yr(O,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(be),yr(O,"TestPingServer: error",!1,A)})}function yr(m,A,O,J,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),J(O)}catch{}}function io(){this.g=new Nt}function Fl(m,A,O){const J=O||"";try{ns(m,function(be,Le){let Xe=be;f(be)&&(Xe=Vt(be)),A.push(J+Le+"="+encodeURIComponent(Xe))})}catch(be){throw A.push(J+"type="+encodeURIComponent("_badmap")),be}}function so(m){this.l=m.Ub||null,this.j=m.eb||!1}T(so,en),so.prototype.g=function(){return new Ms(this.l,this.j)},so.prototype.i=(function(m){return function(){return m}})({});function Ms(m,A){gt.call(this),this.D=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Ms,gt),n=Ms.prototype,n.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=A,this.readyState=1,Ci(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(A.body=m),(this.D||u).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ea(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ea(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?yi(this):Ci(this),this.readyState==3&&Ea(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,yi(this))},n.Qa=function(m){this.g&&(this.response=m,yi(this))},n.ga=function(){this.g&&yi(this)};function yi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ci(m)}n.setRequestHeader=function(m,A){this.u.append(m,A)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var O=A.next();!O.done;)O=O.value,m.push(O[0]+": "+O[1]),O=A.next();return m.join(`\r
`)};function Ci(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function is(m){let A="";return ge(m,function(O,J){A+=J,A+=":",A+=O,A+=`\r
`}),A}function Io(m,A,O){e:{for(J in O){var J=!1;break e}J=!0}J||(O=is(O),typeof m=="string"?O!=null&&encodeURIComponent(String(O)):hn(m,A,O))}function Mn(m){gt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Mn,gt);var Xa=/^https?$/i,oo=["POST","PUT"];n=Mn.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,A,O,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tr.g(),this.v=this.o?Mt(this.o):Mt(Tr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(Le){Ns(this,Le);return}if(m=O||"",O=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var be in J)O.set(be,J[be]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Le of J.keys())O.set(Le,J.get(Le));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(O.keys()).find(Le=>Le.toLowerCase()=="content-type"),be=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(oo,A,void 0))||J||be||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Le,Xe]of O)this.g.setRequestHeader(Le,Xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fs(this),this.u=!0,this.g.send(m),this.u=!1}catch(Le){Ns(this,Le)}};function Ns(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.m=5,Po(m),vi(m)}function Po(m){m.A||(m.A=!0,Ht(m,"complete"),Ht(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ht(this,"complete"),Ht(this,"abort"),vi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),Mn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ko(this):this.bb())},n.bb=function(){ko(this)};function ko(m){if(m.h&&typeof a<"u"&&(!m.v[1]||wi(m)!=4||m.Z()!=2)){if(m.u&&wi(m)==4)xt(m.Ea,0,m);else if(Ht(m,"readystatechange"),wi(m)==4){m.h=!1;try{const Xe=m.Z();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var O;if(!(O=A)){var J;if(J=Xe===0){var be=String(m.D).match(di)[1]||null;!be&&u.self&&u.self.location&&(be=u.self.location.protocol.slice(0,-1)),J=!Xa.test(be?be.toLowerCase():"")}O=J}if(O)Ht(m,"complete"),Ht(m,"success");else{m.m=6;try{var Le=2<wi(m)?m.g.statusText:""}catch{Le=""}m.l=Le+" ["+m.Z()+"]",Po(m)}}finally{vi(m)}}}}function vi(m,A){if(m.g){Fs(m);const O=m.g,J=m.v[0]?()=>{}:null;m.g=null,m.v=null,A||Ht(m,"ready");try{O.onreadystatechange=J}catch{}}}function Fs(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function wi(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),bn(A)}};function Ta(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(m){const A={};m=(m.g&&2<=wi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<m.length;J++){if(Y(m[J]))continue;var O=C(m[J]);const be=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const Le=A[be]||[];A[be]=Le,Le.push(O)}W(A,function(J){return J.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(m,A,O){return O&&O.internalChannelParams&&O.internalChannelParams[m]||A}function Na(m){this.Aa=0,this.i=[],this.j=new ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ri("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ri("baseRetryDelayMs",5e3,m),this.cb=ri("retryDelaySeedMs",1e4,m),this.Wa=ri("forwardChannelMaxRetries",2,m),this.wa=ri("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Eo(m&&m.concurrentRequestLimit),this.Da=new io,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Na.prototype,n.la=8,n.G=1,n.connect=function(m,A,O,J){Ln(0),this.W=m,this.H=A||{},O&&J!==void 0&&(this.H.OSID=O,this.H.OAID=J),this.F=this.X,this.I=Dn(this,null,this.W),x(this)};function jr(m){if(Yo(m),m.G==3){var A=m.U++,O=pi(m.I);if(hn(O,"SID",m.K),hn(O,"RID",A),hn(O,"TYPE","terminate"),ce(m,O),A=new gr(m,m.j,A),A.L=2,A.v=no(pi(O)),O=!1,u.navigator&&u.navigator.sendBeacon)try{O=u.navigator.sendBeacon(A.v.toString(),"")}catch{}!O&&u.Image&&(new Image().src=A.v,O=!0),O||(A.g=vr(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Pn(A)}lr(m)}function _i(m){m.g&&(st(m),m.g.cancel(),m.g=null)}function Yo(m){_i(m),m.u&&(u.clearTimeout(m.u),m.u=null),Ct(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function x(m){if(!ki(m.h)&&!m.s){m.s=!0;var A=m.Ga;Ee||_e(),ee||(Ee(),ee=!0),he.add(A,m),m.B=0}}function V(m,A){return Ya(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=A.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=mr(_(m.Ga,m,A),yn(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const be=new gr(this,this.j,m);let Le=this.o;if(this.S&&(Le?(Le=R(Le),q(Le,this.S)):Le=this.S),this.m!==null||this.O||(be.H=Le,Le=null),this.P)e:{for(var A=0,O=0;O<this.i.length;O++){t:{var J=this.i[O];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(A+=J,4096<A){A=O;break e}if(A===4096||O===this.i.length-1){A=O+1;break e}}A=1e3}else A=1e3;A=we(this,be,A),O=pi(this.I),hn(O,"RID",m),hn(O,"CVER",22),this.D&&hn(O,"X-HTTP-Session-Id",this.D),ce(this,O),Le&&(this.O?A="headers="+encodeURIComponent(String(is(Le)))+"&"+A:this.m&&Io(O,this.m,Le)),Qa(this.h,be),this.Ua&&hn(O,"TYPE","init"),this.P?(hn(O,"$req",A),hn(O,"SID","null"),be.T=!0,to(be,O,null)):to(be,O,A),this.G=2}}else this.G==3&&(m?ie(this,m):this.i.length==0||ki(this.h)||ie(this))};function ie(m,A){var O;A?O=A.l:O=m.U++;const J=pi(m.I);hn(J,"SID",m.K),hn(J,"RID",O),hn(J,"AID",m.T),ce(m,J),m.m&&m.o&&Io(J,m.m,m.o),O=new gr(m,m.j,O,m.B+1),m.m===null&&(O.H=m.o),A&&(m.i=A.D.concat(m.i)),A=we(m,O,1e3),O.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Qa(m.h,O),to(O,J,A)}function ce(m,A){m.H&&ge(m.H,function(O,J){hn(A,J,O)}),m.l&&ns({},function(O,J){hn(A,J,O)})}function we(m,A,O){O=Math.min(m.i.length,O);var J=m.l?_(m.l.Na,m.l,m):null;e:{var be=m.i;let Le=-1;for(;;){const Xe=["count="+O];Le==-1?0<O?(Le=be[0].g,Xe.push("ofs="+Le)):Le=0:Xe.push("ofs="+Le);let mn=!0;for(let ur=0;ur<O;ur++){let an=be[ur].g;const sn=be[ur].map;if(an-=Le,0>an)Le=Math.max(0,be[ur].g-100),mn=!1;else try{Fl(sn,Xe,"req"+an+"_")}catch{J&&J(sn)}}if(mn){J=Xe.join("&");break e}}}return m=m.i.splice(0,O),A.D=m,J}function Be(m){if(!m.g&&!m.u){m.Y=1;var A=m.Fa;Ee||_e(),ee||(Ee(),ee=!0),he.add(A,m),m.v=0}}function $e(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=mr(_(m.Fa,m),yn(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,dt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=mr(_(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ln(10),_i(this),dt(this))};function st(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function dt(m){m.g=new gr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var A=pi(m.qa);hn(A,"RID","rpc"),hn(A,"SID",m.K),hn(A,"AID",m.T),hn(A,"CI",m.F?"0":"1"),!m.F&&m.ja&&hn(A,"TO",m.ja),hn(A,"TYPE","xmlhttp"),ce(m,A),m.m&&m.o&&Io(A,m.m,m.o),m.L&&(m.g.I=m.L);var O=m.g;m=m.ia,O.L=1,O.v=no(pi(A)),O.m=null,O.P=!0,So(O,m)}n.Za=function(){this.C!=null&&(this.C=null,_i(this),$e(this),Ln(19))};function Ct(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function jt(m,A){var O=null;if(m.g==A){Ct(m),st(m),m.g=null;var J=2}else if(Or(m.h,A))O=A.D,ar(m.h,A),J=1;else return;if(m.G!=0){if(A.o)if(J==1){O=A.m?A.m.length:0,A=Date.now()-A.F;var be=m.B;J=pr(),Ht(J,new Zi(J,O)),x(m)}else Be(m);else if(be=A.s,be==3||be==0&&0<A.X||!(J==1&&V(m,A)||J==2&&$e(m)))switch(O&&0<O.length&&(A=m.h,A.i=A.i.concat(O)),be){case 1:Sn(m,5);break;case 4:Sn(m,10);break;case 3:Sn(m,6);break;default:Sn(m,2)}}}function yn(m,A){let O=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(O*=2),O*A}function Sn(m,A){if(m.j.info("Error code "+A),A==2){var O=_(m.fb,m),J=m.Xa;const be=!J;J=new Rn(J||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ko(J,"https"),no(J),be?zu(J.toString(),O):Ml(J.toString(),O)}else Ln(2);m.G=0,m.l&&m.l.sa(A),lr(m),Yo(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Ln(2)):(this.j.info("Failed to ping google.com"),Ln(1))};function lr(m){if(m.G=0,m.ka=[],m.l){const A=Ja(m.h);(A.length!=0||m.i.length!=0)&&(P(m.ka,A),P(m.ka,m.i),m.h.i.length=0,I(m.i),m.i.length=0),m.l.ra()}}function Dn(m,A,O){var J=O instanceof Rn?pi(O):new Rn(O);if(J.g!="")A&&(J.g=A+"."+J.g),To(J,J.s);else{var be=u.location;J=be.protocol,A=A?A+"."+be.hostname:be.hostname,be=+be.port;var Le=new Rn(null);J&&Ko(Le,J),A&&(Le.g=A),be&&To(Le,be),O&&(Le.l=O),J=Le}return O=m.D,A=m.ya,O&&A&&hn(J,O,A),hn(J,"VER",m.la),ce(m,J),J}function vr(m,A,O){if(A&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Ca&&!m.pa?new Mn(new so({eb:O})):new Mn(m.pa),A.Ha(m.J),A}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function nr(){}n=nr.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wr(){}wr.prototype.g=function(m,A){return new Jn(m,A)};function Jn(m,A){gt.call(this),this.g=new Na(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(m?m["X-WebChannel-Client-Profile"]=A.va:m={"X-WebChannel-Client-Profile":A.va}),this.g.S=m,(m=A&&A.Sb)&&!Y(m)&&(this.g.m=m),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!Y(A)&&(this.g.D=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new zi(this)}T(Jn,gt),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){jr(this.g)},Jn.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var O={};O.__data__=m,m=O}else this.u&&(O={},O.__data__=Vt(m),m=O);A.i.push(new xa(A.Ya++,m)),A.G==3&&x(A)},Jn.prototype.N=function(){this.g.l=null,delete this.j,jr(this.g),delete this.g,Jn.aa.N.call(this)};function xi(m){cn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const O in A){m=O;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}T(xi,cn);function Za(){Rt.call(this),this.status=1}T(Za,Rt);function zi(m){this.g=m}T(zi,nr),zi.prototype.ua=function(){Ht(this.g,"a")},zi.prototype.ta=function(m){Ht(this.g,new xi(m))},zi.prototype.sa=function(m){Ht(this.g,new Za)},zi.prototype.ra=function(){Ht(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,A4=function(){return new wr},S4=function(){return pr()},b4=rn,m1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,qp=Ii,Ts.COMPLETE="complete",x4=Ts,Qn.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Lf=Qn,Mn.prototype.listenOnce=Mn.prototype.L,Mn.prototype.getLastError=Mn.prototype.Ka,Mn.prototype.getLastErrorCode=Mn.prototype.Ba,Mn.prototype.getStatus=Mn.prototype.Z,Mn.prototype.getResponseJson=Mn.prototype.Oa,Mn.prototype.getResponseText=Mn.prototype.oa,Mn.prototype.send=Mn.prototype.ea,Mn.prototype.setWithCredentials=Mn.prototype.Ha,_4=Mn}).apply(typeof wp<"u"?wp:typeof self<"u"?self:typeof window<"u"?window:{});const F5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_s.UNAUTHENTICATED=new _s(null),_s.GOOGLE_CREDENTIALS=new _s("google-credentials-uid"),_s.FIRST_PARTY=new _s("first-party-uid"),_s.MOCK_USER=new _s("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new dy("@firebase/firestore");function Sf(){return Nc.logLevel}function wt(n,...e){if(Nc.logLevel<=wn.DEBUG){const t=e.map(Ny);Nc.debug(`Firestore (${zh}): ${n}`,...t)}}function Cl(n,...e){if(Nc.logLevel<=wn.ERROR){const t=e.map(Ny);Nc.error(`Firestore (${zh}): ${n}`,...t)}}function Ih(n,...e){if(Nc.logLevel<=wn.WARN){const t=e.map(Ny);Nc.warn(`Firestore (${zh}): ${n}`,...t)}}function Ny(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(n="Unexpected state"){const e=`FIRESTORE (${zh}) INTERNAL ASSERTION FAILED: `+n;throw Cl(e),new Error(e)}function Yn(n,e){n||Kt()}function Zt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Dl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(_s.UNAUTHENTICATED)))}shutdown(){}}class Ak{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ek{constructor(e){this.t=e,this.currentUser=_s.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Yn(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new Tl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Tl,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Tl)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yn(typeof r.accessToken=="string"),new E4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yn(e===null||typeof e=="string"),new _s(e)}}class Tk{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=_s.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Nk{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Tk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(_s.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ik{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Yn(this.o===void 0);const r=s=>{s.error!=null&&wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,wt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Yn(typeof t.token=="string"),this.R=t.token,new Ik(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=kk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Cn(n,e){return n<e?-1:n>e?1:0}function Ph(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new lt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new lt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new lt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ti.fromMillis(Date.now())}static fromDate(e){return Ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ti(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cn(this.nanoseconds,e.nanoseconds):Cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xt(e)}static min(){return new Xt(new Ti(0,0))}static max(){return new Xt(new Ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t,r){t===void 0?t=0:t>e.length&&Kt(),r===void 0?r=e.length-t:r>e.length-t&&Kt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ed.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ed?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hr extends ed{construct(e,t,r){return new hr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt(We.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new hr(t)}static emptyPath(){return new hr([])}}const Ck=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qi extends ed{construct(e,t,r){return new Qi(e,t,r)}static isValidIdentifier(e){return Ck.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new lt(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new lt(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new lt(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new lt(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qi(t)}static emptyPath(){return new Qi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.path=e}static fromPath(e){return new kt(hr.fromString(e))}static fromName(e){return new kt(hr.fromString(e).popFirst(5))}static empty(){return new kt(hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&hr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return hr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new hr(e.slice()))}}function Lk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Xt.fromTimestamp(r===1e9?new Ti(t+1,0):new Ti(t,r));return new Nu(i,kt.empty(),e)}function Rk(n){return new Nu(n.readTime,n.key,-1)}class Nu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Nu(Xt.min(),kt.empty(),-1)}static max(){return new Nu(Xt.max(),kt.empty(),-1)}}function Dk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=kt.comparator(n.documentKey,e.documentKey),t!==0?t:Cn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(n){if(n.code!==We.FAILED_PRECONDITION||n.message!==Ok)throw n;wt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qe(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Qe?t:Qe.resolve(t)}catch(t){return Qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Qe.reject(t)}static resolve(e){return new Qe(((t,r)=>{t(e)}))}static reject(e){return new Qe(((t,r)=>{r(e)}))}static waitFor(e){return new Qe(((t,r)=>{let i=0,s=0,a=!1;e.forEach((u=>{++i,u.next((()=>{++s,a&&s===i&&t()}),(c=>r(c)))})),a=!0,s===i&&t()}))}static or(e){let t=Qe.resolve(!1);for(const r of e)t=t.next((i=>i?Qe.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,s)=>{r.push(t.call(this,i,s))})),this.waitFor(r)}static mapArray(e,t){return new Qe(((r,i)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const f=c;t(e[f]).next((d=>{a[f]=d,++u,u===s&&r(a)}),(d=>i(d)))}}))}static doWhile(e,t){return new Qe(((r,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):r()};s()}))}}function Mk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Iy.oe=-1;function Vm(n){return n==null}function dm(n){return n===0&&1/n==-1/0}function Fk(n){return typeof n=="number"&&Number.isInteger(n)&&!dm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function N4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,t){this.comparator=e,this.root=t||Ki.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _p(this.root,e,this.comparator,!1)}getReverseIterator(){return new _p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _p(this.root,e,this.comparator,!0)}}class _p{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ki{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Ki.RED,this.left=i??Ki.EMPTY,this.right=s??Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ki(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ki.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Kt();const e=this.left.check();if(e!==this.right.check())throw Kt();return e+(this.isRed()?0:1)}}Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1;Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt()}get value(){throw Kt()}get color(){throw Kt()}get left(){throw Kt()}get right(){throw Kt()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Ki(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new U5(this.data.getIterator())}getIteratorFrom(e){return new U5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ji)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ji(this.comparator);return t.data=e,t}}class U5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.fields=e,e.sort(Qi.comparator)}static empty(){return new yo([])}unionWith(e){let t=new Ji(Qi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new yo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ph(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new I4("Invalid base64 string: "+s):s}})(e);return new Xi(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Xi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xi.EMPTY_BYTE_STRING=new Xi("");const Vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Iu(n){if(Yn(!!n),typeof n=="string"){let e=0;const t=Vk.exec(n);if(Yn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kr(n.seconds),nanos:Kr(n.nanos)}}function Kr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ic(n){return typeof n=="string"?Xi.fromBase64String(n):Xi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function ky(n){const e=n.mapValue.fields.__previous_value__;return Py(e)?ky(e):e}function td(n){const e=Iu(n.mapValue.fields.__local_write_time__.timestampValue);return new Ti(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t,r,i,s,a,u,c,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class nd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp={mapValue:{}};function Pc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Py(n)?4:qk(n)?9007199254740991:Bk(n)?10:11:Kt()}function Wa(n,e){if(n===e)return!0;const t=Pc(n);if(t!==Pc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return td(n).isEqual(td(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Iu(i.timestampValue),u=Iu(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return Ic(i.bytesValue).isEqual(Ic(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return Kr(i.geoPointValue.latitude)===Kr(s.geoPointValue.latitude)&&Kr(i.geoPointValue.longitude)===Kr(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Kr(i.integerValue)===Kr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Kr(i.doubleValue),u=Kr(s.doubleValue);return a===u?dm(a)===dm(u):isNaN(a)&&isNaN(u)}return!1})(n,e);case 9:return Ph(n.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(V5(a)!==V5(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!Wa(a[c],u[c])))return!1;return!0})(n,e);default:return Kt()}}function rd(n,e){return(n.values||[]).find((t=>Wa(t,e)))!==void 0}function kh(n,e){if(n===e)return 0;const t=Pc(n),r=Pc(e);if(t!==r)return Cn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Cn(n.booleanValue,e.booleanValue);case 2:return(function(s,a){const u=Kr(s.integerValue||s.doubleValue),c=Kr(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(n,e);case 3:return B5(n.timestampValue,e.timestampValue);case 4:return B5(td(n),td(e));case 5:return Cn(n.stringValue,e.stringValue);case 6:return(function(s,a){const u=Ic(s),c=Ic(a);return u.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(s,a){const u=s.split("/"),c=a.split("/");for(let f=0;f<u.length&&f<c.length;f++){const d=Cn(u[f],c[f]);if(d!==0)return d}return Cn(u.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,a){const u=Cn(Kr(s.latitude),Kr(a.latitude));return u!==0?u:Cn(Kr(s.longitude),Kr(a.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return q5(n.arrayValue,e.arrayValue);case 10:return(function(s,a){var u,c,f,d;const y=s.fields||{},_=a.fields||{},w=(u=y.value)===null||u===void 0?void 0:u.arrayValue,T=(c=_.value)===null||c===void 0?void 0:c.arrayValue,I=Cn(((f=w==null?void 0:w.values)===null||f===void 0?void 0:f.length)||0,((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0);return I!==0?I:q5(w,T)})(n.mapValue,e.mapValue);case 11:return(function(s,a){if(s===xp.mapValue&&a===xp.mapValue)return 0;if(s===xp.mapValue)return 1;if(a===xp.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),f=a.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let y=0;y<c.length&&y<d.length;++y){const _=Cn(c[y],d[y]);if(_!==0)return _;const w=kh(u[c[y]],f[d[y]]);if(w!==0)return w}return Cn(c.length,d.length)})(n.mapValue,e.mapValue);default:throw Kt()}}function B5(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Cn(n,e);const t=Iu(n),r=Iu(e),i=Cn(t.seconds,r.seconds);return i!==0?i:Cn(t.nanos,r.nanos)}function q5(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=kh(t[i],r[i]);if(s)return s}return Cn(t.length,r.length)}function Ch(n){return g1(n)}function g1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Iu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ic(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return kt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=g1(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${g1(t.fields[a])}`;return i+"}"})(n.mapValue):Kt()}function z5(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function y1(n){return!!n&&"integerValue"in n}function Cy(n){return!!n&&"arrayValue"in n}function H5(n){return!!n&&"nullValue"in n}function $5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zp(n){return!!n&&"mapValue"in n}function Bk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Vf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Rc(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Vf(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.value=e}static empty(){return new Ks({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vf(t)}setAll(e){let t=Qi.emptyPath(),r={},i=[];e.forEach(((a,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=u.popLast()}a?r[u.lastSegment()]=Vf(a):i.push(u.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];zp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Rc(t,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Ks(Vf(this.value))}}function P4(n){const e=[];return Rc(n.fields,((t,r)=>{const i=new Qi([t]);if(zp(r)){const s=P4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new yo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,r,i,s,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new xs(e,0,Xt.min(),Xt.min(),Xt.min(),Ks.empty(),0)}static newFoundDocument(e,t,r,i){return new xs(e,1,t,Xt.min(),r,i,0)}static newNoDocument(e,t){return new xs(e,2,t,Xt.min(),Xt.min(),Ks.empty(),0)}static newUnknownDocument(e,t){return new xs(e,3,t,Xt.min(),Xt.min(),Ks.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ks.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ks.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t){this.position=e,this.inclusive=t}}function W5(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],a=n.position[i];if(s.field.isKeyField()?r=kt.comparator(kt.fromName(a.referenceValue),t.key):r=kh(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function G5(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wa(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t="asc"){this.field=e,this.dir=t}}function zk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{}class hi extends k4{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new $k(e,t,r):t==="array-contains"?new Kk(e,r):t==="in"?new Yk(e,r):t==="not-in"?new Qk(e,r):t==="array-contains-any"?new Jk(e,r):new hi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Wk(e,r):new Gk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(kh(t,this.value)):t!==null&&Pc(this.value)===Pc(t)&&this.matchesComparison(kh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ma extends k4{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ma(e,t)}matches(e){return C4(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function C4(n){return n.op==="and"}function L4(n){return Hk(n)&&C4(n)}function Hk(n){for(const e of n.filters)if(e instanceof ma)return!1;return!0}function v1(n){if(n instanceof hi)return n.field.canonicalString()+n.op.toString()+Ch(n.value);if(L4(n))return n.filters.map((e=>v1(e))).join(",");{const e=n.filters.map((t=>v1(t))).join(",");return`${n.op}(${e})`}}function R4(n,e){return n instanceof hi?(function(r,i){return i instanceof hi&&r.op===i.op&&r.field.isEqual(i.field)&&Wa(r.value,i.value)})(n,e):n instanceof ma?(function(r,i){return i instanceof ma&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,u)=>s&&R4(a,i.filters[u])),!0):!1})(n,e):void Kt()}function D4(n){return n instanceof hi?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ch(t.value)}`})(n):n instanceof ma?(function(t){return t.op.toString()+" {"+t.getFilters().map(D4).join(" ,")+"}"})(n):"Filter"}class $k extends hi{constructor(e,t,r){super(e,t,r),this.key=kt.fromName(r.referenceValue)}matches(e){const t=kt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Wk extends hi{constructor(e,t){super(e,"in",t),this.keys=O4("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Gk extends hi{constructor(e,t){super(e,"not-in",t),this.keys=O4("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function O4(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>kt.fromName(r.referenceValue)))}class Kk extends hi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cy(t)&&rd(t.arrayValue,this.value)}}class Yk extends hi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rd(this.value.arrayValue,t)}}class Qk extends hi{constructor(e,t){super(e,"not-in",t)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!rd(this.value.arrayValue,t)}}class Jk extends hi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>rd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.ue=null}}function K5(n,e=null,t=[],r=[],i=null,s=null,a=null){return new Xk(n,e,t,r,i,s,a)}function Ly(n){const e=Zt(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>v1(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Vm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Ch(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Ch(r))).join(",")),e.ue=t}return e.ue}function Ry(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!R4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!G5(n.startAt,e.startAt)&&G5(n.endAt,e.endAt)}function w1(n){return kt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t=null,r=[],i=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Zk(n,e,t,r,i,s,a,u){return new Hh(n,e,t,r,i,s,a,u)}function Um(n){return new Hh(n)}function Y5(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function j4(n){return n.collectionGroup!==null}function Uf(n){const e=Zt(n);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Ji(Qi.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new id(s,r))})),t.has(Qi.keyField().canonicalString())||e.ce.push(new id(Qi.keyField(),r))}return e.ce}function za(n){const e=Zt(n);return e.le||(e.le=eC(e,Uf(n))),e.le}function eC(n,e){if(n.limitType==="F")return K5(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new id(i.field,s)}));const t=n.endAt?new pm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pm(n.startAt.position,n.startAt.inclusive):null;return K5(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _1(n,e){const t=n.filters.concat([e]);return new Hh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function x1(n,e,t){return new Hh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bm(n,e){return Ry(za(n),za(e))&&n.limitType===e.limitType}function M4(n){return`${Ly(za(n))}|lt:${n.limitType}`}function uh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>D4(i))).join(", ")}]`),Vm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Ch(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Ch(i))).join(",")),`Target(${r})`})(za(n))}; limitType=${n.limitType})`}function qm(n,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):kt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(const s of Uf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(a,u,c){const f=W5(a,u,c);return a.inclusive?f<=0:f<0})(r.startAt,Uf(r),i)||r.endAt&&!(function(a,u,c){const f=W5(a,u,c);return a.inclusive?f>=0:f>0})(r.endAt,Uf(r),i))})(n,e)}function tC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function F4(n){return(e,t)=>{let r=!1;for(const i of Uf(n)){const s=nC(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function nC(n,e,t){const r=n.field.isKeyField()?kt.comparator(e.key,t.key):(function(s,a,u){const c=a.data.field(s),f=u.data.field(s);return c!==null&&f!==null?kh(c,f):Kt()})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Kt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rc(this.inner,((t,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return N4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new Dr(kt.comparator);function Ll(){return rC}const V4=new Dr(kt.comparator);function Rf(...n){let e=V4;for(const t of n)e=e.insert(t.key,t);return e}function U4(n){let e=V4;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function gc(){return Bf()}function B4(){return Bf()}function Bf(){return new $h((n=>n.toString()),((n,e)=>n.isEqual(e)))}const iC=new Dr(kt.comparator),sC=new Ji(kt.comparator);function vn(...n){let e=sC;for(const t of n)e=e.add(t);return e}const oC=new Ji(Cn);function aC(){return oC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dm(e)?"-0":e}}function q4(n){return{integerValue:""+n}}function z4(n,e){return Fk(e)?q4(e):Dy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this._=void 0}}function lC(n,e,t){return n instanceof sd?(function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Py(s)&&(s=ky(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}})(t,e):n instanceof od?$4(n,e):n instanceof ad?W4(n,e):(function(i,s){const a=H4(i,s),u=Q5(a)+Q5(i.Pe);return y1(a)&&y1(i.Pe)?q4(u):Dy(i.serializer,u)})(n,e)}function uC(n,e,t){return n instanceof od?$4(n,e):n instanceof ad?W4(n,e):t}function H4(n,e){return n instanceof ld?(function(r){return y1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class sd extends zm{}class od extends zm{constructor(e){super(),this.elements=e}}function $4(n,e){const t=G4(e);for(const r of n.elements)t.some((i=>Wa(i,r)))||t.push(r);return{arrayValue:{values:t}}}class ad extends zm{constructor(e){super(),this.elements=e}}function W4(n,e){let t=G4(e);for(const r of n.elements)t=t.filter((i=>!Wa(i,r)));return{arrayValue:{values:t}}}class ld extends zm{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Q5(n){return Kr(n.integerValue||n.doubleValue)}function G4(n){return Cy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this.field=e,this.transform=t}}function cC(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof od&&i instanceof od||r instanceof ad&&i instanceof ad?Ph(r.elements,i.elements,Wa):r instanceof ld&&i instanceof ld?Wa(r.Pe,i.Pe):r instanceof sd&&i instanceof sd})(n.transform,e.transform)}class hC{constructor(e,t){this.version=e,this.transformResults=t}}class pa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pa}static exists(e){return new pa(void 0,e)}static updateTime(e){return new pa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Hm{}function Y4(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new J4(n.key,pa.none()):new bd(n.key,n.data,pa.none());{const t=n.data,r=Ks.empty();let i=new Ji(Qi.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Vu(n.key,r,new yo(i.toArray()),pa.none())}}function fC(n,e,t){n instanceof bd?(function(i,s,a){const u=i.value.clone(),c=X5(i.fieldTransforms,s,a.transformResults);u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Vu?(function(i,s,a){if(!Hp(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=X5(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(Q4(i)),c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(n,e,t):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function qf(n,e,t,r){return n instanceof bd?(function(s,a,u,c){if(!Hp(s.precondition,a))return u;const f=s.value.clone(),d=Z5(s.fieldTransforms,c,a);return f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof Vu?(function(s,a,u,c){if(!Hp(s.precondition,a))return u;const f=Z5(s.fieldTransforms,c,a),d=a.data;return d.setAll(Q4(s)),d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(s,a,u){return Hp(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u})(n,e,t)}function dC(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=H4(r.transform,i||null);s!=null&&(t===null&&(t=Ks.empty()),t.set(r.field,s))}return t||null}function J5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ph(r,i,((s,a)=>cC(s,a)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bd extends Hm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vu extends Hm{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Q4(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function X5(n,e,t){const r=new Map;Yn(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,uC(a,u,t[i]))}return r}function Z5(n,e,t){const r=new Map;for(const i of n){const s=i.transform,a=t.data.field(i.field);r.set(i.field,lC(s,a,e))}return r}class J4 extends Hm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pC extends Hm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fC(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=qf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=qf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=B4();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=t.has(i.key)?null:u;const c=Y4(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Xt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),vn())}isEqual(e){return this.batchId===e.batchId&&Ph(this.mutations,e.mutations,((t,r)=>J5(t,r)))&&Ph(this.baseMutations,e.baseMutations,((t,r)=>J5(t,r)))}}class Oy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Yn(e.mutations.length===r.length);let i=(function(){return iC})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Oy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui,xn;function vC(n){switch(n){default:return Kt();case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0}}function X4(n){if(n===void 0)return Cl("GRPC error has no .code"),We.UNKNOWN;switch(n){case ui.OK:return We.OK;case ui.CANCELLED:return We.CANCELLED;case ui.UNKNOWN:return We.UNKNOWN;case ui.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case ui.INTERNAL:return We.INTERNAL;case ui.UNAVAILABLE:return We.UNAVAILABLE;case ui.UNAUTHENTICATED:return We.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case ui.NOT_FOUND:return We.NOT_FOUND;case ui.ALREADY_EXISTS:return We.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return We.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case ui.ABORTED:return We.ABORTED;case ui.OUT_OF_RANGE:return We.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return We.UNIMPLEMENTED;case ui.DATA_LOSS:return We.DATA_LOSS;default:return Kt()}}(xn=ui||(ui={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new _c([4294967295,4294967295],0);function ew(n){const e=wC().encode(n),t=new w4;return t.update(e),new Uint8Array(t.digest())}function tw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _c([t,r],0),new _c([i,s],0)]}class jy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Df(`Invalid padding: ${t}`);if(r<0)throw new Df(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Df(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Df(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=_c.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(_c.fromNumber(r)));return i.compare(_C)===1&&(i=new _c([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=ew(e),[r,i]=tw(t);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new jy(s,i,t);return r.forEach((u=>a.insert(u))),a}insert(e){if(this.Ie===0)return;const t=ew(e),[r,i]=tw(t);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Df extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $m(Xt.min(),i,new Dr(Cn),Ll(),vn())}}class Sd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Sd(r,t,vn(),vn(),vn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class Z4{constructor(e,t){this.targetId=e,this.me=t}}class eS{constructor(e,t,r=Xi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class nw{constructor(){this.fe=0,this.ge=iw(),this.pe=Xi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=vn(),t=vn(),r=vn();return this.ge.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Kt()}})),new Sd(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=iw()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Yn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xC{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ll(),this.qe=rw(),this.Qe=new Dr(Cn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Kt()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((r,i)=>{this.ze(i)&&t(i)}))}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(w1(s))if(r===0){const a=new kt(s.path);this.Ue(t,a,xs.newNoDocument(a,Xt.min()))}else Yn(r===1);else{const a=this.Ye(t);if(a!==r){const u=this.Ze(e),c=u?this.Xe(u,e,a):1;if(c!==0){this.je(t);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,f)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let a,u;try{a=Ic(r).toUint8Array()}catch(c){if(c instanceof I4)return Ih("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new jy(a,i,s)}catch(c){return Ih(c instanceof Df?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach((s=>{const a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(t,s,null),i++)})),i}rt(e){const t=new Map;this.Be.forEach(((s,a)=>{const u=this.Je(a);if(u){if(s.current&&w1(u.target)){const c=new kt(u.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,xs.newNoDocument(c,e))}s.be&&(t.set(a,s.ve()),s.Ce())}}));let r=vn();this.qe.forEach(((s,a)=>{let u=!0;a.forEachWhile((c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.ke.forEach(((s,a)=>a.setReadTime(e)));const i=new $m(e,t,this.Qe,this.ke,r);return this.ke=Ll(),this.qe=rw(),this.Qe=new Dr(Cn),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new nw,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ji(Cn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||wt("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new nw),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function rw(){return new Dr(kt.comparator)}function iw(){return new Dr(kt.comparator)}const bC={asc:"ASCENDING",desc:"DESCENDING"},SC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AC={and:"AND",or:"OR"};class EC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function b1(n,e){return n.useProto3Json||Vm(e)?e:{value:e}}function mm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function TC(n,e){return mm(n,e.toTimestamp())}function Ha(n){return Yn(!!n),Xt.fromTimestamp((function(t){const r=Iu(t);return new Ti(r.seconds,r.nanos)})(n))}function My(n,e){return S1(n,e).canonicalString()}function S1(n,e){const t=(function(i){return new hr(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function nS(n){const e=hr.fromString(n);return Yn(aS(e)),e}function A1(n,e){return My(n.databaseId,e.path)}function g0(n,e){const t=nS(e);if(t.get(1)!==n.databaseId.projectId)throw new lt(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new lt(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new kt(iS(t))}function rS(n,e){return My(n.databaseId,e)}function NC(n){const e=nS(n);return e.length===4?hr.emptyPath():iS(e)}function E1(n){return new hr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iS(n){return Yn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function sw(n,e,t){return{name:A1(n,e),fields:t.value.mapValue.fields}}function IC(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Kt()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,d){return f.useProto3Json?(Yn(d===void 0||typeof d=="string"),Xi.fromBase64String(d||"")):(Yn(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Xi.fromUint8Array(d||new Uint8Array))})(n,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(f){const d=f.code===void 0?We.UNKNOWN:X4(f.code);return new lt(d,f.message||"")})(a);t=new eS(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=g0(n,r.document.name),s=Ha(r.document.updateTime),a=r.document.createTime?Ha(r.document.createTime):Xt.min(),u=new Ks({mapValue:{fields:r.document.fields}}),c=xs.newFoundDocument(i,s,a,u),f=r.targetIds||[],d=r.removedTargetIds||[];t=new $p(f,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=g0(n,r.document),s=r.readTime?Ha(r.readTime):Xt.min(),a=xs.newNoDocument(i,s),u=r.removedTargetIds||[];t=new $p([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=g0(n,r.document),s=r.removedTargetIds||[];t=new $p([],s,i,null)}else{if(!("filter"in e))return Kt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new yC(i,s),u=r.targetId;t=new Z4(u,a)}}return t}function PC(n,e){let t;if(e instanceof bd)t={update:sw(n,e.key,e.value)};else if(e instanceof J4)t={delete:A1(n,e.key)};else if(e instanceof Vu)t={update:sw(n,e.key,e.data),updateMask:FC(e.fieldMask)};else{if(!(e instanceof pC))return Kt();t={verify:A1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const u=a.transform;if(u instanceof sd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof od)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ad)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ld)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw Kt()})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:TC(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Kt()})(n,e.precondition)),t}function kC(n,e){return n&&n.length>0?(Yn(e!==void 0),n.map((t=>(function(i,s){let a=i.updateTime?Ha(i.updateTime):Ha(s);return a.isEqual(Xt.min())&&(a=Ha(s)),new hC(a,i.transformResults||[])})(t,e)))):[]}function CC(n,e){return{documents:[rS(n,e.path)]}}function LC(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=rS(n,i);const s=(function(f){if(f.length!==0)return oS(ma.create(f,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const a=(function(f){if(f.length!==0)return f.map((d=>(function(_){return{field:ch(_.field),direction:OC(_.dir)}})(d)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=b1(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{_t:t,parent:i}}function RC(n){let e=NC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Yn(r===1);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=(function(y){const _=sS(y);return _ instanceof ma&&L4(_)?_.getFilters():[_]})(t.where));let a=[];t.orderBy&&(a=(function(y){return y.map((_=>(function(T){return new id(hh(T.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(_)))})(t.orderBy));let u=null;t.limit&&(u=(function(y){let _;return _=typeof y=="object"?y.value:y,Vm(_)?null:_})(t.limit));let c=null;t.startAt&&(c=(function(y){const _=!!y.before,w=y.values||[];return new pm(w,_)})(t.startAt));let f=null;return t.endAt&&(f=(function(y){const _=!y.before,w=y.values||[];return new pm(w,_)})(t.endAt)),Zk(e,i,a,s,u,"F",c,f)}function DC(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=hh(t.unaryFilter.field);return hi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hh(t.unaryFilter.field);return hi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hh(t.unaryFilter.field);return hi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=hh(t.unaryFilter.field);return hi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Kt()}})(n):n.fieldFilter!==void 0?(function(t){return hi.create(hh(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kt()}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ma.create(t.compositeFilter.filters.map((r=>sS(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Kt()}})(t.compositeFilter.op))})(n):Kt()}function OC(n){return bC[n]}function jC(n){return SC[n]}function MC(n){return AC[n]}function ch(n){return{fieldPath:n.canonicalString()}}function hh(n){return Qi.fromServerFormat(n.fieldPath)}function oS(n){return n instanceof hi?(function(t){if(t.op==="=="){if($5(t.value))return{unaryFilter:{field:ch(t.field),op:"IS_NAN"}};if(H5(t.value))return{unaryFilter:{field:ch(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($5(t.value))return{unaryFilter:{field:ch(t.field),op:"IS_NOT_NAN"}};if(H5(t.value))return{unaryFilter:{field:ch(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ch(t.field),op:jC(t.op),value:t.value}}})(n):n instanceof ma?(function(t){const r=t.getFilters().map((i=>oS(i)));return r.length===1?r[0]:{compositeFilter:{op:MC(t.op),filters:r}}})(n):Kt()}function FC(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function aS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t,r,i,s=Xt.min(),a=Xt.min(),u=Xi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.ct=e}}function UC(n){const e=RC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?x1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.un=new qC}addToCollectionParentIndex(e,t){return this.un.add(t),Qe.resolve()}getCollectionParents(e,t){return Qe.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Qe.resolve()}deleteFieldIndex(e,t){return Qe.resolve()}deleteAllFieldIndexes(e){return Qe.resolve()}createTargetIndexes(e,t){return Qe.resolve()}getDocumentsMatchingTarget(e,t){return Qe.resolve(null)}getIndexType(e,t){return Qe.resolve(0)}getFieldIndexes(e,t){return Qe.resolve([])}getNextCollectionGroupToUpdate(e){return Qe.resolve(null)}getMinOffset(e,t){return Qe.resolve(Nu.min())}getMinOffsetFromCollectionGroup(e,t){return Qe.resolve(Nu.min())}updateCollectionGroup(e,t,r){return Qe.resolve()}updateIndexEntries(e,t){return Qe.resolve()}}class qC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ji(hr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ji(hr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Lh(0)}static kn(){return new Lh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.changes=new $h((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Qe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&qf(r.mutation,i,yo.empty(),Ti.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,vn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=vn()){const i=gc();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((s=>{let a=Rf();return s.forEach(((u,c)=>{a=a.insert(u,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const r=gc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,vn())))}populateOverlays(e,t,r){const i=[];return r.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,u)=>{t.set(a,u)}))}))}computeViews(e,t,r,i){let s=Ll();const a=Bf(),u=(function(){return Bf()})();return t.forEach(((c,f)=>{const d=r.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof Vu)?s=s.insert(f.key,f):d!==void 0?(a.set(f.key,d.mutation.getFieldMask()),qf(d.mutation,f,d.mutation.getFieldMask(),Ti.now())):a.set(f.key,yo.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((f,d)=>a.set(f,d))),t.forEach(((f,d)=>{var y;return u.set(f,new HC(d,(y=a.get(f))!==null&&y!==void 0?y:null))})),u)))}recalculateAndSaveOverlays(e,t){const r=Bf();let i=new Dr(((a,u)=>a-u)),s=vn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const u of a)u.keys().forEach((c=>{const f=t.get(c);if(f===null)return;let d=r.get(c)||yo.empty();d=u.applyToLocalView(f,d),r.set(c,d);const y=(i.get(u.batchId)||vn()).add(c);i=i.insert(u.batchId,y)}))})).next((()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,d=c.value,y=B4();d.forEach((_=>{if(!s.has(_)){const w=Y4(t.get(_),r.get(_));w!==null&&y.set(_,w),s=s.add(_)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,y))}return Qe.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(a){return kt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):j4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Qe.resolve(gc());let u=-1,c=s;return a.next((f=>Qe.forEach(f,((d,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),s.get(d)?Qe.resolve():this.remoteDocumentCache.getEntry(e,d).next((_=>{c=c.insert(d,_)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,c,f,vn()))).next((d=>({batchId:u,changes:U4(d)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new kt(t)).next((r=>{let i=Rf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let a=Rf();return this.indexManager.getCollectionParents(e,s).next((u=>Qe.forEach(u,(c=>{const f=(function(y,_){return new Hh(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((d=>{d.forEach(((y,_)=>{a=a.insert(y,_)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i)))).next((a=>{s.forEach(((c,f)=>{const d=f.getKey();a.get(d)===null&&(a=a.insert(d,xs.newInvalidDocument(d)))}));let u=Rf();return a.forEach(((c,f)=>{const d=s.get(c);d!==void 0&&qf(d.mutation,f,yo.empty(),Ti.now()),qm(t,f)&&(u=u.insert(c,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Qe.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Ha(i.createTime)}})(t)),Qe.resolve()}getNamedQuery(e,t){return Qe.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(i){return{name:i.name,query:UC(i.bundledQuery),readTime:Ha(i.readTime)}})(t)),Qe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.overlays=new Dr(kt.comparator),this.Ir=new Map}getOverlay(e,t){return Qe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=gc();return Qe.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,s)=>{this.ht(e,t,s)})),Qe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(r)),Qe.resolve()}getOverlaysForCollection(e,t,r){const i=gc(),s=t.length+1,a=new kt(t.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Qe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Dr(((f,d)=>f-d));const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let d=s.get(f.largestBatchId);d===null&&(d=gc(),s=s.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const u=gc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,d)=>u.set(f,d))),!(u.size()>=i)););return Qe.resolve(u)}ht(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new gC(t,r));let s=this.Ir.get(t);s===void 0&&(s=vn(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.sessionToken=Xi.EMPTY_BYTE_STRING}getSessionToken(e){return Qe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Qe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.Tr=new Ji(Vi.Er),this.dr=new Ji(Vi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Vi(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Vr(new Vi(e,t))}mr(e,t){e.forEach((r=>this.removeReference(r,t)))}gr(e){const t=new kt(new hr([])),r=new Vi(t,e),i=new Vi(t,e+1),s=[];return this.dr.forEachInRange([r,i],(a=>{this.Vr(a),s.push(a.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new kt(new hr([])),r=new Vi(t,e),i=new Vi(t,e+1);let s=vn();return this.dr.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const t=new Vi(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vi{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return kt.comparator(e.key,t.key)||Cn(e.wr,t.wr)}static Ar(e,t){return Cn(e.wr,t.wr)||kt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ji(Vi.Er)}checkEmpty(e){return Qe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new mC(s,t,r,i);this.mutationQueue.push(a);for(const u of i)this.br=this.br.add(new Vi(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Qe.resolve(a)}lookupMutationBatch(e,t){return Qe.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.vr(r),s=i<0?0:i;return Qe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vi(t,0),i=new Vi(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],(a=>{const u=this.Dr(a.wr);s.push(u)})),Qe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ji(Cn);return t.forEach((i=>{const s=new Vi(i,0),a=new Vi(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],(u=>{r=r.add(u.wr)}))})),Qe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;kt.isDocumentKey(s)||(s=s.child(""));const a=new Vi(new kt(s),0);let u=new Ji(Cn);return this.br.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.wr)),!0)}),a),Qe.resolve(this.Cr(u))}Cr(e){const t=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Yn(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Qe.forEach(t.mutations,(i=>{const s=new Vi(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,t){const r=new Vi(t,0),i=this.br.firstAfterOrEqual(r);return Qe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Qe.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.Mr=e,this.docs=(function(){return new Dr(kt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Qe.resolve(r?r.document.mutableCopy():xs.newInvalidDocument(t))}getEntries(e,t){let r=Ll();return t.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xs.newInvalidDocument(i))})),Qe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ll();const a=t.path,u=new kt(a.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||Dk(Rk(d),r)<=0||(i.has(d.key)||qm(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Qe.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Kt()}Or(e,t){return Qe.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new JC(this)}getSize(e){return Qe.resolve(this.size)}}class JC extends zC{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),Qe.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.persistence=e,this.Nr=new $h((t=>Ly(t)),Ry),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fy,this.targetCount=0,this.kr=Lh.Bn()}forEachTarget(e,t){return this.Nr.forEach(((r,i)=>t(i))),Qe.resolve()}getLastRemoteSnapshotVersion(e){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),Qe.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Lh(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Qe.resolve()}updateTargetData(e,t){return this.Kn(t),Qe.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Nr.forEach(((a,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Qe.waitFor(s).next((()=>i))}getTargetCount(e){return Qe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return Qe.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),Qe.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),Qe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Qe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return Qe.resolve(r)}containsKey(e,t){return Qe.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Iy(0),this.Kr=!1,this.Kr=!0,this.$r=new KC,this.referenceDelegate=e(this),this.Ur=new XC(this),this.indexManager=new BC,this.remoteDocumentCache=(function(i){return new QC(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new VC(t),this.Gr=new WC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new YC(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){wt("MemoryPersistence","Starting transaction:",e);const i=new eL(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((s=>this.referenceDelegate.jr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Hr(e,t){return Qe.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,t))))}}class eL extends jk{constructor(e){super(),this.currentSequenceNumber=e}}class Vy{constructor(e){this.persistence=e,this.Jr=new Fy,this.Yr=null}static Zr(e){return new Vy(e)}get Xr(){if(this.Yr)return this.Yr;throw Kt()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),Qe.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),Qe.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Qe.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.Xr.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.Xr,(r=>{const i=kt.fromPath(r);return this.ei(e,i).next((s=>{s||t.removeEntry(i,Xt.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Qe.or([()=>Qe.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=vn(),i=vn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Uy(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return WN()?8:Mk(As())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Yi(e,t).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.Zi(e,t,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new tL;return this.Xi(e,t,a).next((u=>{if(s.result=u,this.zi)return this.es(e,t,a,u.size)}))})).next((()=>s.result))}es(e,t,r,i){return r.documentReadCount<this.ji?(Sf()<=wn.DEBUG&&wt("QueryEngine","SDK will not create cache indexes for query:",uh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Qe.resolve()):(Sf()<=wn.DEBUG&&wt("QueryEngine","Query:",uh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Sf()<=wn.DEBUG&&wt("QueryEngine","The SDK decides to create cache indexes for query:",uh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,za(t))):Qe.resolve())}Yi(e,t){if(Y5(t))return Qe.resolve(null);let r=za(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=x1(t,null,"F"),r=za(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=vn(...s);return this.Ji.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.ts(t,u);return this.ns(t,f,a,c.readTime)?this.Yi(e,x1(t,null,"F")):this.rs(e,f,t,c)}))))})))))}Zi(e,t,r,i){return Y5(t)||i.isEqual(Xt.min())?Qe.resolve(null):this.Ji.getDocuments(e,r).next((s=>{const a=this.ts(t,s);return this.ns(t,a,r,i)?Qe.resolve(null):(Sf()<=wn.DEBUG&&wt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uh(t)),this.rs(e,a,t,Lk(i,-1)).next((u=>u)))}))}ts(e,t){let r=new Ji(F4(e));return t.forEach(((i,s)=>{qm(e,s)&&(r=r.add(s))})),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return Sf()<=wn.DEBUG&&wt("QueryEngine","Using full collection scan to execute query:",uh(t)),this.Ji.getDocumentsMatchingQuery(e,t,Nu.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((s=>(t.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Dr(Cn),this._s=new $h((s=>Ly(s)),Ry),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $C(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function iL(n,e,t,r){return new rL(n,e,t,r)}async function lS(n,e){const t=Zt(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],u=[];let c=vn();for(const f of i){a.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of s){u.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next((f=>({hs:f,removedBatchIds:a,addedBatchIds:u})))}))}))}function sL(n,e){const t=Zt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return(function(u,c,f,d){const y=f.batch,_=y.keys();let w=Qe.resolve();return _.forEach((T=>{w=w.next((()=>d.getEntry(c,T))).next((I=>{const P=f.docVersions.get(T);Yn(P!==null),I.version.compareTo(P)<0&&(y.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),d.addEntry(I)))}))})),w.next((()=>u.mutationQueue.removeMutationBatch(c,y)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=vn();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function uS(n){const e=Zt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function oL(n,e){const t=Zt(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const u=[];e.targetChanges.forEach(((d,y)=>{const _=i.get(y);if(!_)return;u.push(t.Ur.removeMatchingKeys(s,d.removedDocuments,y).next((()=>t.Ur.addMatchingKeys(s,d.addedDocuments,y))));let w=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?w=w.withResumeToken(Xi.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),i=i.insert(y,w),(function(I,P,F){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(_,w,d)&&u.push(t.Ur.updateTargetData(s,w))}));let c=Ll(),f=vn();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))})),u.push(aL(s,a,e.documentUpdates).next((d=>{c=d.Ps,f=d.Is}))),!r.isEqual(Xt.min())){const d=t.Ur.getLastRemoteSnapshotVersion(s).next((y=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(d)}return Qe.waitFor(u).next((()=>a.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,c,f))).next((()=>c))})).then((s=>(t.os=i,s)))}function aL(n,e,t){let r=vn(),i=vn();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let a=Ll();return t.forEach(((u,c)=>{const f=s.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Xt.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):wt("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)})),{Ps:a,Is:i}}))}function lL(n,e){const t=Zt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function uL(n,e){const t=Zt(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Ur.getTargetData(r,e).next((s=>s?(i=s,Qe.resolve(i)):t.Ur.allocateTargetId(r).next((a=>(i=new vu(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r}))}async function T1(n,e,t){const r=Zt(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!xd(a))throw a;wt("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function ow(n,e,t){const r=Zt(n);let i=Xt.min(),s=vn();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,f,d){const y=Zt(c),_=y._s.get(d);return _!==void 0?Qe.resolve(y.os.get(_)):y.Ur.getTargetData(f,d)})(r,a,za(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,u.targetId).next((c=>{s=c}))})).next((()=>r.ss.getDocumentsMatchingQuery(a,e,t?i:Xt.min(),t?s:vn()))).next((u=>(cL(r,tC(e),u),{documents:u,Ts:s})))))}function cL(n,e,t){let r=n.us.get(e)||Xt.min();t.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.us.set(e,r)}class aw{constructor(){this.activeTargetIds=aC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hL{constructor(){this.so=new aw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new aw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){wt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){wt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp=null;function y0(){return bp===null?bp=(function(){return 268435456+Math.round(2147483648*Math.random())})():bp++,"0x"+bp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="WebChannelConnection";class mL extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,a){const u=y0(),c=this.xo(t,r.toUriEncodedString());wt("RestConnection",`Sending RPC '${t}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,a),this.No(t,c,f,i).then((d=>(wt("RestConnection",`Received RPC '${t}' ${u}: `,d),d)),(d=>{throw Ih("RestConnection",`RPC '${t}' ${u} failed with error: `,d,"url: ",c,"request:",i),d}))}Lo(t,r,i,s,a,u){return this.Mo(t,r,i,s,a)}Oo(t,r,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((s,a)=>t[a]=s)),i&&i.headers.forEach(((s,a)=>t[a]=s))}xo(t,r){const i=dL[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const s=y0();return new Promise(((a,u)=>{const c=new _4;c.setWithCredentials(!0),c.listenOnce(x4.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case qp.NO_ERROR:const d=c.getResponseJson();wt(ps,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case qp.TIMEOUT:wt(ps,`RPC '${e}' ${s} timed out`),u(new lt(We.DEADLINE_EXCEEDED,"Request time out"));break;case qp.HTTP_ERROR:const y=c.getStatus();if(wt(ps,`RPC '${e}' ${s} failed with status:`,y,"response text:",c.getResponseText()),y>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const T=(function(P){const F=P.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(F)>=0?F:We.UNKNOWN})(w.status);u(new lt(T,w.message))}else u(new lt(We.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new lt(We.UNAVAILABLE,"Connection failed."));break;default:Kt()}}finally{wt(ps,`RPC '${e}' ${s} completed.`)}}));const f=JSON.stringify(i);wt(ps,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",f,r,15)}))}Bo(e,t,r){const i=y0(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=A4(),u=S4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const d=s.join("");wt(ps,`Creating RPC '${e}' stream ${i}: ${d}`,c);const y=a.createWebChannel(d,c);let _=!1,w=!1;const T=new pL({Io:P=>{w?wt(ps,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(_||(wt(ps,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),wt(ps,`RPC '${e}' stream ${i} sending:`,P),y.send(P))},To:()=>y.close()}),I=(P,F,Y)=>{P.listen(F,(H=>{try{Y(H)}catch($){setTimeout((()=>{throw $}),0)}}))};return I(y,Lf.EventType.OPEN,(()=>{w||(wt(ps,`RPC '${e}' stream ${i} transport opened.`),T.yo())})),I(y,Lf.EventType.CLOSE,(()=>{w||(w=!0,wt(ps,`RPC '${e}' stream ${i} transport closed`),T.So())})),I(y,Lf.EventType.ERROR,(P=>{w||(w=!0,Ih(ps,`RPC '${e}' stream ${i} transport errored:`,P),T.So(new lt(We.UNAVAILABLE,"The operation could not be completed")))})),I(y,Lf.EventType.MESSAGE,(P=>{var F;if(!w){const Y=P.data[0];Yn(!!Y);const H=Y,$=H.error||((F=H[0])===null||F===void 0?void 0:F.error);if($){wt(ps,`RPC '${e}' stream ${i} received error:`,$);const ae=$.status;let ge=(function(L){const q=ui[L];if(q!==void 0)return X4(q)})(ae),W=$.message;ge===void 0&&(ge=We.INTERNAL,W="Unknown error status: "+ae+" with message "+$.message),w=!0,T.So(new lt(ge,W)),y.close()}else wt(ps,`RPC '${e}' stream ${i} received:`,Y),T.bo(Y)}})),I(u,b4.STAT_EVENT,(P=>{P.stat===m1.PROXY?wt(ps,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===m1.NOPROXY&&wt(ps,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.wo()}),0),T}}function v0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(n){return new EC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&wt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,t,r,i,s,a,u,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cS(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===We.RESOURCE_EXHAUSTED?(Cl(t.toString()),Cl("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===t&&this.P_(r,i)}),(r=>{e((()=>{const i=new lt(We.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return wt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(wt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gL extends hS{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=IC(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Xt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Xt.min():a.readTime?Ha(a.readTime):Xt.min()})(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=E1(this.serializer),t.addTarget=(function(s,a){let u;const c=a.target;if(u=w1(c)?{documents:CC(s,c)}:{query:LC(s,c)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=tS(s,a.resumeToken);const f=b1(s,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(Xt.min())>0){u.readTime=mm(s,a.snapshotVersion.toTimestamp());const f=b1(s,a.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=DC(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=E1(this.serializer),t.removeTarget=e,this.a_(t)}}class yL extends hS{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Yn(!!e.streamToken),this.lastStreamToken=e.streamToken,Yn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Yn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=kC(e.writeResults,e.commitTime),r=Ha(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=E1(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>PC(this.serializer,r)))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new lt(We.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Mo(e,S1(t,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new lt(We.UNKNOWN,s.toString())}))}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Lo(e,S1(t,r),i,a,u,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new lt(We.UNKNOWN,a.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class wL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cl(t),this.D_=!1):wt("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((a=>{r.enqueueAndForget((async()=>{Dc(this)&&(wt("RemoteStore","Restarting streams for network reachability change."),await(async function(c){const f=Zt(c);f.L_.add(4),await Ad(f),f.q_.set("Unknown"),f.L_.delete(4),await Gm(f)})(this))}))})),this.q_=new wL(r,i)}}async function Gm(n){if(Dc(n))for(const e of n.B_)await e(!0)}async function Ad(n){for(const e of n.B_)await e(!1)}function fS(n,e){const t=Zt(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Hy(t)?zy(t):Wh(t).r_()&&qy(t,e))}function By(n,e){const t=Zt(n),r=Wh(t);t.N_.delete(e),r.r_()&&dS(t,e),t.N_.size===0&&(r.r_()?r.o_():Dc(t)&&t.q_.set("Unknown"))}function qy(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wh(n).A_(e)}function dS(n,e){n.Q_.xe(e),Wh(n).R_(e)}function zy(n){n.Q_=new xC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Wh(n).start(),n.q_.v_()}function Hy(n){return Dc(n)&&!Wh(n).n_()&&n.N_.size>0}function Dc(n){return Zt(n).L_.size===0}function pS(n){n.Q_=void 0}async function xL(n){n.q_.set("Online")}async function bL(n){n.N_.forEach(((e,t)=>{qy(n,e)}))}async function SL(n,e){pS(n),Hy(n)?(n.q_.M_(e),zy(n)):n.q_.set("Unknown")}async function AL(n,e,t){if(n.q_.set("Online"),e instanceof eS&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const u of s.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.N_.delete(u),i.Q_.removeTarget(u))})(n,e)}catch(r){wt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gm(n,r)}else if(e instanceof $p?n.Q_.Ke(e):e instanceof Z4?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Xt.min()))try{const r=await uS(n.localStore);t.compareTo(r)>=0&&await(function(s,a){const u=s.Q_.rt(a);return u.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.N_.get(f);d&&s.N_.set(f,d.withResumeToken(c.resumeToken,a))}})),u.targetMismatches.forEach(((c,f)=>{const d=s.N_.get(c);if(!d)return;s.N_.set(c,d.withResumeToken(Xi.EMPTY_BYTE_STRING,d.snapshotVersion)),dS(s,c);const y=new vu(d.target,c,f,d.sequenceNumber);qy(s,y)})),s.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){wt("RemoteStore","Failed to raise snapshot:",r),await gm(n,r)}}async function gm(n,e,t){if(!xd(e))throw e;n.L_.add(1),await Ad(n),n.q_.set("Offline"),t||(t=()=>uS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{wt("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await Gm(n)}))}function mS(n,e){return e().catch((t=>gm(n,t,e)))}async function Km(n){const e=Zt(n),t=Pu(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;EL(e);)try{const i=await lL(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,TL(e,i)}catch(i){await gm(e,i)}gS(e)&&yS(e)}function EL(n){return Dc(n)&&n.O_.length<10}function TL(n,e){n.O_.push(e);const t=Pu(n);t.r_()&&t.V_&&t.m_(e.mutations)}function gS(n){return Dc(n)&&!Pu(n).n_()&&n.O_.length>0}function yS(n){Pu(n).start()}async function NL(n){Pu(n).p_()}async function IL(n){const e=Pu(n);for(const t of n.O_)e.m_(t.mutations)}async function PL(n,e,t){const r=n.O_.shift(),i=Oy.from(r,e,t);await mS(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Km(n)}async function kL(n,e){e&&Pu(n).V_&&await(async function(r,i){if((function(a){return vC(a)&&a!==We.ABORTED})(i.code)){const s=r.O_.shift();Pu(r).s_(),await mS(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Km(r)}})(n,e),gS(n)&&yS(n)}async function uw(n,e){const t=Zt(n);t.asyncQueue.verifyOperationInProgress(),wt("RemoteStore","RemoteStore received new credentials");const r=Dc(t);t.L_.add(3),await Ad(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Gm(t)}async function CL(n,e){const t=Zt(n);e?(t.L_.delete(2),await Gm(t)):e||(t.L_.add(2),await Ad(t),t.q_.set("Unknown"))}function Wh(n){return n.K_||(n.K_=(function(t,r,i){const s=Zt(t);return s.w_(),new gL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Eo:xL.bind(null,n),Ro:bL.bind(null,n),mo:SL.bind(null,n),d_:AL.bind(null,n)}),n.B_.push((async e=>{e?(n.K_.s_(),Hy(n)?zy(n):n.q_.set("Unknown")):(await n.K_.stop(),pS(n))}))),n.K_}function Pu(n){return n.U_||(n.U_=(function(t,r,i){const s=Zt(t);return s.w_(),new yL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:NL.bind(null,n),mo:kL.bind(null,n),f_:IL.bind(null,n),g_:PL.bind(null,n)}),n.B_.push((async e=>{e?(n.U_.s_(),await Km(n)):(await n.U_.stop(),n.O_.length>0&&(wt("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const a=Date.now()+r,u=new $y(e,t,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wy(n,e){if(Cl("AsyncQueue",`${e}: ${n}`),xd(n))return new lt(We.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||kt.comparator(t.key,r.key):(t,r)=>kt.comparator(t.key,r.key),this.keyedMap=Rf(),this.sortedSet=new Dr(this.comparator)}static emptySet(e){return new bh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new bh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.W_=new Dr(kt.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Kt():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Rh{constructor(e,t,r,i,s,a,u,c,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,s){const a=[];return t.forEach((u=>{a.push({type:0,doc:u})})),new Rh(e,t,bh.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class RL{constructor(){this.queries=hw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const i=Zt(t),s=i.queries;i.queries=hw(),s.forEach(((a,u)=>{for(const c of u.j_)c.onError(r)}))})(this,new lt(We.ABORTED,"Firestore shutting down"))}}function hw(){return new $h((n=>M4(n)),Bm)}async function Gy(n,e){const t=Zt(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new LL,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await t.onListen(i,!0);break;case 1:s.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const u=Wy(a,`Initialization of query '${uh(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Yy(t)}async function Ky(n,e){const t=Zt(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function DL(n,e){const t=Zt(n);let r=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const u of a.j_)u.X_(i)&&(r=!0);a.z_=i}}r&&Yy(t)}function OL(n,e,t){const r=Zt(n),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(t);r.queries.delete(e)}function Yy(n){n.Y_.forEach((e=>{e.next()}))}var N1,fw;(fw=N1||(N1={})).ea="default",fw.Cache="cache";class Qy{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Rh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Rh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==N1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.key=e}}class wS{constructor(e){this.key=e}}class jL{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=vn(),this.mutatedKeys=vn(),this.Aa=F4(e),this.Ra=new bh(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new cw,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,y)=>{const _=i.get(d),w=qm(this.query,y)?y:null,T=!!_&&this.mutatedKeys.has(_.key),I=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let P=!1;_&&w?_.data.isEqual(w.data)?T!==I&&(r.track({type:3,doc:w}),P=!0):this.ga(_,w)||(r.track({type:2,doc:w}),P=!0,(c&&this.Aa(w,c)>0||f&&this.Aa(w,f)<0)&&(u=!0)):!_&&w?(r.track({type:0,doc:w}),P=!0):_&&!w&&(r.track({type:1,doc:_}),P=!0,(c||f)&&(u=!0)),P&&(w?(a=a.add(w),s=I?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:a,fa:r,ns:u,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort(((d,y)=>(function(w,T){const I=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt()}};return I(w)-I(T)})(d.type,y.type)||this.Aa(d.doc,y.doc))),this.pa(r),i=i!=null&&i;const u=t&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,f=c!==this.Ea;return this.Ea=c,a.length!==0||f?{snapshot:new Rh(this.query,e.Ra,s,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new cw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=vn(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const t=[];return e.forEach((r=>{this.da.has(r)||t.push(new wS(r))})),this.da.forEach((r=>{e.has(r)||t.push(new vS(r))})),t}ba(e){this.Ta=e.Ts,this.da=vn();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Rh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ML{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class FL{constructor(e){this.key=e,this.va=!1}}class VL{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new $h((u=>M4(u)),Bm),this.Ma=new Map,this.xa=new Set,this.Oa=new Dr(kt.comparator),this.Na=new Map,this.La=new Fy,this.Ba={},this.ka=new Map,this.qa=Lh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function UL(n,e,t=!0){const r=ES(n);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await _S(r,e,t,!0),i}async function BL(n,e){const t=ES(n);await _S(t,e,!0,!1)}async function _S(n,e,t,r){const i=await uL(n.localStore,za(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await qL(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&fS(n.remoteStore,i),u}async function qL(n,e,t,r,i){n.Ka=(y,_,w)=>(async function(I,P,F,Y){let H=P.view.ma(F);H.ns&&(H=await ow(I.localStore,P.query,!1).then((({documents:W})=>P.view.ma(W,H))));const $=Y&&Y.targetChanges.get(P.targetId),ae=Y&&Y.targetMismatches.get(P.targetId)!=null,ge=P.view.applyChanges(H,I.isPrimaryClient,$,ae);return pw(I,P.targetId,ge.wa),ge.snapshot})(n,y,_,w);const s=await ow(n.localStore,e,!0),a=new jL(e,s.Ts),u=a.ma(s.documents),c=Sd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=a.applyChanges(u,n.isPrimaryClient,c);pw(n,t,f.wa);const d=new ML(e,t,a);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),f.snapshot}async function zL(n,e,t){const r=Zt(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((a=>!Bm(a,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await T1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&By(r.remoteStore,i.targetId),I1(r,i.targetId)})).catch(_d)):(I1(r,i.targetId),await T1(r.localStore,i.targetId,!0))}async function HL(n,e){const t=Zt(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),By(t.remoteStore,r.targetId))}async function $L(n,e,t){const r=XL(n);try{const i=await(function(a,u){const c=Zt(a),f=Ti.now(),d=u.reduce(((w,T)=>w.add(T.key)),vn());let y,_;return c.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let T=Ll(),I=vn();return c.cs.getEntries(w,d).next((P=>{T=P,T.forEach(((F,Y)=>{Y.isValidDocument()||(I=I.add(F))}))})).next((()=>c.localDocuments.getOverlayedDocuments(w,T))).next((P=>{y=P;const F=[];for(const Y of u){const H=dC(Y,y.get(Y.key).overlayedDocument);H!=null&&F.push(new Vu(Y.key,H,P4(H.value.mapValue),pa.exists(!0)))}return c.mutationQueue.addMutationBatch(w,f,F,u)})).next((P=>{_=P;const F=P.applyToLocalDocumentSet(y,I);return c.documentOverlayCache.saveOverlays(w,P.batchId,F)}))})).then((()=>({batchId:_.batchId,changes:U4(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,u,c){let f=a.Ba[a.currentUser.toKey()];f||(f=new Dr(Cn)),f=f.insert(u,c),a.Ba[a.currentUser.toKey()]=f})(r,i.batchId,t),await Ed(r,i.changes),await Km(r.remoteStore)}catch(i){const s=Wy(i,"Failed to persist write");t.reject(s)}}async function xS(n,e){const t=Zt(n);try{const r=await oL(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=t.Na.get(s);a&&(Yn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Yn(a.va):i.removedDocuments.size>0&&(Yn(a.va),a.va=!1))})),await Ed(t,r,e)}catch(r){await _d(r)}}function dw(n,e,t){const r=Zt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Fa.forEach(((s,a)=>{const u=a.view.Z_(e);u.snapshot&&i.push(u.snapshot)})),(function(a,u){const c=Zt(a);c.onlineState=u;let f=!1;c.queries.forEach(((d,y)=>{for(const _ of y.j_)_.Z_(u)&&(f=!0)})),f&&Yy(c)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WL(n,e,t){const r=Zt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new Dr(kt.comparator);a=a.insert(s,xs.newNoDocument(s,Xt.min()));const u=vn().add(s),c=new $m(Xt.min(),new Map,new Dr(Cn),a,u);await xS(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),Jy(r)}else await T1(r.localStore,e,!1).then((()=>I1(r,e,t))).catch(_d)}async function GL(n,e){const t=Zt(n),r=e.batch.batchId;try{const i=await sL(t.localStore,e);SS(t,r,null),bS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ed(t,i)}catch(i){await _d(i)}}async function KL(n,e,t){const r=Zt(n);try{const i=await(function(a,u){const c=Zt(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return c.mutationQueue.lookupMutationBatch(f,u).next((y=>(Yn(y!==null),d=y.keys(),c.mutationQueue.removeMutationBatch(f,y)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,d,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>c.localDocuments.getDocuments(f,d)))}))})(r.localStore,e);SS(r,e,t),bS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ed(r,i)}catch(i){await _d(i)}}function bS(n,e){(n.ka.get(e)||[]).forEach((t=>{t.resolve()})),n.ka.delete(e)}function SS(n,e,t){const r=Zt(n);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function I1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach((r=>{n.La.containsKey(r)||AS(n,r)}))}function AS(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(By(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Jy(n))}function pw(n,e,t){for(const r of t)r instanceof vS?(n.La.addReference(r.key,e),YL(n,r)):r instanceof wS?(wt("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||AS(n,r.key)):Kt()}function YL(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(wt("SyncEngine","New document in limbo: "+t),n.xa.add(r),Jy(n))}function Jy(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new kt(hr.fromString(e)),r=n.qa.next();n.Na.set(r,new FL(t)),n.Oa=n.Oa.insert(t,r),fS(n.remoteStore,new vu(za(Um(t.path)),r,"TargetPurposeLimboResolution",Iy.oe))}}async function Ed(n,e,t){const r=Zt(n),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((u,c)=>{a.push(r.Ka(c,e,t).then((f=>{var d;if((f||t)&&r.isPrimaryClient){const y=f?!f.fromCache:(d=t==null?void 0:t.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,y?"current":"not-current")}if(f){i.push(f);const y=Uy.Wi(c.targetId,f);s.push(y)}})))})),await Promise.all(a),r.Ca.d_(i),await(async function(c,f){const d=Zt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>Qe.forEach(f,(_=>Qe.forEach(_.$i,(w=>d.persistence.referenceDelegate.addReference(y,_.targetId,w))).next((()=>Qe.forEach(_.Ui,(w=>d.persistence.referenceDelegate.removeReference(y,_.targetId,w)))))))))}catch(y){if(!xd(y))throw y;wt("LocalStore","Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const w=d.os.get(_),T=w.snapshotVersion,I=w.withLastLimboFreeSnapshotVersion(T);d.os=d.os.insert(_,I)}}})(r.localStore,s))}async function QL(n,e){const t=Zt(n);if(!t.currentUser.isEqual(e)){wt("SyncEngine","User change. New user:",e.toKey());const r=await lS(t.localStore,e);t.currentUser=e,(function(s,a){s.ka.forEach((u=>{u.forEach((c=>{c.reject(new lt(We.CANCELLED,a))}))})),s.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ed(t,r.hs)}}function JL(n,e){const t=Zt(n),r=t.Na.get(e);if(r&&r.va)return vn().add(r.key);{let i=vn();const s=t.Ma.get(e);if(!s)return i;for(const a of s){const u=t.Fa.get(a);i=i.unionWith(u.view.Va)}return i}}function ES(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WL.bind(null,e),e.Ca.d_=DL.bind(null,e.eventManager),e.Ca.$a=OL.bind(null,e.eventManager),e}function XL(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KL.bind(null,e),e}class ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return iL(this.persistence,new nL,e.initialUser,this.serializer)}Ga(e){return new ZC(Vy.Zr,this.serializer)}Wa(e){return new hL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ym.provider={build:()=>new ym};class P1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QL.bind(null,this.syncEngine),await CL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RL})()}createDatastore(e){const t=Wm(e.databaseInfo.databaseId),r=(function(s){return new mL(s)})(e.databaseInfo);return(function(s,a,u,c){return new vL(s,a,u,c)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,s,a,u){return new _L(r,i,s,a,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>dw(this.syncEngine,t,0)),(function(){return lw.D()?new lw:new fL})())}createSyncEngine(e,t){return(function(i,s,a,u,c,f,d){const y=new VL(i,s,a,u,c,f);return d&&(y.Qa=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const s=Zt(i);wt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ad(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}P1.provider={build:()=>new P1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cl("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=_s.UNAUTHENTICATED,this.clientId=T4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{wt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(wt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Wy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function w0(n,e){n.asyncQueue.verifyOperationInProgress(),wt("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await lS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function mw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await eR(n);wt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>uw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>uw(e.remoteStore,i))),n._onlineComponents=e}async function eR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){wt("FirestoreClient","Using user provided OfflineComponentProvider");try{await w0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===We.FAILED_PRECONDITION||i.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Ih("Error using user provided cache. Falling back to memory cache: "+t),await w0(n,new ym)}}else wt("FirestoreClient","Using default OfflineComponentProvider"),await w0(n,new ym);return n._offlineComponents}async function TS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(wt("FirestoreClient","Using user provided OnlineComponentProvider"),await mw(n,n._uninitializedComponentsProvider._online)):(wt("FirestoreClient","Using default OnlineComponentProvider"),await mw(n,new P1))),n._onlineComponents}function tR(n){return TS(n).then((e=>e.syncEngine))}async function vm(n){const e=await TS(n),t=e.eventManager;return t.onListen=UL.bind(null,e.syncEngine),t.onUnlisten=zL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HL.bind(null,e.syncEngine),t}function nR(n,e,t={}){const r=new Tl;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,u,c,f){const d=new Xy({next:_=>{d.Za(),a.enqueueAndForget((()=>Ky(s,y)));const w=_.docs.has(u);!w&&_.fromCache?f.reject(new lt(We.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&c&&c.source==="server"?f.reject(new lt(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new Qy(Um(u.path),d,{includeMetadataChanges:!0,_a:!0});return Gy(s,y)})(await vm(n),n.asyncQueue,e,t,r))),r.promise}function rR(n,e,t={}){const r=new Tl;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,u,c,f){const d=new Xy({next:_=>{d.Za(),a.enqueueAndForget((()=>Ky(s,y))),_.fromCache&&c.source==="server"?f.reject(new lt(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new Qy(u,d,{includeMetadataChanges:!0,_a:!0});return Gy(s,y)})(await vm(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(n,e,t){if(!t)throw new lt(We.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iR(n,e,t,r){if(e===!0&&r===!0)throw new lt(We.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yw(n){if(!kt.isDocumentKey(n))throw new lt(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vw(n){if(kt.isDocumentKey(n))throw new lt(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ym(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Kt()}function wo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new lt(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ym(n);throw new lt(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new lt(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new lt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ww({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ww(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Sk;switch(r.type){case"firstParty":return new Nk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=gw.get(t);r&&(wt("ComponentProvider","Removing Datastore"),gw.delete(t),r.terminate())})(this),Promise.resolve()}}function sR(n,e,t,r={}){var i;const s=(n=wo(n,Qm))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Ih("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=_s.MOCK_USER;else{u=VN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new lt(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new _s(f)}n._authCredentials=new Ak(new E4(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Uu(this.firestore,e,this._query)}}class Ss{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ss(this.firestore,e,this._key)}}class Eu extends Uu{constructor(e,t,r){super(e,t,Um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ss(this.firestore,null,new kt(e))}withConverter(e){return new Eu(this.firestore,e,this._path)}}function Zy(n,e,...t){if(n=Ni(n),IS("collection","path",e),n instanceof Qm){const r=hr.fromString(e,...t);return vw(r),new Eu(n,null,r)}{if(!(n instanceof Ss||n instanceof Eu))throw new lt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hr.fromString(e,...t));return vw(r),new Eu(n.firestore,null,r)}}function yc(n,e,...t){if(n=Ni(n),arguments.length===1&&(e=T4.newId()),IS("doc","path",e),n instanceof Qm){const r=hr.fromString(e,...t);return yw(r),new Ss(n,null,new kt(r))}{if(!(n instanceof Ss||n instanceof Eu))throw new lt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hr.fromString(e,...t));return yw(r),new Ss(n.firestore,n instanceof Eu?n.converter:null,new kt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new cS(this,"async_queue_retry"),this.Vu=()=>{const r=v0();r&&wt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=v0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=v0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Tl;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xd(e))throw e;wt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u})(r);throw Cl("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=$y.createAndSchedule(this,e,t,r,(s=>this.yu(s)));return this.Tu.push(i),i}fu(){this.Eu&&Kt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function xw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(n,["next","error","complete"])}class ku extends Qm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new _w,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _w(e),this._firestoreClient=void 0,await e}}}function oR(n,e){const t=typeof n=="object"?n:Mb(),r=typeof n=="string"?n:"(default)",i=my(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=MN("firestore");s&&sR(i,...s)}return i}function Jm(n){if(n._terminated)throw new lt(We.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aR(n),n._firestoreClient}function aR(n){var e,t,r;const i=n._freezeSettings(),s=(function(u,c,f,d){return new Uk(u,c,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NS(d.experimentalLongPollingOptions),d.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new ZL(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dh(Xi.fromBase64String(e))}catch(t){throw new lt(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dh(Xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new lt(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new lt(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new lt(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cn(this._lat,e._lat)||Cn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=/^__.*__$/;class uR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Vu(e,this.data,this.fieldMask,t,this.fieldTransforms):new bd(e,this.data,t,this.fieldTransforms)}}class PS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Vu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt()}}class n2{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return wm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(kS(this.Cu)&&lR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class cR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Wm(e)}Qu(e,t,r,i=!1){return new n2({Cu:e,methodName:t,qu:r,path:Qi.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zm(n){const e=n._freezeSettings(),t=Wm(n._databaseId);return new cR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CS(n,e,t,r,i,s={}){const a=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);s2("Data must be an object, but it was:",a,r);const u=LS(r,a);let c,f;if(s.merge)c=new yo(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const y of s.mergeFields){const _=k1(e,y,t);if(!a.contains(_))throw new lt(We.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);DS(d,_)||d.push(_)}c=new yo(d),f=a.fieldTransforms.filter((y=>c.covers(y.field)))}else c=null,f=a.fieldTransforms;return new uR(new Ks(u),c,f)}class eg extends Td{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eg}}class r2 extends Td{_toFieldTransform(e){return new K4(e.path,new sd)}isEqual(e){return e instanceof r2}}class i2 extends Td{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new ld(e.serializer,z4(e.serializer,this.$u));return new K4(e.path,t)}isEqual(e){return e instanceof i2&&this.$u===e.$u}}function hR(n,e,t,r){const i=n.Qu(1,e,t);s2("Data must be an object, but it was:",i,r);const s=[],a=Ks.empty();Rc(r,((c,f)=>{const d=o2(e,c,t);f=Ni(f);const y=i.Nu(d);if(f instanceof eg)s.push(d);else{const _=Nd(f,y);_!=null&&(s.push(d),a.set(d,_))}}));const u=new yo(s);return new PS(a,u,i.fieldTransforms)}function fR(n,e,t,r,i,s){const a=n.Qu(1,e,t),u=[k1(e,r,t)],c=[i];if(s.length%2!=0)throw new lt(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(k1(e,s[_])),c.push(s[_+1]);const f=[],d=Ks.empty();for(let _=u.length-1;_>=0;--_)if(!DS(f,u[_])){const w=u[_];let T=c[_];T=Ni(T);const I=a.Nu(w);if(T instanceof eg)f.push(w);else{const P=Nd(T,I);P!=null&&(f.push(w),d.set(w,P))}}const y=new yo(f);return new PS(d,y,a.fieldTransforms)}function dR(n,e,t,r=!1){return Nd(t,n.Qu(r?4:3,e))}function Nd(n,e){if(RS(n=Ni(n)))return s2("Unsupported field value:",e,n),LS(n,e);if(n instanceof Td)return(function(r,i){if(!kS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const u of r){let c=Nd(u,i.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=Ni(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ti.fromDate(r);return{timestampValue:mm(i.serializer,s)}}if(r instanceof Ti){const s=new Ti(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mm(i.serializer,s)}}if(r instanceof e2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dh)return{bytesValue:tS(i.serializer,r._byteString)};if(r instanceof Ss){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:My(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof t2)return(function(a,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map((c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return Dy(u.serializer,c)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${Ym(r)}`)})(n,e)}function LS(n,e){const t={};return N4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rc(n,((r,i)=>{const s=Nd(i,e.Mu(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function RS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ti||n instanceof e2||n instanceof Dh||n instanceof Ss||n instanceof Td||n instanceof t2)}function s2(n,e,t){if(!RS(t)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(t)){const r=Ym(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function k1(n,e,t){if((e=Ni(e))instanceof Xm)return e._internalPath;if(typeof e=="string")return o2(n,e);throw wm("Field path arguments must be of type string or ",n,!1,void 0,t)}const pR=new RegExp("[~\\*/\\[\\]]");function o2(n,e,t){if(e.search(pR)>=0)throw wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xm(...e.split("."))._internalPath}catch{throw wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wm(n,e,t,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new lt(We.INVALID_ARGUMENT,u+n+c)}function DS(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ss(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mR extends OS{data(){return super.data()}}function tg(n,e){return typeof e=="string"?o2(n,e):e instanceof Xm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new lt(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a2{}class MS extends a2{}function gR(n,e,...t){let r=[];e instanceof a2&&r.push(e),r=r.concat(t),(function(s){const a=s.filter((c=>c instanceof l2)).length,u=s.filter((c=>c instanceof ng)).length;if(a>1||a>0&&u>0)throw new lt(We.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class ng extends MS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ng(e,t,r)}_apply(e){const t=this._parse(e);return FS(e._query,t),new Uu(e.firestore,e.converter,_1(e._query,t))}_parse(e){const t=Zm(e.firestore);return(function(s,a,u,c,f,d,y){let _;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new lt(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Sw(y,d);const w=[];for(const T of y)w.push(bw(c,s,T));_={arrayValue:{values:w}}}else _=bw(c,s,y)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Sw(y,d),_=dR(u,a,y,d==="in"||d==="not-in");return hi.create(f,d,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function yR(n,e,t){const r=e,i=tg("where",n);return ng._create(i,r,t)}class l2 extends a2{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new l2(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ma.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let a=i;const u=s.getFlattenedFilters();for(const c of u)FS(a,c),a=_1(a,c)})(e._query,t),new Uu(e.firestore,e.converter,_1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class u2 extends MS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new u2(e,t)}_apply(e){const t=(function(i,s,a){if(i.startAt!==null)throw new lt(We.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new lt(We.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new id(s,a)})(e._query,this._field,this._direction);return new Uu(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new Hh(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function vR(n,e="asc"){const t=e,r=tg("orderBy",n);return u2._create(r,t)}function bw(n,e,t){if(typeof(t=Ni(t))=="string"){if(t==="")throw new lt(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j4(e)&&t.indexOf("/")!==-1)throw new lt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(hr.fromString(t));if(!kt.isDocumentKey(r))throw new lt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return z5(n,new kt(r))}if(t instanceof Ss)return z5(n,t._key);throw new lt(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ym(t)}.`)}function Sw(n,e){if(!Array.isArray(n)||n.length===0)throw new lt(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FS(n,e){const t=(function(i,s){for(const a of i)for(const u of a.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new lt(We.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(We.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class wR{convertValue(e,t="none"){switch(Pc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ic(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Kt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Rc(e,((i,s)=>{r[i]=this.convertValue(s,t)})),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((a=>Kr(a.doubleValue)));return new t2(s)}convertGeoPoint(e){return new e2(Kr(e.latitude),Kr(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ky(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(td(e));default:return null}}convertTimestamp(e){const t=Iu(e);return new Ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=hr.fromString(e);Yn(aS(r));const i=new nd(r.get(1),r.get(3)),s=new kt(r.popFirst(5));return i.isEqual(t)||Cl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class US extends OS{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(tg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Wp extends US{data(e={}){return super.data(e)}}class BS{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Of(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Wp(this._firestore,this._userDataWriter,r.key,r,new Of(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new lt(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((u=>{const c=new Wp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Of(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const c=new Wp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Of(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),d=a.indexOf(u.doc.key)),{type:_R(u.type),doc:c,oldIndex:f,newIndex:d}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _R(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(n){n=wo(n,Ss);const e=wo(n.firestore,ku);return nR(Jm(e),n._key).then((t=>zS(e,n,t)))}class c2 extends wR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ss(this.firestore,null,t)}}function xR(n){n=wo(n,Uu);const e=wo(n.firestore,ku),t=Jm(e),r=new c2(e);return jS(n._query),rR(t,n._query).then((i=>new BS(e,r,n,i)))}function C1(n,e,t){n=wo(n,Ss);const r=wo(n.firestore,ku),i=VS(n.converter,e,t);return h2(r,[CS(Zm(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,pa.none())])}function Aw(n,e,t,...r){n=wo(n,Ss);const i=wo(n.firestore,ku),s=Zm(i);let a;return a=typeof(e=Ni(e))=="string"||e instanceof Xm?fR(s,"updateDoc",n._key,e,t,r):hR(s,"updateDoc",n._key,e),h2(i,[a.toMutation(n._key,pa.exists(!0))])}function bR(n,e){const t=wo(n.firestore,ku),r=yc(n),i=VS(n.converter,e);return h2(t,[CS(Zm(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,pa.exists(!1))]).then((()=>r))}function SR(n,...e){var t,r,i;n=Ni(n);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||xw(e[a])||(s=e[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(xw(e[a])){const y=e[a];e[a]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[a+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[a+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let c,f,d;if(n instanceof Ss)f=wo(n.firestore,ku),d=Um(n._key.path),c={next:y=>{e[a]&&e[a](zS(f,n,y))},error:e[a+1],complete:e[a+2]};else{const y=wo(n,Uu);f=wo(y.firestore,ku),d=y._query;const _=new c2(f);c={next:w=>{e[a]&&e[a](new BS(f,_,y,w))},error:e[a+1],complete:e[a+2]},jS(n._query)}return(function(_,w,T,I){const P=new Xy(I),F=new Qy(w,P,T);return _.asyncQueue.enqueueAndForget((async()=>Gy(await vm(_),F))),()=>{P.Za(),_.asyncQueue.enqueueAndForget((async()=>Ky(await vm(_),F)))}})(Jm(f),d,u,c)}function h2(n,e){return(function(r,i){const s=new Tl;return r.asyncQueue.enqueueAndForget((async()=>$L(await tR(r),i,s))),s.promise})(Jm(n),e)}function zS(n,e,t){const r=t.docs.get(e._key),i=new c2(n);return new US(n,i,e._key,r,new Of(t.hasPendingWrites,t.fromCache),e.converter)}function AR(){return new r2("serverTimestamp")}function Ew(n){return new i2("increment",n)}(function(e,t=!0){(function(i){zh=i})(Bh),Nh(new Ac("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),u=new ku(new Ek(r.getProvider("auth-internal")),new Pk(r.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new lt(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nd(f.options.projectId,d)})(a,i),a);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Au(F5,"4.7.3",e),Au(F5,"4.7.3","esm2017")})();var ER="firebase",TR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Au(ER,TR,"app");const NR={apiKey:"AIzaSyCI1F8Dsiq8h1KwkyJQr5nIMyR5Yt80Oms",authDomain:"crop-prediction-da58d.firebaseapp.com",projectId:"crop-prediction-da58d",storageBucket:"crop-prediction-da58d.firebasestorage.app",messagingSenderId:"798928021067",appId:"1:798928021067:web:af0e170e229d004a3c4fce"},HS=jb(NR),jf=xk(HS),_l=oR(HS),IR=async()=>{const n=new wl,e=await k6(jf,n),t=yc(_l,"users",e.user.uid);return(await qS(t)).exists()||(await C1(t,{email:e.user.email,createdAt:new Date,predictionsCount:0}),await updateUserStats("totalUsers",1)),await updateUserStats("totalLogins",1),e},$S=Re.createContext(),Gh=()=>Re.useContext($S),PR=({children:n})=>{const[e,t]=Re.useState(null),[r,i]=Re.useState(!0),[s,a]=Re.useState(!1),u=async(T,I)=>{const P=await s6(jf,T,I);return await C1(yc(_l,"users",P.user.uid),{email:T,createdAt:new Date,predictionsCount:0}),await y("totalUsers",1),P},c=async(T,I)=>{const P=await o6(jf,T,I);return await y("totalLogins",1),P},f=()=>(a(!1),c6(jf)),d=T=>T==="111111111"?(a(!0),!0):!1,y=async(T,I)=>{try{const P=yc(_l,"stats","general");await Aw(P,{[T]:Ew(I)})}catch{const F=yc(_l,"stats","general");await C1(F,{[T]:I,totalPredictions:0,totalUsers:0,totalLogins:0},{merge:!0})}},_=async T=>{if(e){const I=yc(_l,"users",e.uid);await Aw(I,{predictionsCount:Ew(1)}),await bR(Zy(_l,"predictions"),{userId:e.uid,...T,timestamp:AR()}),await y("totalPredictions",1)}};Re.useEffect(()=>u6(jf,I=>{t(I),i(!1)}),[]);const w={currentUser:e,isAdmin:s,signup:u,login:c,logout:f,adminLogin:d,recordPrediction:_,googleLogin:IR};return N.jsx($S.Provider,{value:w,children:!r&&n})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CR=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Tw=n=>{const e=CR(n);return e.charAt(0).toUpperCase()+e.slice(1)},WS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),LR=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=Re.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...u},c)=>Re.createElement("svg",{ref:c,...RR,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:WS("lucide",i),...!s&&!LR(u)&&{"aria-hidden":"true"},...u},[...a.map(([f,d])=>Re.createElement(f,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=(n,e)=>{const t=Re.forwardRef(({className:r,...i},s)=>Re.createElement(DR,{ref:s,iconNode:e,className:WS(`lucide-${kR(Tw(n))}`,`lucide-${n}`,r),...i}));return t.displayName=Tw(n),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],jR=Zn("activity",OR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],GS=Zn("calendar",MR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],KS=Zn("chart-column",FR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Nw=Zn("circle-alert",VR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],YS=Zn("circle-check-big",UR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qR=Zn("circle-check",BR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],Iw=Zn("cloud-sun",zR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],$R=Zn("database",HR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],GR=Zn("droplets",WR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],YR=Zn("eye-off",KR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JR=Zn("eye",QR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],QS=Zn("file-text",XR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],_m=Zn("leaf",ZR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],JS=Zn("lock",e8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],n8=Zn("log-out",t8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],XS=Zn("map-pin",r8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],s8=Zn("message-circle",i8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],a8=Zn("search",o8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],u8=Zn("shield-check",l8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],h8=Zn("shield",c8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]],d8=Zn("sprout",f8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],m8=Zn("star",p8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],y8=Zn("thermometer",g8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],f2=Zn("trending-up",v8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_8=Zn("user-check",w8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ZS=Zn("user",x8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],S8=Zn("users",b8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],E8=Zn("wheat",A8),Pw=({children:n})=>{const{currentUser:e,isAdmin:t,logout:r}=Gh(),i=async()=>{try{await r()}catch(u){console.error("Failed to logout:",u)}},a=Uh().pathname==="/dashboard";return N.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50",children:[a&&N.jsxs("aside",{className:"hidden lg:flex flex-col fixed left-0 top-16 bottom-0 w-64 bg-white border-r border-green-100 p-6",children:[N.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[N.jsx("span",{className:"bg-green-600 rounded-full p-2",children:N.jsx(_m,{className:"text-white w-5 h-5"})}),N.jsxs("div",{children:[N.jsx("div",{className:"font-bold text-green-700",children:"SmartCrop"}),N.jsx("div",{className:"text-xs text-gray-500",children:"Predictor"})]})]}),N.jsxs("nav",{className:"flex-1 flex flex-col gap-3",children:[N.jsxs(ha,{to:"/",className:"flex items-center gap-3 text-gray-700 font-medium hover:text-green-700",children:[N.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",children:N.jsx("path",{d:"M3 12h18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})," Dashboard"]}),N.jsxs(ha,{to:"/dashboard",className:"flex items-center gap-3 text-gray-700 font-medium hover:text-green-700",children:[N.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",children:N.jsx("path",{d:"M12 2v20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})," Crop Prediction"]})]}),N.jsxs("div",{className:"mt-auto",children:[N.jsxs("div",{className:"bg-green-50 rounded-lg p-3 mb-3",children:[N.jsx("div",{className:"text-xs text-gray-500",children:"Success Rate"}),N.jsx("div",{className:"text-lg font-bold text-green-700",children:"90.0%"})]}),N.jsx("div",{className:"text-xs text-gray-500"})]})]}),N.jsx("nav",{className:"bg-white shadow-lg border-b border-green-100",children:N.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:N.jsxs("div",{className:"flex justify-between items-center h-16",children:[N.jsxs("div",{className:"flex items-center space-x-3",children:[N.jsx(_m,{className:"h-8 w-8 text-green-600"}),N.jsx("span",{className:"text-xl font-bold text-gray-900",children:"SmartCrop Predictor"}),!a&&N.jsxs(N.Fragment,{children:[N.jsx(ha,{to:"/",className:"text-green-700 hover:underline text-sm ml-2 font-semibold",children:"Dashboard"}),N.jsx(ha,{to:"/dashboard",className:"text-green-700 hover:underline text-sm ml-2 font-semibold",children:"Crop Prediction"})]}),t&&N.jsx("span",{className:"bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Admin"})]}),(e||t)&&N.jsxs("div",{className:"flex items-center space-x-4",children:[e&&!t&&N.jsx("span",{className:"text-sm text-gray-600",children:e.email}),N.jsxs("button",{onClick:i,className:"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-colors",children:[N.jsx(n8,{className:"h-4 w-4"}),N.jsx("span",{children:"Logout"})]})]})]})})}),N.jsx("main",{className:`max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 ${a?"lg:ml-64 lg:pl-4":""}`,style:{paddingTop:24},children:n})]})},eA=Re.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),rg=Re.createContext({}),d2=Re.createContext(null),ig=typeof document<"u",T8=ig?Re.useLayoutEffect:Re.useEffect,tA=Re.createContext({strict:!1}),p2=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),N8="framerAppearId",nA="data-"+p2(N8);function I8(n,e,t,r){const{visualElement:i}=Re.useContext(rg),s=Re.useContext(tA),a=Re.useContext(d2),u=Re.useContext(eA).reducedMotion,c=Re.useRef();r=r||s.renderer,!c.current&&r&&(c.current=r(n,{visualState:e,parent:i,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:u}));const f=c.current;Re.useInsertionEffect(()=>{f&&f.update(t,a)});const d=Re.useRef(!!(t[nA]&&!window.HandoffComplete));return T8(()=>{f&&(f.render(),d.current&&f.animationState&&f.animationState.animateChanges())}),Re.useEffect(()=>{f&&(f.updateFeatures(),!d.current&&f.animationState&&f.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),f}function ph(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function P8(n,e,t){return Re.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):ph(t)&&(t.current=r))},[e])}function ud(n){return typeof n=="string"||Array.isArray(n)}function sg(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const m2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g2=["initial",...m2];function og(n){return sg(n.animate)||g2.some(e=>ud(n[e]))}function rA(n){return!!(og(n)||n.variants)}function k8(n,e){if(og(n)){const{initial:t,animate:r}=n;return{initial:t===!1||ud(t)?t:void 0,animate:ud(r)?r:void 0}}return n.inherit!==!1?e:{}}function C8(n){const{initial:e,animate:t}=k8(n,Re.useContext(rg));return Re.useMemo(()=>({initial:e,animate:t}),[kw(e),kw(t)])}function kw(n){return Array.isArray(n)?n.join(" "):n}const Cw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cd={};for(const n in Cw)cd[n]={isEnabled:e=>Cw[n].some(t=>!!e[t])};function L8(n){for(const e in n)cd[e]={...cd[e],...n[e]}}const iA=Re.createContext({}),sA=Re.createContext({}),R8=Symbol.for("motionComponentSymbol");function D8({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&L8(n);function s(u,c){let f;const d={...Re.useContext(eA),...u,layoutId:O8(u)},{isStatic:y}=d,_=C8(u),w=r(u,y);if(!y&&ig){_.visualElement=I8(i,w,d,e);const T=Re.useContext(sA),I=Re.useContext(tA).strict;_.visualElement&&(f=_.visualElement.loadFeatures(d,I,n,T))}return Re.createElement(rg.Provider,{value:_},f&&_.visualElement?Re.createElement(f,{visualElement:_.visualElement,...d}):null,t(i,u,P8(w,_.visualElement,c),w,y,_.visualElement))}const a=Re.forwardRef(s);return a[R8]=i,a}function O8({layoutId:n}){const e=Re.useContext(iA).id;return e&&n!==void 0?e+"-"+n:n}function j8(n){function e(r,i={}){return D8(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const M8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function y2(n){return typeof n!="string"||n.includes("-")?!1:!!(M8.indexOf(n)>-1||/[A-Z]/.test(n))}const xm={};function F8(n){Object.assign(xm,n)}const Id=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oc=new Set(Id);function oA(n,{layout:e,layoutId:t}){return Oc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!xm[n]||n==="opacity")}const Js=n=>!!(n&&n.getVelocity),V8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},U8=Id.length;function B8(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let a=0;a<U8;a++){const u=Id[a];if(n[u]!==void 0){const c=V8[u]||u;s+=`${c}(${n[u]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const aA=n=>e=>typeof e=="string"&&e.startsWith(n),lA=aA("--"),L1=aA("var(--"),q8=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,z8=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Cu=(n,e,t)=>Math.min(Math.max(t,n),e),jc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},zf={...jc,transform:n=>Cu(0,1,n)},Sp={...jc,default:1},Hf=n=>Math.round(n*1e5)/1e5,ag=/(-)?([\d]*\.?[\d])+/g,uA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,H8=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Pd(n){return typeof n=="string"}const kd=n=>({test:e=>Pd(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),fu=kd("deg"),$a=kd("%"),Bt=kd("px"),$8=kd("vh"),W8=kd("vw"),Lw={...$a,parse:n=>$a.parse(n)/100,transform:n=>$a.transform(n*100)},Rw={...jc,transform:Math.round},cA={borderWidth:Bt,borderTopWidth:Bt,borderRightWidth:Bt,borderBottomWidth:Bt,borderLeftWidth:Bt,borderRadius:Bt,radius:Bt,borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomRightRadius:Bt,borderBottomLeftRadius:Bt,width:Bt,maxWidth:Bt,height:Bt,maxHeight:Bt,size:Bt,top:Bt,right:Bt,bottom:Bt,left:Bt,padding:Bt,paddingTop:Bt,paddingRight:Bt,paddingBottom:Bt,paddingLeft:Bt,margin:Bt,marginTop:Bt,marginRight:Bt,marginBottom:Bt,marginLeft:Bt,rotate:fu,rotateX:fu,rotateY:fu,rotateZ:fu,scale:Sp,scaleX:Sp,scaleY:Sp,scaleZ:Sp,skew:fu,skewX:fu,skewY:fu,distance:Bt,translateX:Bt,translateY:Bt,translateZ:Bt,x:Bt,y:Bt,z:Bt,perspective:Bt,transformPerspective:Bt,opacity:zf,originX:Lw,originY:Lw,originZ:Bt,zIndex:Rw,fillOpacity:zf,strokeOpacity:zf,numOctaves:Rw};function v2(n,e,t,r){const{style:i,vars:s,transform:a,transformOrigin:u}=n;let c=!1,f=!1,d=!0;for(const y in e){const _=e[y];if(lA(y)){s[y]=_;continue}const w=cA[y],T=z8(_,w);if(Oc.has(y)){if(c=!0,a[y]=T,!d)continue;_!==(w.default||0)&&(d=!1)}else y.startsWith("origin")?(f=!0,u[y]=T):i[y]=T}if(e.transform||(c||r?i.transform=B8(n.transform,t,d,r):i.transform&&(i.transform="none")),f){const{originX:y="50%",originY:_="50%",originZ:w=0}=u;i.transformOrigin=`${y} ${_} ${w}`}}const w2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hA(n,e,t){for(const r in e)!Js(e[r])&&!oA(r,t)&&(n[r]=e[r])}function G8({transformTemplate:n},e,t){return Re.useMemo(()=>{const r=w2();return v2(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function K8(n,e,t){const r=n.style||{},i={};return hA(i,r,n),Object.assign(i,G8(n,e,t)),n.transformValues?n.transformValues(i):i}function Y8(n,e,t){const r={},i=K8(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const Q8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Q8.has(n)}let fA=n=>!bm(n);function J8(n){n&&(fA=e=>e.startsWith("on")?!bm(e):n(e))}try{J8(require("@emotion/is-prop-valid").default)}catch{}function X8(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(fA(i)||t===!0&&bm(i)||!e&&!bm(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function Dw(n,e,t){return typeof n=="string"?n:Bt.transform(e+t*n)}function Z8(n,e,t){const r=Dw(e,n.x,n.width),i=Dw(t,n.y,n.height);return`${r} ${i}`}const e7={offset:"stroke-dashoffset",array:"stroke-dasharray"},t7={offset:"strokeDashoffset",array:"strokeDasharray"};function n7(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?e7:t7;n[s.offset]=Bt.transform(-r);const a=Bt.transform(e),u=Bt.transform(t);n[s.array]=`${a} ${u}`}function _2(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:u=1,pathOffset:c=0,...f},d,y,_){if(v2(n,f,d,_),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:T,dimensions:I}=n;w.transform&&(I&&(T.transform=w.transform),delete w.transform),I&&(i!==void 0||s!==void 0||T.transform)&&(T.transformOrigin=Z8(I,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(w.x=e),t!==void 0&&(w.y=t),r!==void 0&&(w.scale=r),a!==void 0&&n7(w,a,u,c,!1)}const dA=()=>({...w2(),attrs:{}}),x2=n=>typeof n=="string"&&n.toLowerCase()==="svg";function r7(n,e,t,r){const i=Re.useMemo(()=>{const s=dA();return _2(s,e,{enableHardwareAcceleration:!1},x2(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};hA(s,n.style,n),i.style={...s,...i.style}}return i}function i7(n=!1){return(t,r,i,{latestValues:s},a)=>{const c=(y2(t)?r7:Y8)(r,s,a,t),d={...X8(r,typeof t=="string",n),...c,ref:i},{children:y}=r,_=Re.useMemo(()=>Js(y)?y.get():y,[y]);return Re.createElement(t,{...d,children:_})}}function pA(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const mA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gA(n,e,t,r){pA(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(mA.has(i)?i:p2(i),e.attrs[i])}function b2(n,e){const{style:t}=n,r={};for(const i in t)(Js(t[i])||e.style&&Js(e.style[i])||oA(i,n))&&(r[i]=t[i]);return r}function yA(n,e){const t=b2(n,e);for(const r in n)if(Js(n[r])||Js(e[r])){const i=Id.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function S2(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function s7(n){const e=Re.useRef(null);return e.current===null&&(e.current=n()),e.current}const Sm=n=>Array.isArray(n),o7=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),a7=n=>Sm(n)?n[n.length-1]||0:n;function Gp(n){const e=Js(n)?n.get():n;return o7(e)?e.toValue():e}function l7({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const a={latestValues:u7(r,i,s,n),renderState:e()};return t&&(a.mount=u=>t(r,u,a)),a}const vA=n=>(e,t)=>{const r=Re.useContext(rg),i=Re.useContext(d2),s=()=>l7(n,e,r,i);return t?s():s7(s)};function u7(n,e,t,r){const i={},s=r(n,{});for(const _ in s)i[_]=Gp(s[_]);let{initial:a,animate:u}=n;const c=og(n),f=rA(n);e&&f&&!c&&n.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let d=t?t.initial===!1:!1;d=d||a===!1;const y=d?u:a;return y&&typeof y!="boolean"&&!sg(y)&&(Array.isArray(y)?y:[y]).forEach(w=>{const T=S2(n,w);if(!T)return;const{transitionEnd:I,transition:P,...F}=T;for(const Y in F){let H=F[Y];if(Array.isArray(H)){const $=d?H.length-1:0;H=H[$]}H!==null&&(i[Y]=H)}for(const Y in I)i[Y]=I[Y]}),i}const Xr=n=>n;class Ow{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function c7(n){let e=new Ow,t=new Ow,r=0,i=!1,s=!1;const a=new WeakSet,u={schedule:(c,f=!1,d=!1)=>{const y=d&&i,_=y?e:t;return f&&a.add(c),_.add(c)&&y&&i&&(r=e.order.length),c},cancel:c=>{t.remove(c),a.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let f=0;f<r;f++){const d=e.order[f];d(c),a.has(d)&&(u.schedule(d),n())}i=!1,s&&(s=!1,u.process(c))}};return u}const Ap=["prepare","read","update","preRender","render","postRender"],h7=40;function f7(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Ap.reduce((y,_)=>(y[_]=c7(()=>t=!0),y),{}),a=y=>s[y].process(i),u=()=>{const y=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,h7),1),i.timestamp=y,i.isProcessing=!0,Ap.forEach(a),i.isProcessing=!1,t&&e&&(r=!1,n(u))},c=()=>{t=!0,r=!0,i.isProcessing||n(u)};return{schedule:Ap.reduce((y,_)=>{const w=s[_];return y[_]=(T,I=!1,P=!1)=>(t||c(),w.schedule(T,I,P)),y},{}),cancel:y=>Ap.forEach(_=>s[_].cancel(y)),state:i,steps:s}}const{schedule:dr,cancel:Rl,state:ws,steps:_0}=f7(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xr,!0),d7={useVisualState:vA({scrapeMotionValuesFromProps:yA,createRenderState:dA,onMount:(n,e,{renderState:t,latestValues:r})=>{dr.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),dr.render(()=>{_2(t,r,{enableHardwareAcceleration:!1},x2(e.tagName),n.transformTemplate),gA(e,t)})}})},p7={useVisualState:vA({scrapeMotionValuesFromProps:b2,createRenderState:w2})};function m7(n,{forwardMotionProps:e=!1},t,r){return{...y2(n)?d7:p7,preloadedFeatures:t,useRender:i7(e),createVisualElement:r,Component:n}}function Al(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const wA=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function lg(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const g7=n=>e=>wA(e)&&n(e,lg(e));function Nl(n,e,t,r){return Al(n,e,g7(t),r)}const y7=(n,e)=>t=>e(n(t)),Tu=(...n)=>n.reduce(y7);function _A(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const jw=_A("dragHorizontal"),Mw=_A("dragVertical");function xA(n){let e=!1;if(n==="y")e=Mw();else if(n==="x")e=jw();else{const t=jw(),r=Mw();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function bA(){const n=xA(!0);return n?(n(),!1):!0}class Bu{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Fw(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,a)=>{if(s.pointerType==="touch"||bA())return;const u=n.getProps();n.animationState&&u.whileHover&&n.animationState.setActive("whileHover",e),u[r]&&dr.update(()=>u[r](s,a))};return Nl(n.current,t,i,{passive:!n.getProps()[r]})}class v7 extends Bu{mount(){this.unmount=Tu(Fw(this.node,!0),Fw(this.node,!1))}unmount(){}}class w7 extends Bu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tu(Al(this.node.current,"focus",()=>this.onFocus()),Al(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const SA=(n,e)=>e?n===e?!0:SA(n,e.parentElement):!1;function x0(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,lg(t))}class _7 extends Bu{constructor(){super(...arguments),this.removeStartListeners=Xr,this.removeEndListeners=Xr,this.removeAccessibleListeners=Xr,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Nl(window,"pointerup",(u,c)=>{if(!this.checkPressEnd())return;const{onTap:f,onTapCancel:d,globalTapTarget:y}=this.node.getProps();dr.update(()=>{!y&&!SA(this.node.current,u.target)?d&&d(u,c):f&&f(u,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=Nl(window,"pointercancel",(u,c)=>this.cancelPress(u,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Tu(s,a),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=u=>{u.key!=="Enter"||!this.checkPressEnd()||x0("up",(c,f)=>{const{onTap:d}=this.node.getProps();d&&dr.update(()=>d(c,f))})};this.removeEndListeners(),this.removeEndListeners=Al(this.node.current,"keyup",a),x0("down",(u,c)=>{this.startPress(u,c)})},t=Al(this.node.current,"keydown",e),r=()=>{this.isPressing&&x0("cancel",(s,a)=>this.cancelPress(s,a))},i=Al(this.node.current,"blur",r);this.removeAccessibleListeners=Tu(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&dr.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!bA()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&dr.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=Nl(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Al(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Tu(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const R1=new WeakMap,b0=new WeakMap,x7=n=>{const e=R1.get(n.target);e&&e(n)},b7=n=>{n.forEach(x7)};function S7({root:n,...e}){const t=n||document;b0.has(t)||b0.set(t,{});const r=b0.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(b7,{root:n,...e})),r[i]}function A7(n,e,t){const r=S7(e);return R1.set(n,t),r.observe(n),()=>{R1.delete(n),r.unobserve(n)}}const E7={some:0,all:1};class T7 extends Bu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:E7[i]},u=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:d,onViewportLeave:y}=this.node.getProps(),_=f?d:y;_&&_(c)};return A7(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(N7(e,t))&&this.startObserver()}unmount(){}}function N7({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const I7={inView:{Feature:T7},tap:{Feature:_7},focus:{Feature:w7},hover:{Feature:v7}};function AA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function P7(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function k7(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function ug(n,e,t){const r=n.getProps();return S2(r,e,t!==void 0?t:r.custom,P7(n),k7(n))}let A2=Xr;const xc=n=>n*1e3,Il=n=>n/1e3,C7={current:!1},EA=n=>Array.isArray(n)&&typeof n[0]=="number";function TA(n){return!!(!n||typeof n=="string"&&NA[n]||EA(n)||Array.isArray(n)&&n.every(TA))}const Mf=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,NA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mf([0,.65,.55,1]),circOut:Mf([.55,0,1,.45]),backIn:Mf([.31,.01,.66,-.59]),backOut:Mf([.33,1.53,.69,.99])};function IA(n){if(n)return EA(n)?Mf(n):Array.isArray(n)?n.map(IA):NA[n]}function L7(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:u,times:c}={}){const f={[e]:t};c&&(f.offset=c);const d=IA(u);return Array.isArray(d)&&(f.easing=d),n.animate(f,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function R7(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const PA=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,D7=1e-7,O7=12;function j7(n,e,t,r,i){let s,a,u=0;do a=e+(t-e)/2,s=PA(a,r,i)-n,s>0?t=a:e=a;while(Math.abs(s)>D7&&++u<O7);return a}function Cd(n,e,t,r){if(n===e&&t===r)return Xr;const i=s=>j7(s,0,1,n,t);return s=>s===0||s===1?s:PA(i(s),e,r)}const M7=Cd(.42,0,1,1),F7=Cd(0,0,.58,1),kA=Cd(.42,0,.58,1),V7=n=>Array.isArray(n)&&typeof n[0]!="number",CA=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,LA=n=>e=>1-n(1-e),E2=n=>1-Math.sin(Math.acos(n)),RA=LA(E2),U7=CA(E2),DA=Cd(.33,1.53,.69,.99),T2=LA(DA),B7=CA(T2),q7=n=>(n*=2)<1?.5*T2(n):.5*(2-Math.pow(2,-10*(n-1))),z7={linear:Xr,easeIn:M7,easeInOut:kA,easeOut:F7,circIn:E2,circInOut:U7,circOut:RA,backIn:T2,backInOut:B7,backOut:DA,anticipate:q7},Vw=n=>{if(Array.isArray(n)){A2(n.length===4);const[e,t,r,i]=n;return Cd(e,t,r,i)}else if(typeof n=="string")return z7[n];return n},N2=(n,e)=>t=>!!(Pd(t)&&H8.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),OA=(n,e,t)=>r=>{if(!Pd(r))return r;const[i,s,a,u]=r.match(ag);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},H7=n=>Cu(0,255,n),S0={...jc,transform:n=>Math.round(H7(n))},vc={test:N2("rgb","red"),parse:OA("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+S0.transform(n)+", "+S0.transform(e)+", "+S0.transform(t)+", "+Hf(zf.transform(r))+")"};function $7(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const D1={test:N2("#"),parse:$7,transform:vc.transform},mh={test:N2("hsl","hue"),parse:OA("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+$a.transform(Hf(e))+", "+$a.transform(Hf(t))+", "+Hf(zf.transform(r))+")"},Ds={test:n=>vc.test(n)||D1.test(n)||mh.test(n),parse:n=>vc.test(n)?vc.parse(n):mh.test(n)?mh.parse(n):D1.parse(n),transform:n=>Pd(n)?n:n.hasOwnProperty("red")?vc.transform(n):mh.transform(n)},Rr=(n,e,t)=>-t*n+t*e+n;function A0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function W7({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,a=0;if(!e)i=s=a=t;else{const u=t<.5?t*(1+e):t+e-t*e,c=2*t-u;i=A0(c,u,n+1/3),s=A0(c,u,n),a=A0(c,u,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}const E0=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},G7=[D1,vc,mh],K7=n=>G7.find(e=>e.test(n));function Uw(n){const e=K7(n);let t=e.parse(n);return e===mh&&(t=W7(t)),t}const jA=(n,e)=>{const t=Uw(n),r=Uw(e),i={...t};return s=>(i.red=E0(t.red,r.red,s),i.green=E0(t.green,r.green,s),i.blue=E0(t.blue,r.blue,s),i.alpha=Rr(t.alpha,r.alpha,s),vc.transform(i))};function Y7(n){var e,t;return isNaN(n)&&Pd(n)&&(((e=n.match(ag))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(uA))===null||t===void 0?void 0:t.length)||0)>0}const MA={regex:q8,countKey:"Vars",token:"${v}",parse:Xr},FA={regex:uA,countKey:"Colors",token:"${c}",parse:Ds.parse},VA={regex:ag,countKey:"Numbers",token:"${n}",parse:jc.parse};function T0(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function Am(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&T0(t,MA),T0(t,FA),T0(t,VA),t}function UA(n){return Am(n).values}function BA(n){const{values:e,numColors:t,numVars:r,tokenised:i}=Am(n),s=e.length;return a=>{let u=i;for(let c=0;c<s;c++)c<r?u=u.replace(MA.token,a[c]):c<r+t?u=u.replace(FA.token,Ds.transform(a[c])):u=u.replace(VA.token,Hf(a[c]));return u}}const Q7=n=>typeof n=="number"?0:n;function J7(n){const e=UA(n);return BA(n)(e.map(Q7))}const Lu={test:Y7,parse:UA,createTransformer:BA,getAnimatableNone:J7},qA=(n,e)=>t=>`${t>0?e:n}`;function zA(n,e){return typeof n=="number"?t=>Rr(n,e,t):Ds.test(n)?jA(n,e):n.startsWith("var(")?qA(n,e):$A(n,e)}const HA=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,a)=>zA(s,e[a]));return s=>{for(let a=0;a<r;a++)t[a]=i[a](s);return t}},X7=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=zA(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},$A=(n,e)=>{const t=Lu.createTransformer(e),r=Am(n),i=Am(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Tu(HA(r.values,i.values),t):qA(n,e)},hd=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Bw=(n,e)=>t=>Rr(n,e,t);function Z7(n){return typeof n=="number"?Bw:typeof n=="string"?Ds.test(n)?jA:$A:Array.isArray(n)?HA:typeof n=="object"?X7:Bw}function eD(n,e,t){const r=[],i=t||Z7(n[0]),s=n.length-1;for(let a=0;a<s;a++){let u=i(n[a],n[a+1]);if(e){const c=Array.isArray(e)?e[a]||Xr:e;u=Tu(c,u)}r.push(u)}return r}function WA(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(A2(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=eD(e,r,i),u=a.length,c=f=>{let d=0;if(u>1)for(;d<n.length-2&&!(f<n[d+1]);d++);const y=hd(n[d],n[d+1],f);return a[d](y)};return t?f=>c(Cu(n[0],n[s-1],f)):c}function tD(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=hd(0,e,r);n.push(Rr(t,1,i))}}function nD(n){const e=[0];return tD(e,n.length-1),e}function rD(n,e){return n.map(t=>t*e)}function iD(n,e){return n.map(()=>e||kA).splice(0,n.length-1)}function Em({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=V7(r)?r.map(Vw):Vw(r),s={done:!1,value:e[0]},a=rD(t&&t.length===e.length?t:nD(e),n),u=WA(a,e,{ease:Array.isArray(i)?i:iD(e,i)});return{calculatedDuration:n,next:c=>(s.value=u(c),s.done=c>=n,s)}}function GA(n,e){return e?n*(1e3/e):0}const sD=5;function KA(n,e,t){const r=Math.max(e-sD,0);return GA(t-n(r),e-r)}const N0=.001,oD=.01,aD=10,lD=.05,uD=1;function cD({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s,a=1-e;a=Cu(lD,uD,a),n=Cu(oD,aD,Il(n)),a<1?(i=f=>{const d=f*a,y=d*n,_=d-t,w=O1(f,a),T=Math.exp(-y);return N0-_/w*T},s=f=>{const y=f*a*n,_=y*t+t,w=Math.pow(a,2)*Math.pow(f,2)*n,T=Math.exp(-y),I=O1(Math.pow(f,2),a);return(-i(f)+N0>0?-1:1)*((_-w)*T)/I}):(i=f=>{const d=Math.exp(-f*n),y=(f-t)*n+1;return-N0+d*y},s=f=>{const d=Math.exp(-f*n),y=(t-f)*(n*n);return d*y});const u=5/n,c=fD(i,s,u);if(n=xc(n),isNaN(c))return{stiffness:100,damping:10,duration:n};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:n}}}const hD=12;function fD(n,e,t){let r=t;for(let i=1;i<hD;i++)r=r-n(r)/e(r);return r}function O1(n,e){return n*Math.sqrt(1-e*e)}const dD=["duration","bounce"],pD=["stiffness","damping","mass"];function qw(n,e){return e.some(t=>n[t]!==void 0)}function mD(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!qw(n,pD)&&qw(n,dD)){const t=cD(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function YA({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],a={done:!1,value:i},{stiffness:u,damping:c,mass:f,duration:d,velocity:y,isResolvedFromDuration:_}=mD({...r,velocity:-Il(r.velocity||0)}),w=y||0,T=c/(2*Math.sqrt(u*f)),I=s-i,P=Il(Math.sqrt(u/f)),F=Math.abs(I)<5;t||(t=F?.01:2),e||(e=F?.005:.5);let Y;if(T<1){const H=O1(P,T);Y=$=>{const ae=Math.exp(-T*P*$);return s-ae*((w+T*P*I)/H*Math.sin(H*$)+I*Math.cos(H*$))}}else if(T===1)Y=H=>s-Math.exp(-P*H)*(I+(w+P*I)*H);else{const H=P*Math.sqrt(T*T-1);Y=$=>{const ae=Math.exp(-T*P*$),ge=Math.min(H*$,300);return s-ae*((w+T*P*I)*Math.sinh(ge)+H*I*Math.cosh(ge))/H}}return{calculatedDuration:_&&d||null,next:H=>{const $=Y(H);if(_)a.done=H>=d;else{let ae=w;H!==0&&(T<1?ae=KA(Y,H,$):ae=0);const ge=Math.abs(ae)<=t,W=Math.abs(s-$)<=e;a.done=ge&&W}return a.value=a.done?s:$,a}}}function zw({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:u,max:c,restDelta:f=.5,restSpeed:d}){const y=n[0],_={done:!1,value:y},w=R=>u!==void 0&&R<u||c!==void 0&&R>c,T=R=>u===void 0?c:c===void 0||Math.abs(u-R)<Math.abs(c-R)?u:c;let I=t*e;const P=y+I,F=a===void 0?P:a(P);F!==P&&(I=F-y);const Y=R=>-I*Math.exp(-R/r),H=R=>F+Y(R),$=R=>{const L=Y(R),q=H(R);_.done=Math.abs(L)<=f,_.value=_.done?F:q};let ae,ge;const W=R=>{w(_.value)&&(ae=R,ge=YA({keyframes:[_.value,T(_.value)],velocity:KA(H,R,_.value),damping:i,stiffness:s,restDelta:f,restSpeed:d}))};return W(0),{calculatedDuration:null,next:R=>{let L=!1;return!ge&&ae===void 0&&(L=!0,$(R),W(R)),ae!==void 0&&R>ae?ge.next(R-ae):(!L&&$(R),_)}}}const gD=n=>{const e=({timestamp:t})=>n(t);return{start:()=>dr.update(e,!0),stop:()=>Rl(e),now:()=>ws.isProcessing?ws.timestamp:performance.now()}},Hw=2e4;function $w(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Hw;)e+=t,r=n.next(e);return e>=Hw?1/0:e}const yD={decay:zw,inertia:zw,tween:Em,keyframes:Em,spring:YA};function Tm({autoplay:n=!0,delay:e=0,driver:t=gD,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u="loop",onPlay:c,onStop:f,onComplete:d,onUpdate:y,..._}){let w=1,T=!1,I,P;const F=()=>{P=new Promise(Q=>{I=Q})};F();let Y;const H=yD[i]||Em;let $;H!==Em&&typeof r[0]!="number"&&($=WA([0,100],r,{clamp:!1}),r=[0,100]);const ae=H({..._,keyframes:r});let ge;u==="mirror"&&(ge=H({..._,keyframes:[...r].reverse(),velocity:-(_.velocity||0)}));let W="idle",R=null,L=null,q=null;ae.calculatedDuration===null&&s&&(ae.calculatedDuration=$w(ae));const{calculatedDuration:C}=ae;let j=1/0,M=1/0;C!==null&&(j=C+a,M=j*(s+1)-a);let se=0;const Se=Q=>{if(L===null)return;w>0&&(L=Math.min(L,Q)),w<0&&(L=Math.min(Q-M/w,L)),R!==null?se=R:se=Math.round(Q-L)*w;const D=se-e*(w>=0?1:-1),X=w>=0?D<0:D>M;se=Math.max(D,0),W==="finished"&&R===null&&(se=M);let ne=se,ue=ae;if(s){const Te=Math.min(se,M)/j;let je=Math.floor(Te),He=Te%1;!He&&Te>=1&&(He=1),He===1&&je--,je=Math.min(je,s+1),!!(je%2)&&(u==="reverse"?(He=1-He,a&&(He-=a/j)):u==="mirror"&&(ue=ge)),ne=Cu(0,1,He)*j}const fe=X?{done:!1,value:r[0]}:ue.next(ne);$&&(fe.value=$(fe.value));let{done:ve}=fe;!X&&C!==null&&(ve=w>=0?se>=M:se<=0);const Ne=R===null&&(W==="finished"||W==="running"&&ve);return y&&y(fe.value),Ne&&ee(),fe},xe=()=>{Y&&Y.stop(),Y=void 0},Ee=()=>{W="idle",xe(),I(),F(),L=q=null},ee=()=>{W="finished",d&&d(),xe(),I()},he=()=>{if(T)return;Y||(Y=t(Se));const Q=Y.now();c&&c(),R!==null?L=Q-R:(!L||W==="finished")&&(L=Q),W==="finished"&&F(),q=L,R=null,W="running",Y.start()};n&&he();const _e={then(Q,D){return P.then(Q,D)},get time(){return Il(se)},set time(Q){Q=xc(Q),se=Q,R!==null||!Y||w===0?R=Q:L=Y.now()-Q/w},get duration(){const Q=ae.calculatedDuration===null?$w(ae):ae.calculatedDuration;return Il(Q)},get speed(){return w},set speed(Q){Q===w||!Y||(w=Q,_e.time=Il(se))},get state(){return W},play:he,pause:()=>{W="paused",R=se},stop:()=>{T=!0,W!=="idle"&&(W="idle",f&&f(),Ee())},cancel:()=>{q!==null&&Se(q),Ee()},complete:()=>{W="finished"},sample:Q=>(L=0,Se(Q))};return _e}function vD(n){let e;return()=>(e===void 0&&(e=n()),e)}const wD=vD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_D=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ep=10,xD=2e4,bD=(n,e)=>e.type==="spring"||n==="backgroundColor"||!TA(e.ease);function SD(n,e,{onUpdate:t,onComplete:r,...i}){if(!(wD()&&_D.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,u,c,f=!1;const d=()=>{c=new Promise(H=>{u=H})};d();let{keyframes:y,duration:_=300,ease:w,times:T}=i;if(bD(e,i)){const H=Tm({...i,repeat:0,delay:0});let $={done:!1,value:y[0]};const ae=[];let ge=0;for(;!$.done&&ge<xD;)$=H.sample(ge),ae.push($.value),ge+=Ep;T=void 0,y=ae,_=ge-Ep,w="linear"}const I=L7(n.owner.current,e,y,{...i,duration:_,ease:w,times:T}),P=()=>{f=!1,I.cancel()},F=()=>{f=!0,dr.update(P),u(),d()};return I.onfinish=()=>{f||(n.set(R7(y,i)),r&&r(),F())},{then(H,$){return c.then(H,$)},attachTimeline(H){return I.timeline=H,I.onfinish=null,Xr},get time(){return Il(I.currentTime||0)},set time(H){I.currentTime=xc(H)},get speed(){return I.playbackRate},set speed(H){I.playbackRate=H},get duration(){return Il(_)},play:()=>{a||(I.play(),Rl(P))},pause:()=>I.pause(),stop:()=>{if(a=!0,I.playState==="idle")return;const{currentTime:H}=I;if(H){const $=Tm({...i,autoplay:!1});n.setWithVelocity($.sample(H-Ep).value,$.sample(H).value,Ep)}F()},complete:()=>{f||I.finish()},cancel:F}}function AD({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Xr,pause:Xr,stop:Xr,then:s=>(s(),Promise.resolve()),cancel:Xr,complete:Xr});return e?Tm({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const ED={type:"spring",stiffness:500,damping:25,restSpeed:10},TD=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),ND={type:"keyframes",duration:.8},ID={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PD=(n,{keyframes:e})=>e.length>2?ND:Oc.has(n)?n.startsWith("scale")?TD(e[1]):ED:ID,j1=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Lu.test(e)||e==="0")&&!e.startsWith("url(")),kD=new Set(["brightness","contrast","saturate","opacity"]);function CD(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(ag)||[];if(!r)return n;const i=t.replace(r,"");let s=kD.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const LD=/([a-z-]*)\(.*?\)/g,M1={...Lu,getAnimatableNone:n=>{const e=n.match(LD);return e?e.map(CD).join(" "):n}},RD={...cA,color:Ds,backgroundColor:Ds,outlineColor:Ds,fill:Ds,stroke:Ds,borderColor:Ds,borderTopColor:Ds,borderRightColor:Ds,borderBottomColor:Ds,borderLeftColor:Ds,filter:M1,WebkitFilter:M1},I2=n=>RD[n];function QA(n,e){let t=I2(n);return t!==M1&&(t=Lu),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const JA=n=>/^0[^.\s]+$/.test(n);function DD(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||JA(n)}function OD(n,e,t,r){const i=j1(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const a=r.from!==void 0?r.from:n.get();let u;const c=[];for(let f=0;f<s.length;f++)s[f]===null&&(s[f]=f===0?a:s[f-1]),DD(s[f])&&c.push(f),typeof s[f]=="string"&&s[f]!=="none"&&s[f]!=="0"&&(u=s[f]);if(i&&c.length&&u)for(let f=0;f<c.length;f++){const d=c[f];s[d]=QA(e,u)}return s}function jD({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:u,from:c,elapsed:f,...d}){return!!Object.keys(d).length}function P2(n,e){return n[e]||n.default||n}const MD={skipAnimations:!1},k2=(n,e,t,r={})=>i=>{const s=P2(r,n)||{},a=s.delay||r.delay||0;let{elapsed:u=0}=r;u=u-xc(a);const c=OD(e,n,t,s),f=c[0],d=c[c.length-1],y=j1(n,f),_=j1(n,d);let w={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-u,onUpdate:T=>{e.set(T),s.onUpdate&&s.onUpdate(T)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(jD(s)||(w={...w,...PD(n,w)}),w.duration&&(w.duration=xc(w.duration)),w.repeatDelay&&(w.repeatDelay=xc(w.repeatDelay)),!y||!_||C7.current||s.type===!1||MD.skipAnimations)return AD(w);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=SD(e,n,w);if(T)return T}return Tm(w)};function Nm(n){return!!(Js(n)&&n.add)}const XA=n=>/^\-?\d*\.?\d+$/.test(n);function C2(n,e){n.indexOf(e)===-1&&n.push(e)}function L2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class R2{constructor(){this.subscriptions=[]}add(e){return C2(this.subscriptions,e),()=>L2(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const FD=n=>!isNaN(parseFloat(n));class VD{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:a}=ws;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,dr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>dr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=FD(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new R2);const r=this.events[e].add(t);return e==="change"?()=>{r(),dr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?GA(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oh(n,e){return new VD(n,e)}const ZA=n=>e=>e.test(n),UD={test:n=>n==="auto",parse:n=>n},e3=[jc,Bt,$a,fu,W8,$8,UD],Af=n=>e3.find(ZA(n)),BD=[...e3,Ds,Lu],qD=n=>BD.find(ZA(n));function zD(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Oh(t))}function HD(n,e){const t=ug(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const a in s){const u=a7(s[a]);zD(n,a,u)}}function $D(n,e,t){var r,i;const s=Object.keys(e).filter(u=>!n.hasValue(u)),a=s.length;if(a)for(let u=0;u<a;u++){const c=s[u],f=e[c];let d=null;Array.isArray(f)&&(d=f[0]),d===null&&(d=(i=(r=t[c])!==null&&r!==void 0?r:n.readValue(c))!==null&&i!==void 0?i:e[c]),d!=null&&(typeof d=="string"&&(XA(d)||JA(d))?d=parseFloat(d):!qD(d)&&Lu.test(f)&&(d=QA(c,f)),n.addValue(c,Oh(d,{owner:n})),t[c]===void 0&&(t[c]=d),d!==null&&n.setBaseTarget(c,d))}}function WD(n,e){return e?(e[n]||e.default||e).from:void 0}function GD(n,e,t){const r={};for(const i in n){const s=WD(i,e);if(s!==void 0)r[i]=s;else{const a=t.getValue(i);a&&(r[i]=a.get())}}return r}function KD({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function YD(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function t3(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:a,...u}=n.makeTargetAnimatable(e);const c=n.getValue("willChange");r&&(s=r);const f=[],d=i&&n.animationState&&n.animationState.getState()[i];for(const y in u){const _=n.getValue(y),w=u[y];if(!_||w===void 0||d&&KD(d,y))continue;const T={delay:t,elapsed:0,...P2(s||{},y)};if(window.HandoffAppearAnimations){const F=n.getProps()[nA];if(F){const Y=window.HandoffAppearAnimations(F,y,_,dr);Y!==null&&(T.elapsed=Y,T.isHandoff=!0)}}let I=!T.isHandoff&&!YD(_,w);if(T.type==="spring"&&(_.getVelocity()||T.velocity)&&(I=!1),_.animation&&(I=!1),I)continue;_.start(k2(y,_,w,n.shouldReduceMotion&&Oc.has(y)?{type:!1}:T));const P=_.animation;Nm(c)&&(c.add(y),P.then(()=>c.remove(y))),f.push(P)}return a&&Promise.all(f).then(()=>{a&&HD(n,a)}),f}function F1(n,e,t={}){const r=ug(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(t3(n,r,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:y}=i;return QD(n,e,f+c,d,y,t)}:()=>Promise.resolve(),{when:u}=i;if(u){const[c,f]=u==="beforeChildren"?[s,a]:[a,s];return c().then(()=>f())}else return Promise.all([s(),a(t.delay)])}function QD(n,e,t=0,r=0,i=1,s){const a=[],u=(n.variantChildren.size-1)*r,c=i===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(n.variantChildren).sort(JD).forEach((f,d)=>{f.notify("AnimationStart",e),a.push(F1(f,e,{...s,delay:t+c(d)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function JD(n,e){return n.sortNodePosition(e)}function XD(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>F1(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=F1(n,e,t);else{const i=typeof e=="function"?ug(n,e,t.custom):e;r=Promise.all(t3(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const ZD=[...m2].reverse(),eO=m2.length;function tO(n){return e=>Promise.all(e.map(({animation:t,options:r})=>XD(n,t,r)))}function nO(n){let e=tO(n);const t=iO();let r=!0;const i=(c,f)=>{const d=ug(n,f);if(d){const{transition:y,transitionEnd:_,...w}=d;c={...c,...w,..._}}return c};function s(c){e=c(n)}function a(c,f){const d=n.getProps(),y=n.getVariantContext(!0)||{},_=[],w=new Set;let T={},I=1/0;for(let F=0;F<eO;F++){const Y=ZD[F],H=t[Y],$=d[Y]!==void 0?d[Y]:y[Y],ae=ud($),ge=Y===f?H.isActive:null;ge===!1&&(I=F);let W=$===y[Y]&&$!==d[Y]&&ae;if(W&&r&&n.manuallyAnimateOnMount&&(W=!1),H.protectedKeys={...T},!H.isActive&&ge===null||!$&&!H.prevProp||sg($)||typeof $=="boolean")continue;let L=rO(H.prevProp,$)||Y===f&&H.isActive&&!W&&ae||F>I&&ae,q=!1;const C=Array.isArray($)?$:[$];let j=C.reduce(i,{});ge===!1&&(j={});const{prevResolvedValues:M={}}=H,se={...M,...j},Se=xe=>{L=!0,w.has(xe)&&(q=!0,w.delete(xe)),H.needsAnimating[xe]=!0};for(const xe in se){const Ee=j[xe],ee=M[xe];if(T.hasOwnProperty(xe))continue;let he=!1;Sm(Ee)&&Sm(ee)?he=!AA(Ee,ee):he=Ee!==ee,he?Ee!==void 0?Se(xe):w.add(xe):Ee!==void 0&&w.has(xe)?Se(xe):H.protectedKeys[xe]=!0}H.prevProp=$,H.prevResolvedValues=j,H.isActive&&(T={...T,...j}),r&&n.blockInitialAnimation&&(L=!1),L&&(!W||q)&&_.push(...C.map(xe=>({animation:xe,options:{type:Y,...c}})))}if(w.size){const F={};w.forEach(Y=>{const H=n.getBaseTarget(Y);H!==void 0&&(F[Y]=H)}),_.push({animation:F})}let P=!!_.length;return r&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(_):Promise.resolve()}function u(c,f,d){var y;if(t[c].isActive===f)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(w=>{var T;return(T=w.animationState)===null||T===void 0?void 0:T.setActive(c,f)}),t[c].isActive=f;const _=a(d,c);for(const w in t)t[w].protectedKeys={};return _}return{animateChanges:a,setActive:u,setAnimateFunction:s,getState:()=>t}}function rO(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!AA(e,n):!1}function uc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iO(){return{animate:uc(!0),whileInView:uc(),whileHover:uc(),whileTap:uc(),whileDrag:uc(),whileFocus:uc(),exit:uc()}}class sO extends Bu{constructor(e){super(e),e.animationState||(e.animationState=nO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),sg(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let oO=0;class aO extends Bu{constructor(){super(...arguments),this.id=oO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lO={animation:{Feature:sO},exit:{Feature:aO}},Ww=(n,e)=>Math.abs(n-e);function uO(n,e){const t=Ww(n.x,e.x),r=Ww(n.y,e.y);return Math.sqrt(t**2+r**2)}class n3{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=P0(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,w=uO(y.offset,{x:0,y:0})>=3;if(!_&&!w)return;const{point:T}=y,{timestamp:I}=ws;this.history.push({...T,timestamp:I});const{onStart:P,onMove:F}=this.handlers;_||(P&&P(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=I0(_,this.transformPagePoint),dr.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:w,onSessionEnd:T,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=P0(y.type==="pointercancel"?this.lastMoveEventInfo:I0(_,this.transformPagePoint),this.history);this.startEvent&&w&&w(y,P),T&&T(y,P)},!wA(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const a=lg(e),u=I0(a,this.transformPagePoint),{point:c}=u,{timestamp:f}=ws;this.history=[{...c,timestamp:f}];const{onSessionStart:d}=t;d&&d(e,P0(u,this.history)),this.removeListeners=Tu(Nl(this.contextWindow,"pointermove",this.handlePointerMove),Nl(this.contextWindow,"pointerup",this.handlePointerUp),Nl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rl(this.updatePoint)}}function I0(n,e){return e?{point:e(n.point)}:n}function Gw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function P0({point:n},e){return{point:n,delta:Gw(n,r3(e)),offset:Gw(n,cO(e)),velocity:hO(e,.1)}}function cO(n){return n[0]}function r3(n){return n[n.length-1]}function hO(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=r3(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>xc(e)));)t--;if(!r)return{x:0,y:0};const s=Il(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function _o(n){return n.max-n.min}function V1(n,e=0,t=.01){return Math.abs(n-e)<=t}function Kw(n,e,t,r=.5){n.origin=r,n.originPoint=Rr(e.min,e.max,n.origin),n.scale=_o(t)/_o(e),(V1(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Rr(t.min,t.max,n.origin)-n.originPoint,(V1(n.translate)||isNaN(n.translate))&&(n.translate=0)}function $f(n,e,t,r){Kw(n.x,e.x,t.x,r?r.originX:void 0),Kw(n.y,e.y,t.y,r?r.originY:void 0)}function Yw(n,e,t){n.min=t.min+e.min,n.max=n.min+_o(e)}function fO(n,e,t){Yw(n.x,e.x,t.x),Yw(n.y,e.y,t.y)}function Qw(n,e,t){n.min=e.min-t.min,n.max=n.min+_o(e)}function Wf(n,e,t){Qw(n.x,e.x,t.x),Qw(n.y,e.y,t.y)}function dO(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Rr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Rr(t,n,r.max):Math.min(n,t)),n}function Jw(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function pO(n,{top:e,left:t,bottom:r,right:i}){return{x:Jw(n.x,t,i),y:Jw(n.y,e,r)}}function Xw(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function mO(n,e){return{x:Xw(n.x,e.x),y:Xw(n.y,e.y)}}function gO(n,e){let t=.5;const r=_o(n),i=_o(e);return i>r?t=hd(e.min,e.max-r,n.min):r>i&&(t=hd(n.min,n.max-i,e.min)),Cu(0,1,t)}function yO(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const U1=.35;function vO(n=U1){return n===!1?n=0:n===!0&&(n=U1),{x:Zw(n,"left","right"),y:Zw(n,"top","bottom")}}function Zw(n,e,t){return{min:e_(n,e),max:e_(n,t)}}function e_(n,e){return typeof n=="number"?n:n[e]||0}const t_=()=>({translate:0,scale:1,origin:0,originPoint:0}),gh=()=>({x:t_(),y:t_()}),n_=()=>({min:0,max:0}),ci=()=>({x:n_(),y:n_()});function qo(n){return[n("x"),n("y")]}function i3({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function wO({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function _O(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function k0(n){return n===void 0||n===1}function B1({scale:n,scaleX:e,scaleY:t}){return!k0(n)||!k0(e)||!k0(t)}function hc(n){return B1(n)||s3(n)||n.z||n.rotate||n.rotateX||n.rotateY}function s3(n){return r_(n.x)||r_(n.y)}function r_(n){return n&&n!=="0%"}function Im(n,e,t){const r=n-t,i=e*r;return t+i}function i_(n,e,t,r,i){return i!==void 0&&(n=Im(n,i,r)),Im(n,t,r)+e}function q1(n,e=0,t=1,r,i){n.min=i_(n.min,e,t,r,i),n.max=i_(n.max,e,t,r,i)}function o3(n,{x:e,y:t}){q1(n.x,e.translate,e.scale,e.originPoint),q1(n.y,t.translate,t.scale,t.originPoint)}function xO(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,a;for(let u=0;u<i;u++){s=t[u],a=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&yh(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,o3(n,a)),r&&hc(s.latestValues)&&yh(n,s.latestValues))}e.x=s_(e.x),e.y=s_(e.y)}function s_(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function du(n,e){n.min=n.min+e,n.max=n.max+e}function o_(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,a=Rr(n.min,n.max,s);q1(n,e[t],e[r],a,e.scale)}const bO=["x","scaleX","originX"],SO=["y","scaleY","originY"];function yh(n,e){o_(n.x,e,bO),o_(n.y,e,SO)}function a3(n,e){return i3(_O(n.getBoundingClientRect(),e))}function AO(n,e,t){const r=a3(n,t),{scroll:i}=e;return i&&(du(r.x,i.offset.x),du(r.y,i.offset.y)),r}const l3=({current:n})=>n?n.ownerDocument.defaultView:null,EO=new WeakMap;class TO{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ci(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(lg(d,"page").point)},s=(d,y)=>{const{drag:_,dragPropagation:w,onDragStart:T}=this.getProps();if(_&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=xA(_),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qo(P=>{let F=this.getAxisMotionValue(P).get()||0;if($a.test(F)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const H=Y.layout.layoutBox[P];H&&(F=_o(H)*(parseFloat(F)/100))}}this.originPoint[P]=F}),T&&dr.update(()=>T(d,y),!1,!0);const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},a=(d,y)=>{const{dragPropagation:_,dragDirectionLock:w,onDirectionLock:T,onDrag:I}=this.getProps();if(!_&&!this.openGlobalLock)return;const{offset:P}=y;if(w&&this.currentDirection===null){this.currentDirection=NO(P),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",y.point,P),this.updateAxis("y",y.point,P),this.visualElement.render(),I&&I(d,y)},u=(d,y)=>this.stop(d,y),c=()=>qo(d=>{var y;return this.getAnimationState(d)==="paused"&&((y=this.getAxisMotionValue(d).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new n3(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:l3(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&dr.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Tp(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=dO(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&ph(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=pO(i.layoutBox,t):this.constraints=!1,this.elastic=vO(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qo(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=yO(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ph(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=AO(r,i.root,this.visualElement.getTransformPagePoint());let a=mO(i.layout.layoutBox,s);if(t){const u=t(wO(a));this.hasMutatedConstraints=!!u,u&&(a=i3(u))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},f=qo(d=>{if(!Tp(d,t,this.currentDirection))return;let y=c&&c[d]||{};a&&(y={min:0,max:0});const _=i?200:1e6,w=i?40:1e7,T={type:"inertia",velocity:r?e[d]:0,bounceStiffness:_,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...s,...y};return this.startAxisValueAnimation(d,T)});return Promise.all(f).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(k2(e,r,0,t))}stopAnimation(){qo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qo(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qo(t=>{const{drag:r}=this.getProps();if(!Tp(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:u}=i.layout.layoutBox[t];s.set(e[t]-Rr(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!ph(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qo(a=>{const u=this.getAxisMotionValue(a);if(u){const c=u.get();i[a]=gO({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qo(a=>{if(!Tp(a,e,null))return;const u=this.getAxisMotionValue(a),{min:c,max:f}=this.constraints[a];u.set(Rr(c,f,i[a]))})}addListeners(){if(!this.visualElement.current)return;EO.set(this.visualElement,this);const e=this.visualElement.current,t=Nl(e,"pointerdown",c=>{const{drag:f,dragListener:d=!0}=this.getProps();f&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ph(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const a=Al(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(qo(d=>{const y=this.getAxisMotionValue(d);y&&(this.originPoint[d]+=c[d].translate,y.set(y.get()+c[d].translate))}),this.visualElement.render())}));return()=>{a(),t(),s(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=U1,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:u}}}function Tp(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function NO(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class IO extends Bu{constructor(e){super(e),this.removeGroupControls=Xr,this.removeListeners=Xr,this.controls=new TO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xr}unmount(){this.removeGroupControls(),this.removeListeners()}}const a_=n=>(e,t)=>{n&&dr.update(()=>n(e,t))};class PO extends Bu{constructor(){super(...arguments),this.removePointerDownListener=Xr}onPointerDown(e){this.session=new n3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:l3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:a_(e),onStart:a_(t),onMove:r,onEnd:(s,a)=>{delete this.session,i&&dr.update(()=>i(s,a))}}}mount(){this.removePointerDownListener=Nl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function kO(){const n=Re.useContext(d2);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=Re.useId();return Re.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const Kp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function l_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ef={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Bt.test(n))n=parseFloat(n);else return n;const t=l_(n,e.target.x),r=l_(n,e.target.y);return`${t}% ${r}%`}},CO={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Lu.parse(n);if(i.length>5)return r;const s=Lu.createTransformer(n),a=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,c=t.y.scale*e.y;i[0+a]/=u,i[1+a]/=c;const f=Rr(u,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),s(i)}};class LO extends ly.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;F8(RO),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Kp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||dr.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function u3(n){const[e,t]=kO(),r=Re.useContext(iA);return ly.createElement(LO,{...n,layoutGroup:r,switchLayoutGroup:Re.useContext(sA),isPresent:e,safeToRemove:t})}const RO={borderRadius:{...Ef,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ef,borderTopRightRadius:Ef,borderBottomLeftRadius:Ef,borderBottomRightRadius:Ef,boxShadow:CO},c3=["TopLeft","TopRight","BottomLeft","BottomRight"],DO=c3.length,u_=n=>typeof n=="string"?parseFloat(n):n,c_=n=>typeof n=="number"||Bt.test(n);function OO(n,e,t,r,i,s){i?(n.opacity=Rr(0,t.opacity!==void 0?t.opacity:1,jO(r)),n.opacityExit=Rr(e.opacity!==void 0?e.opacity:1,0,MO(r))):s&&(n.opacity=Rr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let a=0;a<DO;a++){const u=`border${c3[a]}Radius`;let c=h_(e,u),f=h_(t,u);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||c_(c)===c_(f)?(n[u]=Math.max(Rr(u_(c),u_(f),r),0),($a.test(f)||$a.test(c))&&(n[u]+="%")):n[u]=f}(e.rotate||t.rotate)&&(n.rotate=Rr(e.rotate||0,t.rotate||0,r))}function h_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const jO=h3(0,.5,RA),MO=h3(.5,.95,Xr);function h3(n,e,t){return r=>r<n?0:r>e?1:t(hd(n,e,r))}function f_(n,e){n.min=e.min,n.max=e.max}function Bo(n,e){f_(n.x,e.x),f_(n.y,e.y)}function d_(n,e,t,r,i){return n-=e,n=Im(n,1/t,r),i!==void 0&&(n=Im(n,1/i,r)),n}function FO(n,e=0,t=1,r=.5,i,s=n,a=n){if($a.test(e)&&(e=parseFloat(e),e=Rr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=Rr(s.min,s.max,r);n===s&&(u-=e),n.min=d_(n.min,e,t,u,i),n.max=d_(n.max,e,t,u,i)}function p_(n,e,[t,r,i],s,a){FO(n,e[t],e[r],e[i],e.scale,s,a)}const VO=["x","scaleX","originX"],UO=["y","scaleY","originY"];function m_(n,e,t,r){p_(n.x,e,VO,t?t.x:void 0,r?r.x:void 0),p_(n.y,e,UO,t?t.y:void 0,r?r.y:void 0)}function g_(n){return n.translate===0&&n.scale===1}function f3(n){return g_(n.x)&&g_(n.y)}function BO(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function d3(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function y_(n){return _o(n.x)/_o(n.y)}class qO{constructor(){this.members=[]}add(e){C2(this.members,e),e.scheduleRender()}remove(e){if(L2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function v_(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:c,rotateX:f,rotateY:d}=t;c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `)}const a=n.x.scale*e.x,u=n.y.scale*e.y;return(a!==1||u!==1)&&(r+=`scale(${a}, ${u})`),r||"none"}const zO=(n,e)=>n.depth-e.depth;class HO{constructor(){this.children=[],this.isDirty=!1}add(e){C2(this.children,e),this.isDirty=!0}remove(e){L2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zO),this.isDirty=!1,this.children.forEach(e)}}function $O(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Rl(r),n(s-e))};return dr.read(r,!0),()=>Rl(r)}function WO(n){window.MotionDebug&&window.MotionDebug.record(n)}function GO(n){return n instanceof SVGElement&&n.tagName!=="svg"}function KO(n,e,t){const r=Js(n)?n:Oh(n);return r.start(k2("",r,e,t)),r.animation}const w_=["","X","Y","Z"],YO={visibility:"hidden"},__=1e3;let QO=0;const fc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function p3({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},u=e==null?void 0:e()){this.id=QO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fc.totalNodes=fc.resolvedTargetDeltas=fc.recalculatedProjection=0,this.nodes.forEach(ZO),this.nodes.forEach(ij),this.nodes.forEach(sj),this.nodes.forEach(ej),WO(fc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new HO)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new R2),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const c=this.eventHandlers.get(a);c&&c.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GO(a),this.instance=a;const{layoutId:c,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||c)&&(this.isLayoutDirty=!0),n){let y;const _=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=$O(_,250),Kp.hasAnimatedSinceResize&&(Kp.hasAnimatedSinceResize=!1,this.nodes.forEach(b_))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeTargetChanged:w,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||d.getDefaultTransition()||cj,{onLayoutAnimationStart:P,onLayoutAnimationComplete:F}=d.getProps(),Y=!this.targetLayout||!d3(this.targetLayout,T)||w,H=!_&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||H||_&&(Y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,H);const $={...P2(I,"layout"),onPlay:P,onComplete:F};(d.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($)}else _||b_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Rl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oj),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const y=this.path[d];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(x_);return}this.isUpdating||this.nodes.forEach(nj),this.isUpdating=!1,this.nodes.forEach(rj),this.nodes.forEach(JO),this.nodes.forEach(XO),this.clearAllSnapshots();const u=performance.now();ws.delta=Cu(0,1e3/60,u-ws.timestamp),ws.timestamp=u,ws.isProcessing=!0,_0.update.process(ws),_0.preRender.process(ws),_0.render.process(ws),ws.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(tj),this.sharedNodes.forEach(aj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ci(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!f3(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,d=f!==this.prevTransformTemplateValue;a&&(u||hc(this.latestValues)||d)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return a&&(c=this.removeTransform(c)),hj(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return ci();const u=a.measureViewportBox(),{scroll:c}=this.root;return c&&(du(u.x,c.offset.x),du(u.y,c.offset.y)),u}removeElementScroll(a){const u=ci();Bo(u,a);for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:d,options:y}=f;if(f!==this.root&&d&&y.layoutScroll){if(d.isRoot){Bo(u,a);const{scroll:_}=this.root;_&&(du(u.x,-_.offset.x),du(u.y,-_.offset.y))}du(u.x,d.offset.x),du(u.y,d.offset.y)}}return u}applyTransform(a,u=!1){const c=ci();Bo(c,a);for(let f=0;f<this.path.length;f++){const d=this.path[f];!u&&d.options.layoutScroll&&d.scroll&&d!==d.root&&yh(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),hc(d.latestValues)&&yh(c,d.latestValues)}return hc(this.latestValues)&&yh(c,this.latestValues),c}removeTransform(a){const u=ci();Bo(u,a);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!hc(f.latestValues))continue;B1(f.latestValues)&&f.updateSnapshot();const d=ci(),y=f.measurePageBox();Bo(d,y),m_(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,d)}return hc(this.latestValues)&&m_(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ws.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var u;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(a||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=ws.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ci(),this.relativeTargetOrigin=ci(),Wf(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Bo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ci(),this.targetWithTransforms=ci()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bo(this.target,this.layout.layoutBox),o3(this.target,this.targetDelta)):Bo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ci(),this.relativeTargetOrigin=ci(),Wf(this.relativeTargetOrigin,this.target,w.target),Bo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||B1(this.parent.latestValues)||s3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const u=this.getLead(),c=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===ws.timestamp&&(f=!1),f)return;const{layout:d,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||y))return;Bo(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;xO(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:T}=u;if(!T){this.projectionTransform&&(this.projectionDelta=gh(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=gh(),this.projectionDeltaWithTransform=gh());const I=this.projectionTransform;$f(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=v_(this.projectionDelta,this.treeScale),(this.projectionTransform!==I||this.treeScale.x!==_||this.treeScale.y!==w)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),fc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,u=!1){const c=this.snapshot,f=c?c.latestValues:{},d={...this.latestValues},y=gh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=ci(),w=c?c.source:void 0,T=this.layout?this.layout.source:void 0,I=w!==T,P=this.getStack(),F=!P||P.members.length<=1,Y=!!(I&&!F&&this.options.crossfade===!0&&!this.path.some(uj));this.animationProgress=0;let H;this.mixTargetDelta=$=>{const ae=$/1e3;S_(y.x,a.x,ae),S_(y.y,a.y,ae),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wf(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lj(this.relativeTarget,this.relativeTargetOrigin,_,ae),H&&BO(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=ci()),Bo(H,this.relativeTarget)),I&&(this.animationValues=d,OO(d,f,this.latestValues,ae,Y,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dr.update(()=>{Kp.hasAnimatedSinceResize=!0,this.currentAnimation=KO(0,__,{...a,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(__),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:c,layout:f,latestValues:d}=a;if(!(!u||!c||!f)){if(this!==a&&this.layout&&f&&m3(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||ci();const y=_o(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+y;const _=_o(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+_}Bo(u,c),yh(u,d),$f(this.projectionDeltaWithTransform,this.layoutCorrected,u,d)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new qO),this.sharedNodes.get(a).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:u}=this.options;return u?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:u}=this.options;return u?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(u=!0),!u)return;const f={};for(let d=0;d<w_.length;d++){const y="rotate"+w_[d];c[y]&&(f[y]=c[y],a.setStaticValue(y,0))}a.render();for(const d in f)a.setStaticValue(d,f[d]);a.scheduleRender()}getProjectionStyles(a){var u,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return YO;const f={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Gp(a==null?void 0:a.pointerEvents)||"",f.transform=d?d(this.latestValues,""):"none",f;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=Gp(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!hc(this.latestValues)&&(I.transform=d?d({},""):"none",this.hasProjected=!1),I}const _=y.animationValues||y.latestValues;this.applyTransformsToTarget(),f.transform=v_(this.projectionDeltaWithTransform,this.treeScale,_),d&&(f.transform=d(_,f.transform));const{x:w,y:T}=this.projectionDelta;f.transformOrigin=`${w.origin*100}% ${T.origin*100}% 0`,y.animationValues?f.opacity=y===this?(c=(u=_.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:f.opacity=y===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const I in xm){if(_[I]===void 0)continue;const{correct:P,applyTo:F}=xm[I],Y=f.transform==="none"?_[I]:P(_[I],y);if(F){const H=F.length;for(let $=0;$<H;$++)f[F[$]]=Y}else f[I]=Y}return this.options.layoutId&&(f.pointerEvents=y===this?Gp(a==null?void 0:a.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(x_),this.root.sharedNodes.clear()}}}function JO(n){n.updateLayout()}function XO(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,a=t.source!==n.layout.source;s==="size"?qo(y=>{const _=a?t.measuredBox[y]:t.layoutBox[y],w=_o(_);_.min=r[y].min,_.max=_.min+w}):m3(s,t.layoutBox,r)&&qo(y=>{const _=a?t.measuredBox[y]:t.layoutBox[y],w=_o(r[y]);_.max=_.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+w)});const u=gh();$f(u,r,t.layoutBox);const c=gh();a?$f(c,n.applyTransform(i,!0),t.measuredBox):$f(c,r,t.layoutBox);const f=!f3(u);let d=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:w}=y;if(_&&w){const T=ci();Wf(T,t.layoutBox,_.layoutBox);const I=ci();Wf(I,r,w.layoutBox),d3(T,I)||(d=!0),y.options.layoutRoot&&(n.relativeTarget=I,n.relativeTargetOrigin=T,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:u,hasLayoutChanged:f,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function ZO(n){fc.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function ej(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function tj(n){n.clearSnapshot()}function x_(n){n.clearMeasurements()}function nj(n){n.isLayoutDirty=!1}function rj(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function b_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function ij(n){n.resolveTargetDelta()}function sj(n){n.calcProjection()}function oj(n){n.resetRotation()}function aj(n){n.removeLeadSnapshot()}function S_(n,e,t){n.translate=Rr(e.translate,0,t),n.scale=Rr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function A_(n,e,t,r){n.min=Rr(e.min,t.min,r),n.max=Rr(e.max,t.max,r)}function lj(n,e,t,r){A_(n.x,e.x,t.x,r),A_(n.y,e.y,t.y,r)}function uj(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const cj={duration:.45,ease:[.4,0,.1,1]},E_=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),T_=E_("applewebkit/")&&!E_("chrome/")?Math.round:Xr;function N_(n){n.min=T_(n.min),n.max=T_(n.max)}function hj(n){N_(n.x),N_(n.y)}function m3(n,e,t){return n==="position"||n==="preserve-aspect"&&!V1(y_(e),y_(t),.2)}const fj=p3({attachResizeListener:(n,e)=>Al(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),C0={current:void 0},g3=p3({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!C0.current){const n=new fj({});n.mount(window),n.setOptions({layoutScroll:!0}),C0.current=n}return C0.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),dj={pan:{Feature:PO},drag:{Feature:IO,ProjectionNode:g3,MeasureLayout:u3}},pj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function mj(n){const e=pj.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function z1(n,e,t=1){const[r,i]=mj(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return XA(a)?parseFloat(a):a}else return L1(i)?z1(i,e,t+1):i}function gj(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!L1(s))return;const a=z1(s,r);a&&i.set(a)});for(const i in e){const s=e[i];if(!L1(s))continue;const a=z1(s,r);a&&(e[i]=a,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const yj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),y3=n=>yj.has(n),vj=n=>Object.keys(n).some(y3),I_=n=>n===jc||n===Bt,P_=(n,e)=>parseFloat(n.split(", ")[e]),k_=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return P_(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?P_(s[1],n):0}},wj=new Set(["x","y","z"]),_j=Id.filter(n=>!wj.has(n));function xj(n){const e=[];return _j.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const jh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:k_(4,13),y:k_(5,14)};jh.translateX=jh.x;jh.translateY=jh.y;const bj=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:a}=s,u={};a==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(f=>{u[f]=jh[f](r,s)}),e.render();const c=e.measureViewportBox();return t.forEach(f=>{const d=e.getValue(f);d&&d.jump(u[f]),n[f]=jh[f](c,s)}),n},Sj=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(y3);let s=[],a=!1;const u=[];if(i.forEach(c=>{const f=n.getValue(c);if(!n.hasValue(c))return;let d=t[c],y=Af(d);const _=e[c];let w;if(Sm(_)){const T=_.length,I=_[0]===null?1:0;d=_[I],y=Af(d);for(let P=I;P<T&&_[P]!==null;P++)w?A2(Af(_[P])===w):w=Af(_[P])}else w=Af(_);if(y!==w)if(I_(y)&&I_(w)){const T=f.get();typeof T=="string"&&f.set(parseFloat(T)),typeof _=="string"?e[c]=parseFloat(_):Array.isArray(_)&&w===Bt&&(e[c]=_.map(parseFloat))}else y!=null&&y.transform&&(w!=null&&w.transform)&&(d===0||_===0)?d===0?f.set(w.transform(d)):e[c]=y.transform(_):(a||(s=xj(n),a=!0),u.push(c),r[c]=r[c]!==void 0?r[c]:e[c],f.jump(_))}),u.length){const c=u.indexOf("height")>=0?window.pageYOffset:null,f=bj(e,n,u);return s.length&&s.forEach(([d,y])=>{n.getValue(d).set(y)}),n.render(),ig&&c!==null&&window.scrollTo({top:c}),{target:f,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Aj(n,e,t,r){return vj(e)?Sj(n,e,t,r):{target:e,transitionEnd:r}}const Ej=(n,e,t,r)=>{const i=gj(n,e,r);return e=i.target,r=i.transitionEnd,Aj(n,e,t,r)},H1={current:null},v3={current:!1};function Tj(){if(v3.current=!0,!!ig)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>H1.current=n.matches;n.addListener(e),e()}else H1.current=!1}function Nj(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],a=t[i];if(Js(s))n.addValue(i,s),Nm(r)&&r.add(i);else if(Js(a))n.addValue(i,Oh(s,{owner:n})),Nm(r)&&r.remove(i);else if(a!==s)if(n.hasValue(i)){const u=n.getValue(i);!u.hasAnimated&&u.set(s)}else{const u=n.getStaticValue(i);n.addValue(i,Oh(u!==void 0?u:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const C_=new WeakMap,w3=Object.keys(cd),Ij=w3.length,L_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Pj=g2.length;class kj{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>dr.render(this.render,!1,!0);const{latestValues:u,renderState:c}=s;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=og(t),this.isVariantNode=rA(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(t,{});for(const y in d){const _=d[y];u[y]!==void 0&&Js(_)&&(_.set(u[y],!1),Nm(f)&&f.add(y))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,C_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),v3.current||Tj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:H1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){C_.delete(this.current),this.projection&&this.projection.unmount(),Rl(this.notifyUpdate),Rl(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=Oc.has(e),i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&dr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let a,u;for(let c=0;c<Ij;c++){const f=w3[c],{isEnabled:d,Feature:y,ProjectionNode:_,MeasureLayout:w}=cd[f];_&&(a=_),d(t)&&(!this.features[f]&&y&&(this.features[f]=new y(this)),w&&(u=w))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:f,drag:d,dragConstraints:y,layoutScroll:_,layoutRoot:w}=t;this.projection.setOptions({layoutId:c,layout:f,alwaysMeasureLayout:!!d||y&&ph(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof f=="string"?f:"both",initialPromotionConfig:s,layoutScroll:_,layoutRoot:w})}return u}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ci()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<L_.length;r++){const i=L_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Nj(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<Pj;r++){const i=g2[r],s=this.props[i];(ud(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Oh(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=S2(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Js(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new R2),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class _3 extends kj{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let a=GD(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),a&&(a=i(a))),s){$D(this,r,a);const u=Ej(this,r,a,t);t=u.transitionEnd,r=u.target}return{transition:e,transitionEnd:t,...r}}}function Cj(n){return window.getComputedStyle(n)}class Lj extends _3{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Oc.has(t)){const r=I2(t);return r&&r.default||0}else{const r=Cj(e),i=(lA(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return a3(e,t)}build(e,t,r,i){v2(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return b2(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Js(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){pA(e,t,r,i)}}class Rj extends _3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Oc.has(t)){const r=I2(t);return r&&r.default||0}return t=mA.has(t)?t:p2(t),e.getAttribute(t)}measureInstanceViewportBox(){return ci()}scrapeMotionValuesFromProps(e,t){return yA(e,t)}build(e,t,r,i){_2(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){gA(e,t,r,i)}mount(e){this.isSVGTag=x2(e.tagName),super.mount(e)}}const Dj=(n,e)=>y2(n)?new Rj(e,{enableHardwareAcceleration:!1}):new Lj(e,{enableHardwareAcceleration:!0}),Oj={layout:{ProjectionNode:g3,MeasureLayout:u3}},jj={...lO,...I7,...dj,...Oj},Yi=j8((n,e)=>m7(n,e,jj,Dj)),Mj=()=>{const[n,e]=Re.useState(!0),[t,r]=Re.useState(""),[i,s]=Re.useState(""),[a,u]=Re.useState(!1),[c,f]=Re.useState(!1),[d,y]=Re.useState(""),{login:_,signup:w,googleLogin:T}=Gh(),[I,P]=Re.useState(""),F=async()=>{f(!0),P("");try{await T()}catch(H){P(H.message)}f(!1)},Y=async H=>{H.preventDefault(),f(!0),y("");try{n?await _(t,i):await w(t,i)}catch($){y($.message)}f(!1)};return N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 px-4",children:N.jsxs(Yi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8",children:[N.jsxs("div",{className:"text-center",children:[N.jsx(Yi.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mx-auto h-16 w-16 bg-green-600 rounded-full flex items-center justify-center",children:N.jsx(_m,{className:"h-8 w-8 text-white"})}),N.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"SmartCrop Predictor"}),N.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n?"Sign in to your account":"Create your account"})]}),N.jsxs(Yi.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-8 space-y-6",onSubmit:Y,children:[N.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d&&N.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:d}),I&&N.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm mt-2",children:I}),N.jsx("div",{children:N.jsxs("button",{type:"button",onClick:F,disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors mb-2",children:[N.jsx("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 48 48",children:N.jsxs("g",{children:[N.jsx("path",{fill:"#4285F4",d:"M24 9.5c3.54 0 6.7 1.22 9.19 3.23l6.85-6.85C36.68 2.36 30.74 0 24 0 14.82 0 6.71 5.13 2.69 12.56l7.98 6.2C12.13 13.09 17.62 9.5 24 9.5z"}),N.jsx("path",{fill:"#34A853",d:"M46.1 24.55c0-1.64-.15-3.22-.42-4.74H24v9.01h12.42c-.54 2.9-2.18 5.36-4.65 7.01l7.19 5.6C43.93 37.36 46.1 31.45 46.1 24.55z"}),N.jsx("path",{fill:"#FBBC05",d:"M10.67 28.13a14.5 14.5 0 0 1 0-8.26l-7.98-6.2A23.94 23.94 0 0 0 0 24c0 3.77.9 7.34 2.69 10.56l7.98-6.43z"}),N.jsx("path",{fill:"#EA4335",d:"M24 48c6.48 0 11.93-2.15 15.9-5.85l-7.19-5.6c-2.01 1.35-4.6 2.15-8.71 2.15-6.38 0-11.87-3.59-14.33-8.83l-7.98 6.43C6.71 42.87 14.82 48 24 48z"}),N.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})}),"Sign in with Google"]})}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:N.jsx(ZS,{className:"h-5 w-5 text-gray-400"})}),N.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t,onChange:H=>r(H.target.value),className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10",placeholder:"Email address"})]})]}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:N.jsx(JS,{className:"h-5 w-5 text-gray-400"})}),N.jsx("input",{id:"password",name:"password",type:a?"text":"password",required:!0,value:i,onChange:H=>s(H.target.value),className:"appearance-none relative block w-full pl-10 pr-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10",placeholder:"Password"}),N.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!a),children:a?N.jsx(YR,{className:"h-5 w-5 text-gray-400"}):N.jsx(JR,{className:"h-5 w-5 text-gray-400"})})]})]})]}),N.jsx("div",{children:N.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Processing...":n?"Sign In":"Sign Up"})}),N.jsx("div",{className:"text-center",children:N.jsx("button",{type:"button",onClick:()=>e(!n),className:"text-green-600 hover:text-green-500 text-sm",children:n?"Need an account? Sign up":"Already have an account? Sign in"})})]})]})})},Fj=()=>{const[n,e]=Re.useState(""),[t,r]=Re.useState(""),{adminLogin:i}=Gh(),s=a=>{a.preventDefault(),i(n)||(r("Invalid admin password"),e(""))};return N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 px-4",children:N.jsxs(Yi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8",children:[N.jsxs("div",{className:"text-center",children:[N.jsx(Yi.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mx-auto h-16 w-16 bg-red-600 rounded-full flex items-center justify-center",children:N.jsx(h8,{className:"h-8 w-8 text-white"})}),N.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Admin Access"}),N.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter admin password to continue"})]}),N.jsxs(Yi.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-8 space-y-6",onSubmit:s,children:[N.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[t&&N.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:t}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"admin-password",className:"sr-only",children:"Admin Password"}),N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:N.jsx(JS,{className:"h-5 w-5 text-gray-400"})}),N.jsx("input",{id:"admin-password",name:"password",type:"password",required:!0,value:n,onChange:a=>e(a.target.value),className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"Admin Password"})]})]})]}),N.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:"Access Admin Panel"})]})]})})},Vj="modulepreload",Uj=function(n){return"/"+n},R_={},L0=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let a=function(f){return Promise.all(f.map(d=>Promise.resolve(d).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=a(t.map(f=>{if(f=Uj(f),f in R_)return;R_[f]=!0;const d=f.endsWith(".css"),y=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":Vj,d||(_.as="script"),_.crossOrigin="",_.href=f,c&&_.setAttribute("nonce",c),document.head.appendChild(_),d)return new Promise((w,T)=>{_.addEventListener("load",w),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function Kn(n){"@babel/helpers - typeof";return Kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(n)}var ga=Uint8Array,vo=Uint16Array,D2=Int32Array,O2=new ga([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),j2=new ga([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),D_=new ga([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x3=function(n,e){for(var t=new vo(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new D2(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},b3=x3(O2,2),Bj=b3.b,$1=b3.r;Bj[28]=258,$1[258]=28;var qj=x3(j2,0),O_=qj.r,W1=new vo(32768);for(var fr=0;fr<32768;++fr){var uu=(fr&43690)>>1|(fr&21845)<<1;uu=(uu&52428)>>2|(uu&13107)<<2,uu=(uu&61680)>>4|(uu&3855)<<4,W1[fr]=((uu&65280)>>8|(uu&255)<<8)>>1}var Gf=(function(n,e,t){for(var r=n.length,i=0,s=new vo(e);i<r;++i)n[i]&&++s[n[i]-1];var a=new vo(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var u;if(t){u=new vo(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var f=i<<4|n[i],d=e-n[i],y=a[n[i]-1]++<<d,_=y|(1<<d)-1;y<=_;++y)u[W1[y]>>c]=f}else for(u=new vo(r),i=0;i<r;++i)n[i]&&(u[i]=W1[a[n[i]-1]++]>>15-n[i]);return u}),kc=new ga(288);for(var fr=0;fr<144;++fr)kc[fr]=8;for(var fr=144;fr<256;++fr)kc[fr]=9;for(var fr=256;fr<280;++fr)kc[fr]=7;for(var fr=280;fr<288;++fr)kc[fr]=8;var Pm=new ga(32);for(var fr=0;fr<32;++fr)Pm[fr]=5;var zj=Gf(kc,9,0),Hj=Gf(Pm,5,0),S3=function(n){return(n+7)/8|0},$j=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new ga(n.subarray(e,t))},gl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Tf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},R0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:E3,l:0};if(i==1){var a=new ga(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(ae,ge){return ae.f-ge.f}),t.push({s:-1,f:25001});var u=t[0],c=t[1],f=0,d=1,y=2;for(t[0]={s:-1,f:u.f+c.f,l:u,r:c};d!=i-1;)u=t[t[f].f<t[y].f?f++:y++],c=t[f!=d&&t[f].f<t[y].f?f++:y++],t[d++]={s:-1,f:u.f+c.f,l:u,r:c};for(var _=s[0].s,r=1;r<i;++r)s[r].s>_&&(_=s[r].s);var w=new vo(_+1),T=G1(t[d-1],w,0);if(T>e){var r=0,I=0,P=T-e,F=1<<P;for(s.sort(function(ge,W){return w[W.s]-w[ge.s]||ge.f-W.f});r<i;++r){var Y=s[r].s;if(w[Y]>e)I+=F-(1<<T-w[Y]),w[Y]=e;else break}for(I>>=P;I>0;){var H=s[r].s;w[H]<e?I-=1<<e-w[H]++-1:++r}for(;r>=0&&I;--r){var $=s[r].s;w[$]==e&&(--w[$],++I)}T=e}return{t:new ga(w),l:T}},G1=function(n,e,t){return n.s==-1?Math.max(G1(n.l,e,t+1),G1(n.r,e,t+1)):e[n.s]=t},j_=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new vo(++e),r=0,i=n[0],s=1,a=function(c){t[r++]=c},u=1;u<=e;++u)if(n[u]==i&&u!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=n[u]}return{c:t.subarray(0,r),n:e}},Nf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},A3=function(n,e,t){var r=t.length,i=S3(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},M_=function(n,e,t,r,i,s,a,u,c,f,d){gl(e,d++,t),++i[256];for(var y=R0(i,15),_=y.t,w=y.l,T=R0(s,15),I=T.t,P=T.l,F=j_(_),Y=F.c,H=F.n,$=j_(I),ae=$.c,ge=$.n,W=new vo(19),R=0;R<Y.length;++R)++W[Y[R]&31];for(var R=0;R<ae.length;++R)++W[ae[R]&31];for(var L=R0(W,7),q=L.t,C=L.l,j=19;j>4&&!q[D_[j-1]];--j);var M=f+5<<3,se=Nf(i,kc)+Nf(s,Pm)+a,Se=Nf(i,_)+Nf(s,I)+a+14+3*j+Nf(W,q)+2*W[16]+3*W[17]+7*W[18];if(c>=0&&M<=se&&M<=Se)return A3(e,d,n.subarray(c,c+f));var xe,Ee,ee,he;if(gl(e,d,1+(Se<se)),d+=2,Se<se){xe=Gf(_,w,0),Ee=_,ee=Gf(I,P,0),he=I;var _e=Gf(q,C,0);gl(e,d,H-257),gl(e,d+5,ge-1),gl(e,d+10,j-4),d+=14;for(var R=0;R<j;++R)gl(e,d+3*R,q[D_[R]]);d+=3*j;for(var Q=[Y,ae],D=0;D<2;++D)for(var X=Q[D],R=0;R<X.length;++R){var ne=X[R]&31;gl(e,d,_e[ne]),d+=q[ne],ne>15&&(gl(e,d,X[R]>>5&127),d+=X[R]>>12)}}else xe=zj,Ee=kc,ee=Hj,he=Pm;for(var R=0;R<u;++R){var ue=r[R];if(ue>255){var ne=ue>>18&31;Tf(e,d,xe[ne+257]),d+=Ee[ne+257],ne>7&&(gl(e,d,ue>>23&31),d+=O2[ne]);var fe=ue&31;Tf(e,d,ee[fe]),d+=he[fe],fe>3&&(Tf(e,d,ue>>5&8191),d+=j2[fe])}else Tf(e,d,xe[ue]),d+=Ee[ue]}return Tf(e,d,xe[256]),d+Ee[256]},Wj=new D2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),E3=new ga(0),Gj=function(n,e,t,r,i,s){var a=s.z||n.length,u=new ga(r+a+5*(1+Math.ceil(a/7e3))+i),c=u.subarray(r,u.length-i),f=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var y=Wj[e-1],_=y>>13,w=y&8191,T=(1<<t)-1,I=s.p||new vo(32768),P=s.h||new vo(T+1),F=Math.ceil(t/3),Y=2*F,H=function(Fe){return(n[Fe]^n[Fe+1]<<F^n[Fe+2]<<Y)&T},$=new D2(25e3),ae=new vo(288),ge=new vo(32),W=0,R=0,L=s.i||0,q=0,C=s.w||0,j=0;L+2<a;++L){var M=H(L),se=L&32767,Se=P[M];if(I[se]=Se,P[M]=se,C<=L){var xe=a-L;if((W>7e3||q>24576)&&(xe>423||!f)){d=M_(n,c,0,$,ae,ge,R,q,j,L-j,d),q=W=R=0,j=L;for(var Ee=0;Ee<286;++Ee)ae[Ee]=0;for(var Ee=0;Ee<30;++Ee)ge[Ee]=0}var ee=2,he=0,_e=w,Q=se-Se&32767;if(xe>2&&M==H(L-Q))for(var D=Math.min(_,xe)-1,X=Math.min(32767,L),ne=Math.min(258,xe);Q<=X&&--_e&&se!=Se;){if(n[L+ee]==n[L+ee-Q]){for(var ue=0;ue<ne&&n[L+ue]==n[L+ue-Q];++ue);if(ue>ee){if(ee=ue,he=Q,ue>D)break;for(var fe=Math.min(Q,ue-2),ve=0,Ee=0;Ee<fe;++Ee){var Ne=L-Q+Ee&32767,Te=I[Ne],je=Ne-Te&32767;je>ve&&(ve=je,Se=Ne)}}}se=Se,Se=I[se],Q+=se-Se&32767}if(he){$[q++]=268435456|$1[ee]<<18|O_[he];var He=$1[ee]&31,nt=O_[he]&31;R+=O2[He]+j2[nt],++ae[257+He],++ge[nt],C=L+ee,++W}else $[q++]=n[L],++ae[n[L]]}}for(L=Math.max(L,C);L<a;++L)$[q++]=n[L],++ae[n[L]];d=M_(n,c,f,$,ae,ge,R,q,j,L-j,d),f||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=P,s.p=I,s.i=L,s.w=C)}else{for(var L=s.w||0;L<a+f;L+=65535){var rt=L+65535;rt>=a&&(c[d/8|0]=f,rt=a),d=A3(c,d+1,n.subarray(L,rt))}s.i=a}return $j(u,0,r+S3(d)+i)},T3=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,a=0;a!=s;){for(var u=Math.min(a+2655,s);a<u;++a)i+=r+=t[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Kj=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new ga(s.length+n.length);a.set(s),a.set(n,s.length),n=a,i.w=s.length}return Gj(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},N3=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Yj=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=T3();i.p(e.dictionary),N3(n,2,i.d())}};function K1(n,e){e||(e={});var t=T3();t.p(n);var r=Kj(n,e,e.dictionary?6:2,4);return Yj(r,e),N3(r,r.length-4,t.d()),r}var Qj=typeof TextDecoder<"u"&&new TextDecoder,Jj=0;try{Qj.decode(E3,{stream:!0}),Jj=1}catch{}function Xj(n){if(Array.isArray(n))return n}function Zj(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,u=[],c=!0,f=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(r=s.call(t)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function F_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function eM(n,e){if(n){if(typeof n=="string")return F_(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?F_(n,e):void 0}}function tM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_(n,e){return Xj(n)||Zj(n,e)||eM(n,e)||tM()}function U_(n,e="utf8"){return new TextDecoder(e).decode(n)}const nM=new TextEncoder;function rM(n){return nM.encode(n)}const iM=1024*8,sM=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),D0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class M2{constructor(e=iM,t={}){Gn(this,"buffer");Gn(this,"byteLength");Gn(this,"byteOffset");Gn(this,"length");Gn(this,"offset");Gn(this,"lastWrittenByte");Gn(this,"littleEndian");Gn(this,"_data");Gn(this,"_mark");Gn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof M2)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=D0[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===sM&&t!=="uint8"&&t!=="int8"){const u=new Uint8Array(this.buffer.slice(i,i+r));u.reverse();const c=new D0[t](u.buffer);return this.offset+=r,c.reverse(),c}const a=new D0[t](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return U_(this.readBytes(e))}decodeText(e=1,t="utf8"){return U_(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(rM(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Kh(n){let e=n.length;for(;--e>=0;)n[e]=0}const oM=3,aM=258,I3=29,lM=256,uM=lM+1+I3,P3=30,cM=512,hM=new Array((uM+2)*2);Kh(hM);const fM=new Array(P3*2);Kh(fM);const dM=new Array(cM);Kh(dM);const pM=new Array(aM-oM+1);Kh(pM);const mM=new Array(I3);Kh(mM);const gM=new Array(P3);Kh(gM);const yM=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var Y1=yM;const vM=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},wM=new Uint32Array(vM()),_M=(n,e,t,r)=>{const i=wM,s=r+t;n^=-1;for(let a=r;a<s;a++)n=n>>>8^i[(n^e[a])&255];return n^-1};var Fa=_M,Q1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},k3={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const xM=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var bM=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)xM(t,r)&&(n[r]=t[r])}}return n},SM=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let a=n[r];t.set(a,i),i+=a.length}return t},C3={assign:bM,flattenChunks:SM};let L3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{L3=!1}const fd=new Uint8Array(256);for(let n=0;n<256;n++)fd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;fd[254]=fd[254]=1;var AM=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,a=n.length,u=0;for(i=0;i<a;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<a&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),s=0,i=0;s<u;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<a&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const EM=(n,e)=>{if(e<65534&&n.subarray&&L3)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var TM=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let a=n[r++];if(a<128){s[i++]=a;continue}let u=fd[a];if(u>4){s[i++]=65533,r+=u-1;continue}for(a&=u===2?31:u===3?15:7;u>1&&r<t;)a=a<<6|n[r++]&63,u--;if(u>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return EM(s,i)},NM=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+fd[n[t]]>e?t:e},J1={string2buf:AM,buf2string:TM,utf8border:NM};function IM(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var PM=IM;const Np=16209,kM=16191;var CM=function(e,t){let r,i,s,a,u,c,f,d,y,_,w,T,I,P,F,Y,H,$,ae,ge,W,R,L,q;const C=e.state;r=e.next_in,L=e.input,i=r+(e.avail_in-5),s=e.next_out,q=e.output,a=s-(t-e.avail_out),u=s+(e.avail_out-257),c=C.dmax,f=C.wsize,d=C.whave,y=C.wnext,_=C.window,w=C.hold,T=C.bits,I=C.lencode,P=C.distcode,F=(1<<C.lenbits)-1,Y=(1<<C.distbits)-1;e:do{T<15&&(w+=L[r++]<<T,T+=8,w+=L[r++]<<T,T+=8),H=I[w&F];t:for(;;){if($=H>>>24,w>>>=$,T-=$,$=H>>>16&255,$===0)q[s++]=H&65535;else if($&16){ae=H&65535,$&=15,$&&(T<$&&(w+=L[r++]<<T,T+=8),ae+=w&(1<<$)-1,w>>>=$,T-=$),T<15&&(w+=L[r++]<<T,T+=8,w+=L[r++]<<T,T+=8),H=P[w&Y];n:for(;;){if($=H>>>24,w>>>=$,T-=$,$=H>>>16&255,$&16){if(ge=H&65535,$&=15,T<$&&(w+=L[r++]<<T,T+=8,T<$&&(w+=L[r++]<<T,T+=8)),ge+=w&(1<<$)-1,ge>c){e.msg="invalid distance too far back",C.mode=Np;break e}if(w>>>=$,T-=$,$=s-a,ge>$){if($=ge-$,$>d&&C.sane){e.msg="invalid distance too far back",C.mode=Np;break e}if(W=0,R=_,y===0){if(W+=f-$,$<ae){ae-=$;do q[s++]=_[W++];while(--$);W=s-ge,R=q}}else if(y<$){if(W+=f+y-$,$-=y,$<ae){ae-=$;do q[s++]=_[W++];while(--$);if(W=0,y<ae){$=y,ae-=$;do q[s++]=_[W++];while(--$);W=s-ge,R=q}}}else if(W+=y-$,$<ae){ae-=$;do q[s++]=_[W++];while(--$);W=s-ge,R=q}for(;ae>2;)q[s++]=R[W++],q[s++]=R[W++],q[s++]=R[W++],ae-=3;ae&&(q[s++]=R[W++],ae>1&&(q[s++]=R[W++]))}else{W=s-ge;do q[s++]=q[W++],q[s++]=q[W++],q[s++]=q[W++],ae-=3;while(ae>2);ae&&(q[s++]=q[W++],ae>1&&(q[s++]=q[W++]))}}else if(($&64)===0){H=P[(H&65535)+(w&(1<<$)-1)];continue n}else{e.msg="invalid distance code",C.mode=Np;break e}break}}else if(($&64)===0){H=I[(H&65535)+(w&(1<<$)-1)];continue t}else if($&32){C.mode=kM;break e}else{e.msg="invalid literal/length code",C.mode=Np;break e}break}}while(r<i&&s<u);ae=T>>3,r-=ae,T-=ae<<3,w&=(1<<T)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<u?257+(u-s):257-(s-u),C.hold=w,C.bits=T};const oh=15,B_=852,q_=592,z_=0,O0=1,H_=2,LM=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),RM=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),DM=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),OM=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),jM=(n,e,t,r,i,s,a,u)=>{const c=u.bits;let f=0,d=0,y=0,_=0,w=0,T=0,I=0,P=0,F=0,Y=0,H,$,ae,ge,W,R=null,L;const q=new Uint16Array(oh+1),C=new Uint16Array(oh+1);let j=null,M,se,Se;for(f=0;f<=oh;f++)q[f]=0;for(d=0;d<r;d++)q[e[t+d]]++;for(w=c,_=oh;_>=1&&q[_]===0;_--);if(w>_&&(w=_),_===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,u.bits=1,0;for(y=1;y<_&&q[y]===0;y++);for(w<y&&(w=y),P=1,f=1;f<=oh;f++)if(P<<=1,P-=q[f],P<0)return-1;if(P>0&&(n===z_||_!==1))return-1;for(C[1]=0,f=1;f<oh;f++)C[f+1]=C[f]+q[f];for(d=0;d<r;d++)e[t+d]!==0&&(a[C[e[t+d]]++]=d);if(n===z_?(R=j=a,L=20):n===O0?(R=LM,j=RM,L=257):(R=DM,j=OM,L=0),Y=0,d=0,f=y,W=s,T=w,I=0,ae=-1,F=1<<w,ge=F-1,n===O0&&F>B_||n===H_&&F>q_)return 1;for(;;){M=f-I,a[d]+1<L?(se=0,Se=a[d]):a[d]>=L?(se=j[a[d]-L],Se=R[a[d]-L]):(se=96,Se=0),H=1<<f-I,$=1<<T,y=$;do $-=H,i[W+(Y>>I)+$]=M<<24|se<<16|Se|0;while($!==0);for(H=1<<f-1;Y&H;)H>>=1;if(H!==0?(Y&=H-1,Y+=H):Y=0,d++,--q[f]===0){if(f===_)break;f=e[t+a[d]]}if(f>w&&(Y&ge)!==ae){for(I===0&&(I=w),W+=y,T=f-I,P=1<<T;T+I<_&&(P-=q[T+I],!(P<=0));)T++,P<<=1;if(F+=1<<T,n===O0&&F>B_||n===H_&&F>q_)return 1;ae=Y&ge,i[ae]=w<<24|T<<16|W-s|0}}return Y!==0&&(i[W+Y]=f-I<<24|64<<16|0),u.bits=w,0};var Kf=jM;const MM=0,R3=1,D3=2,{Z_FINISH:$_,Z_BLOCK:FM,Z_TREES:Ip,Z_OK:Cc,Z_STREAM_END:VM,Z_NEED_DICT:UM,Z_STREAM_ERROR:Ho,Z_DATA_ERROR:O3,Z_MEM_ERROR:j3,Z_BUF_ERROR:BM,Z_DEFLATED:W_}=k3,cg=16180,G_=16181,K_=16182,Y_=16183,Q_=16184,J_=16185,X_=16186,Z_=16187,ex=16188,tx=16189,km=16190,yl=16191,j0=16192,nx=16193,M0=16194,rx=16195,ix=16196,sx=16197,ox=16198,Pp=16199,kp=16200,ax=16201,lx=16202,ux=16203,cx=16204,hx=16205,F0=16206,fx=16207,dx=16208,Er=16209,M3=16210,F3=16211,qM=852,zM=592,HM=15,$M=HM,px=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function WM(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Mc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<cg||e.mode>F3?1:0},V3=n=>{if(Mc(n))return Ho;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=cg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(qM),e.distcode=e.distdyn=new Int32Array(zM),e.sane=1,e.back=-1,Cc},U3=n=>{if(Mc(n))return Ho;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,V3(n)},B3=(n,e)=>{let t;if(Mc(n))return Ho;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ho:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,U3(n))},q3=(n,e)=>{if(!n)return Ho;const t=new WM;n.state=t,t.strm=n,t.window=null,t.mode=cg;const r=B3(n,e);return r!==Cc&&(n.state=null),r},GM=n=>q3(n,$M);let mx=!0,V0,U0;const KM=n=>{if(mx){V0=new Int32Array(512),U0=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Kf(R3,n.lens,0,288,V0,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Kf(D3,n.lens,0,32,U0,0,n.work,{bits:5}),mx=!1}n.lencode=V0,n.lenbits=9,n.distcode=U0,n.distbits=5},z3=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},YM=(n,e)=>{let t,r,i,s,a,u,c,f,d,y,_,w,T,I,P=0,F,Y,H,$,ae,ge,W,R;const L=new Uint8Array(4);let q,C;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Mc(n)||!n.output||!n.input&&n.avail_in!==0)return Ho;t=n.state,t.mode===yl&&(t.mode=j0),a=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,u=n.avail_in,f=t.hold,d=t.bits,y=u,_=c,R=Cc;e:for(;;)switch(t.mode){case cg:if(t.wrap===0){t.mode=j0;break}for(;d<16;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,L[0]=f&255,L[1]=f>>>8&255,t.check=Fa(t.check,L,2,0),f=0,d=0,t.mode=G_;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=Er;break}if((f&15)!==W_){n.msg="unknown compression method",t.mode=Er;break}if(f>>>=4,d-=4,W=(f&15)+8,t.wbits===0&&(t.wbits=W),W>15||W>t.wbits){n.msg="invalid window size",t.mode=Er;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?tx:yl,f=0,d=0;break;case G_:for(;d<16;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(t.flags=f,(t.flags&255)!==W_){n.msg="unknown compression method",t.mode=Er;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Er;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(L[0]=f&255,L[1]=f>>>8&255,t.check=Fa(t.check,L,2,0)),f=0,d=0,t.mode=K_;case K_:for(;d<32;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(L[0]=f&255,L[1]=f>>>8&255,L[2]=f>>>16&255,L[3]=f>>>24&255,t.check=Fa(t.check,L,4,0)),f=0,d=0,t.mode=Y_;case Y_:for(;d<16;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(L[0]=f&255,L[1]=f>>>8&255,t.check=Fa(t.check,L,2,0)),f=0,d=0,t.mode=Q_;case Q_:if(t.flags&1024){for(;d<16;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(L[0]=f&255,L[1]=f>>>8&255,t.check=Fa(t.check,L,2,0)),f=0,d=0}else t.head&&(t.head.extra=null);t.mode=J_;case J_:if(t.flags&1024&&(w=t.length,w>u&&(w=u),w&&(t.head&&(W=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+w),W)),t.flags&512&&t.wrap&4&&(t.check=Fa(t.check,r,w,s)),u-=w,s+=w,t.length-=w),t.length))break e;t.length=0,t.mode=X_;case X_:if(t.flags&2048){if(u===0)break e;w=0;do W=r[s+w++],t.head&&W&&t.length<65536&&(t.head.name+=String.fromCharCode(W));while(W&&w<u);if(t.flags&512&&t.wrap&4&&(t.check=Fa(t.check,r,w,s)),u-=w,s+=w,W)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Z_;case Z_:if(t.flags&4096){if(u===0)break e;w=0;do W=r[s+w++],t.head&&W&&t.length<65536&&(t.head.comment+=String.fromCharCode(W));while(W&&w<u);if(t.flags&512&&t.wrap&4&&(t.check=Fa(t.check,r,w,s)),u-=w,s+=w,W)break e}else t.head&&(t.head.comment=null);t.mode=ex;case ex:if(t.flags&512){for(;d<16;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Er;break}f=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=yl;break;case tx:for(;d<32;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}n.adler=t.check=px(f),f=0,d=0,t.mode=km;case km:if(t.havedict===0)return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=u,t.hold=f,t.bits=d,UM;n.adler=t.check=1,t.mode=yl;case yl:if(e===FM||e===Ip)break e;case j0:if(t.last){f>>>=d&7,d-=d&7,t.mode=F0;break}for(;d<3;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}switch(t.last=f&1,f>>>=1,d-=1,f&3){case 0:t.mode=nx;break;case 1:if(KM(t),t.mode=Pp,e===Ip){f>>>=2,d-=2;break e}break;case 2:t.mode=ix;break;case 3:n.msg="invalid block type",t.mode=Er}f>>>=2,d-=2;break;case nx:for(f>>>=d&7,d-=d&7;d<32;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Er;break}if(t.length=f&65535,f=0,d=0,t.mode=M0,e===Ip)break e;case M0:t.mode=rx;case rx:if(w=t.length,w){if(w>u&&(w=u),w>c&&(w=c),w===0)break e;i.set(r.subarray(s,s+w),a),u-=w,s+=w,c-=w,a+=w,t.length-=w;break}t.mode=yl;break;case ix:for(;d<14;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(t.nlen=(f&31)+257,f>>>=5,d-=5,t.ndist=(f&31)+1,f>>>=5,d-=5,t.ncode=(f&15)+4,f>>>=4,d-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Er;break}t.have=0,t.mode=sx;case sx:for(;t.have<t.ncode;){for(;d<3;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}t.lens[j[t.have++]]=f&7,f>>>=3,d-=3}for(;t.have<19;)t.lens[j[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,q={bits:t.lenbits},R=Kf(MM,t.lens,0,19,t.lencode,0,t.work,q),t.lenbits=q.bits,R){n.msg="invalid code lengths set",t.mode=Er;break}t.have=0,t.mode=ox;case ox:for(;t.have<t.nlen+t.ndist;){for(;P=t.lencode[f&(1<<t.lenbits)-1],F=P>>>24,Y=P>>>16&255,H=P&65535,!(F<=d);){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(H<16)f>>>=F,d-=F,t.lens[t.have++]=H;else{if(H===16){for(C=F+2;d<C;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(f>>>=F,d-=F,t.have===0){n.msg="invalid bit length repeat",t.mode=Er;break}W=t.lens[t.have-1],w=3+(f&3),f>>>=2,d-=2}else if(H===17){for(C=F+3;d<C;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}f>>>=F,d-=F,W=0,w=3+(f&7),f>>>=3,d-=3}else{for(C=F+7;d<C;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}f>>>=F,d-=F,W=0,w=11+(f&127),f>>>=7,d-=7}if(t.have+w>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Er;break}for(;w--;)t.lens[t.have++]=W}}if(t.mode===Er)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Er;break}if(t.lenbits=9,q={bits:t.lenbits},R=Kf(R3,t.lens,0,t.nlen,t.lencode,0,t.work,q),t.lenbits=q.bits,R){n.msg="invalid literal/lengths set",t.mode=Er;break}if(t.distbits=6,t.distcode=t.distdyn,q={bits:t.distbits},R=Kf(D3,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,q),t.distbits=q.bits,R){n.msg="invalid distances set",t.mode=Er;break}if(t.mode=Pp,e===Ip)break e;case Pp:t.mode=kp;case kp:if(u>=6&&c>=258){n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=u,t.hold=f,t.bits=d,CM(n,_),a=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,u=n.avail_in,f=t.hold,d=t.bits,t.mode===yl&&(t.back=-1);break}for(t.back=0;P=t.lencode[f&(1<<t.lenbits)-1],F=P>>>24,Y=P>>>16&255,H=P&65535,!(F<=d);){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(Y&&(Y&240)===0){for($=F,ae=Y,ge=H;P=t.lencode[ge+((f&(1<<$+ae)-1)>>$)],F=P>>>24,Y=P>>>16&255,H=P&65535,!($+F<=d);){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}f>>>=$,d-=$,t.back+=$}if(f>>>=F,d-=F,t.back+=F,t.length=H,Y===0){t.mode=hx;break}if(Y&32){t.back=-1,t.mode=yl;break}if(Y&64){n.msg="invalid literal/length code",t.mode=Er;break}t.extra=Y&15,t.mode=ax;case ax:if(t.extra){for(C=t.extra;d<C;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=lx;case lx:for(;P=t.distcode[f&(1<<t.distbits)-1],F=P>>>24,Y=P>>>16&255,H=P&65535,!(F<=d);){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if((Y&240)===0){for($=F,ae=Y,ge=H;P=t.distcode[ge+((f&(1<<$+ae)-1)>>$)],F=P>>>24,Y=P>>>16&255,H=P&65535,!($+F<=d);){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}f>>>=$,d-=$,t.back+=$}if(f>>>=F,d-=F,t.back+=F,Y&64){n.msg="invalid distance code",t.mode=Er;break}t.offset=H,t.extra=Y&15,t.mode=ux;case ux:if(t.extra){for(C=t.extra;d<C;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Er;break}t.mode=cx;case cx:if(c===0)break e;if(w=_-c,t.offset>w){if(w=t.offset-w,w>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Er;break}w>t.wnext?(w-=t.wnext,T=t.wsize-w):T=t.wnext-w,w>t.length&&(w=t.length),I=t.window}else I=i,T=a-t.offset,w=t.length;w>c&&(w=c),c-=w,t.length-=w;do i[a++]=I[T++];while(--w);t.length===0&&(t.mode=kp);break;case hx:if(c===0)break e;i[a++]=t.length,c--,t.mode=kp;break;case F0:if(t.wrap){for(;d<32;){if(u===0)break e;u--,f|=r[s++]<<d,d+=8}if(_-=c,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?Fa(t.check,i,_,a-_):Y1(t.check,i,_,a-_)),_=c,t.wrap&4&&(t.flags?f:px(f))!==t.check){n.msg="incorrect data check",t.mode=Er;break}f=0,d=0}t.mode=fx;case fx:if(t.wrap&&t.flags){for(;d<32;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Er;break}f=0,d=0}t.mode=dx;case dx:R=VM;break e;case Er:R=O3;break e;case M3:return j3;case F3:default:return Ho}return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=u,t.hold=f,t.bits=d,(t.wsize||_!==n.avail_out&&t.mode<Er&&(t.mode<F0||e!==$_))&&z3(n,n.output,n.next_out,_-n.avail_out),y-=n.avail_in,_-=n.avail_out,n.total_in+=y,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?Fa(t.check,i,_,n.next_out-_):Y1(t.check,i,_,n.next_out-_)),n.data_type=t.bits+(t.last?64:0)+(t.mode===yl?128:0)+(t.mode===Pp||t.mode===M0?256:0),(y===0&&_===0||e===$_)&&R===Cc&&(R=BM),R},QM=n=>{if(Mc(n))return Ho;let e=n.state;return e.window&&(e.window=null),n.state=null,Cc},JM=(n,e)=>{if(Mc(n))return Ho;const t=n.state;return(t.wrap&2)===0?Ho:(t.head=e,e.done=!1,Cc)},XM=(n,e)=>{const t=e.length;let r,i,s;return Mc(n)||(r=n.state,r.wrap!==0&&r.mode!==km)?Ho:r.mode===km&&(i=1,i=Y1(i,e,t,0),i!==r.check)?O3:(s=z3(n,e,t,t),s?(r.mode=M3,j3):(r.havedict=1,Cc))};var ZM=U3,e9=B3,t9=V3,n9=GM,r9=q3,i9=YM,s9=QM,o9=JM,a9=XM,l9="pako inflate (from Nodeca project)",vl={inflateReset:ZM,inflateReset2:e9,inflateResetKeep:t9,inflateInit:n9,inflateInit2:r9,inflate:i9,inflateEnd:s9,inflateGetHeader:o9,inflateSetDictionary:a9,inflateInfo:l9};function u9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var c9=u9;const H3=Object.prototype.toString,{Z_NO_FLUSH:h9,Z_FINISH:f9,Z_OK:dd,Z_STREAM_END:B0,Z_NEED_DICT:q0,Z_STREAM_ERROR:d9,Z_DATA_ERROR:gx,Z_MEM_ERROR:p9}=k3;function Ld(n){this.options=C3.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new PM,this.strm.avail_out=0;let t=vl.inflateInit2(this.strm,e.windowBits);if(t!==dd)throw new Error(Q1[t]);if(this.header=new c9,vl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=J1.string2buf(e.dictionary):H3.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=vl.inflateSetDictionary(this.strm,e.dictionary),t!==dd)))throw new Error(Q1[t])}Ld.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,u;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?f9:h9,H3.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=vl.inflate(t,a),s===q0&&i&&(s=vl.inflateSetDictionary(t,i),s===dd?s=vl.inflate(t,a):s===gx&&(s=q0));t.avail_in>0&&s===B0&&t.state.wrap>0&&n[t.next_in]!==0;)vl.inflateReset(t),s=vl.inflate(t,a);switch(s){case d9:case gx:case q0:case p9:return this.onEnd(s),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||s===B0))if(this.options.to==="string"){let c=J1.utf8border(t.output,t.next_out),f=t.next_out-c,d=J1.buf2string(t.output,c);t.next_out=f,t.avail_out=r-f,f&&t.output.set(t.output.subarray(c,c+f),0),this.onData(d)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===dd&&u===0)){if(s===B0)return s=vl.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Ld.prototype.onData=function(n){this.chunks.push(n)};Ld.prototype.onEnd=function(n){n===dd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=C3.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function m9(n,e){const t=new Ld(e);if(t.push(n),t.err)throw t.msg||Q1[t.err];return t.result}var g9=Ld,y9=m9,v9={Inflate:g9,inflate:y9};const{Inflate:w9,inflate:_9}=v9;var yx=w9,x9=_9;const $3=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;$3[n]=e}const vx=4294967295;function b9(n,e,t){let r=n;for(let i=0;i<t;i++)r=$3[(r^e[i])&255]^r>>>8;return r}function S9(n,e){return(b9(vx,n,e)^vx)>>>0}function wx(n,e,t){const r=n.readUint32(),i=S9(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function W3(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function G3(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function K3(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function Y3(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function Q3(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+A9(e[s-i],t[s],t[s-i])&255}}function A9(n,e,t){const r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),a=Math.abs(r-t);return i<=s&&i<=a?n:s<=a?e:t}function E9(n,e,t,r,i,s){switch(n){case 0:W3(e,t,i);break;case 1:G3(e,t,i,s);break;case 2:K3(e,t,r,i);break;case 3:Y3(e,t,r,i,s);break;case 4:Q3(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const T9=new Uint16Array([255]),N9=new Uint8Array(T9.buffer),I9=N9[0]===255;function P9(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(s/8)*i,c=new Uint8Array(r*t*u);let f=0;for(let d=0;d<7;d++){const y=a[d],_=Math.ceil((t-y.x)/y.xStep),w=Math.ceil((r-y.y)/y.yStep);if(_<=0||w<=0)continue;const T=_*u,I=new Uint8Array(T);for(let P=0;P<w;P++){const F=e[f++],Y=e.subarray(f,f+T);f+=T;const H=new Uint8Array(T);E9(F,Y,H,I,T,u),I.set(H);for(let $=0;$<_;$++){const ae=y.x+$*y.xStep,ge=y.y+P*y.yStep;if(!(ae>=t||ge>=r))for(let W=0;W<u;W++)c[(ge*t+ae)*u+W]=H[$*u+W]}}}if(s===16){const d=new Uint16Array(c.buffer);if(I9)for(let y=0;y<d.length;y++)d[y]=k9(d[y]);return d}else return c}function k9(n){return(n&255)<<8|n>>8&255}const C9=new Uint16Array([255]),L9=new Uint8Array(C9.buffer),R9=L9[0]===255,D9=new Uint8Array(0);function _x(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,a=Math.ceil(s/8)*i,u=Math.ceil(s/8*i*t),c=new Uint8Array(r*u);let f=D9,d=0,y,_;for(let w=0;w<r;w++){switch(y=e.subarray(d+1,d+1+u),_=c.subarray(w*u,(w+1)*u),e[d]){case 0:W3(y,_,u);break;case 1:G3(y,_,u,a);break;case 2:K3(y,_,f,u);break;case 3:Y3(y,_,f,u,a);break;case 4:Q3(y,_,f,u,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}f=_,d+=u+1}if(s===16){const w=new Uint16Array(c.buffer);if(R9)for(let T=0;T<w.length;T++)w[T]=O9(w[T]);return w}else return c}function O9(n){return(n&255)<<8|n>>8&255}const Yp=Uint8Array.of(137,80,78,71,13,10,26,10);function xx(n){if(!j9(n.readBytes(Yp.length)))throw new Error("wrong PNG signature")}function j9(n){if(n.length<Yp.length)return!1;for(let e=0;e<Yp.length;e++)if(n[e]!==Yp[e])return!1;return!0}const M9="tEXt",F9=0,J3=new TextDecoder("latin1");function V9(n){if(B9(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const U9=/^[\u0000-\u00FF]*$/;function B9(n){if(!U9.test(n))throw new Error("invalid latin1 text")}function q9(n,e,t){const r=X3(e);n[r]=z9(e,t-r.length-1)}function X3(n){for(n.mark();n.readByte()!==F9;);const e=n.offset;n.reset();const t=J3.decode(n.readBytes(e-n.offset-1));return n.skip(1),V9(t),t}function z9(n,e){return J3.decode(n.readBytes(e))}const go={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},z0={UNKNOWN:-1,DEFLATE:0},bx={UNKNOWN:-1,ADAPTIVE:0},H0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Cp={NONE:0,BACKGROUND:1,PREVIOUS:2},$0={SOURCE:0,OVER:1};class H9 extends M2{constructor(t,r={}){super(t);Gn(this,"_checkCrc");Gn(this,"_inflator");Gn(this,"_png");Gn(this,"_apng");Gn(this,"_end");Gn(this,"_hasPalette");Gn(this,"_palette");Gn(this,"_hasTransparency");Gn(this,"_transparency");Gn(this,"_compressionMethod");Gn(this,"_filterMethod");Gn(this,"_interlaceMethod");Gn(this,"_colorType");Gn(this,"_isAnimated");Gn(this,"_numberOfFrames");Gn(this,"_numberOfPlays");Gn(this,"_frames");Gn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new yx,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=z0.UNKNOWN,this._filterMethod=bx.UNKNOWN,this._interlaceMethod=H0.UNKNOWN,this._colorType=go.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(xx(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(xx(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case M9:q9(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?wx(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?wx(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=$9(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case go.GREYSCALE:i=1;break;case go.TRUECOLOUR:i=3;break;case go.INDEXED_COLOUR:i=1;break;case go.GREYSCALE_ALPHA:i=2;break;case go.TRUECOLOUR_ALPHA:i=4;break;case go.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==z0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case go.GREYSCALE:case go.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case go.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case go.UNKNOWN:case go.GREYSCALE_ALPHA:case go.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=X3(this),i=this.readUint8();if(i!==z0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:x9(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=_x({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,i){switch(t.disposeOp){case Cp.NONE:break;case Cp.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const u=(s*t.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[u+c]=0}break;case Cp.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const i=1<<this._png.depth,s=(a,u)=>{const c=((a+r.yOffset)*this._png.width+r.xOffset+u)*this._png.channels,f=(a*r.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(r.blendOp){case $0.SOURCE:for(let a=0;a<r.height;a++)for(let u=0;u<r.width;u++){const{index:c,frameIndex:f}=s(a,u);for(let d=0;d<this._png.channels;d++)t.data[c+d]=r.data[f+d]}break;case $0.OVER:for(let a=0;a<r.height;a++)for(let u=0;u<r.width;u++){const{index:c,frameIndex:f}=s(a,u);for(let d=0;d<this._png.channels;d++){const y=r.data[f+this._png.channels-1]/i,_=d%(this._png.channels-1)===0?1:r.data[f+d],w=Math.floor(y*_+(1-y)*t.data[c+d]);t.data[c+d]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==bx.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===H0.NO_INTERLACE)this._png.data=_x({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===H0.ADAM7)this._png.data=P9({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Cp.NONE,blendOp:$0.SOURCE,data:t}),this._inflator=new yx,this._writingDataChunks=!1}}function $9(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Sx;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Sx||(Sx={}));function W9(n,e){return new H9(n,e).decode()}var Gt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function W0(){Gt.console&&typeof Gt.console.log=="function"&&Gt.console.log.apply(Gt.console,arguments)}var tr={log:W0,warn:function(n){Gt.console&&(typeof Gt.console.warn=="function"?Gt.console.warn.apply(Gt.console,arguments):W0.call(null,arguments))},error:function(n){Gt.console&&(typeof Gt.console.error=="function"?Gt.console.error.apply(Gt.console,arguments):W0(n))}};function G0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){dc(r.response,e,t)},r.onerror=function(){tr.error("could not download file")},r.send()}function Ax(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Lp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var dc=Gt.saveAs||((typeof window>"u"?"undefined":Kn(window))!=="object"||window!==Gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Gt.URL||Gt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?Ax(i.href)?G0(n,e,t):Lp(i,i.target="_blank"):Lp(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Lp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Ax(n))G0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Lp(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Kn(s)!=="object"&&(tr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return G0(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Gt.HTMLElement)||Gt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Kn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var d=u.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},u.readAsDataURL(n)}else{var c=Gt.URL||Gt.webkitURL,f=c.createObjectURL(n);r?r.location=f:location.href=f,r=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Z3(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,a=i.exec(n);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+u+c+f}}var Qp=Gt.atob.bind(Gt),Ex=Gt.btoa.bind(Gt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function K0(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=ms(t,r,i,s,e[0],7,-680876936),s=ms(s,t,r,i,e[1],12,-389564586),i=ms(i,s,t,r,e[2],17,606105819),r=ms(r,i,s,t,e[3],22,-1044525330),t=ms(t,r,i,s,e[4],7,-176418897),s=ms(s,t,r,i,e[5],12,1200080426),i=ms(i,s,t,r,e[6],17,-1473231341),r=ms(r,i,s,t,e[7],22,-45705983),t=ms(t,r,i,s,e[8],7,1770035416),s=ms(s,t,r,i,e[9],12,-1958414417),i=ms(i,s,t,r,e[10],17,-42063),r=ms(r,i,s,t,e[11],22,-1990404162),t=ms(t,r,i,s,e[12],7,1804603682),s=ms(s,t,r,i,e[13],12,-40341101),i=ms(i,s,t,r,e[14],17,-1502002290),t=gs(t,r=ms(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=gs(s,t,r,i,e[6],9,-1069501632),i=gs(i,s,t,r,e[11],14,643717713),r=gs(r,i,s,t,e[0],20,-373897302),t=gs(t,r,i,s,e[5],5,-701558691),s=gs(s,t,r,i,e[10],9,38016083),i=gs(i,s,t,r,e[15],14,-660478335),r=gs(r,i,s,t,e[4],20,-405537848),t=gs(t,r,i,s,e[9],5,568446438),s=gs(s,t,r,i,e[14],9,-1019803690),i=gs(i,s,t,r,e[3],14,-187363961),r=gs(r,i,s,t,e[8],20,1163531501),t=gs(t,r,i,s,e[13],5,-1444681467),s=gs(s,t,r,i,e[2],9,-51403784),i=gs(i,s,t,r,e[7],14,1735328473),t=ys(t,r=gs(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ys(s,t,r,i,e[8],11,-2022574463),i=ys(i,s,t,r,e[11],16,1839030562),r=ys(r,i,s,t,e[14],23,-35309556),t=ys(t,r,i,s,e[1],4,-1530992060),s=ys(s,t,r,i,e[4],11,1272893353),i=ys(i,s,t,r,e[7],16,-155497632),r=ys(r,i,s,t,e[10],23,-1094730640),t=ys(t,r,i,s,e[13],4,681279174),s=ys(s,t,r,i,e[0],11,-358537222),i=ys(i,s,t,r,e[3],16,-722521979),r=ys(r,i,s,t,e[6],23,76029189),t=ys(t,r,i,s,e[9],4,-640364487),s=ys(s,t,r,i,e[12],11,-421815835),i=ys(i,s,t,r,e[15],16,530742520),t=vs(t,r=ys(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=vs(s,t,r,i,e[7],10,1126891415),i=vs(i,s,t,r,e[14],15,-1416354905),r=vs(r,i,s,t,e[5],21,-57434055),t=vs(t,r,i,s,e[12],6,1700485571),s=vs(s,t,r,i,e[3],10,-1894986606),i=vs(i,s,t,r,e[10],15,-1051523),r=vs(r,i,s,t,e[1],21,-2054922799),t=vs(t,r,i,s,e[8],6,1873313359),s=vs(s,t,r,i,e[15],10,-30611744),i=vs(i,s,t,r,e[6],15,-1560198380),r=vs(r,i,s,t,e[13],21,1309151649),t=vs(t,r,i,s,e[4],6,-145523070),s=vs(s,t,r,i,e[11],10,-1120210379),i=vs(i,s,t,r,e[2],15,718787259),r=vs(r,i,s,t,e[9],21,-343485551),n[0]=wu(t,n[0]),n[1]=wu(r,n[1]),n[2]=wu(i,n[2]),n[3]=wu(s,n[3])}function hg(n,e,t,r,i,s){return e=wu(wu(e,n),wu(r,s)),wu(e<<i|e>>>32-i,t)}function ms(n,e,t,r,i,s,a){return hg(e&t|~e&r,n,e,i,s,a)}function gs(n,e,t,r,i,s,a){return hg(e&r|t&~r,n,e,i,s,a)}function ys(n,e,t,r,i,s,a){return hg(e^t^r,n,e,i,s,a)}function vs(n,e,t,r,i,s,a){return hg(t^(e|~r),n,e,i,s,a)}function eE(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)K0(r,G9(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(K0(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,K0(r,i),r}function G9(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Tx="0123456789abcdef".split("");function K9(n){for(var e="",t=0;t<4;t++)e+=Tx[n>>8*t+4&15]+Tx[n>>8*t&15];return e}function Y9(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function X1(n){return eE(n).map(Y9).join("")}var Q9=(function(n){for(var e=0;e<n.length;e++)n[e]=K9(n[e]);return n.join("")})(eE("hello"))!="5d41402abc4b2a76b9719d911017c592";function wu(n,e){if(Q9){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Z1(n,e){var t,r,i,s;if(n!==t){for(var a=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),u=[],c=0;c<256;c++)u[c]=c;var f=0;for(c=0;c<256;c++){var d=u[c];f=(f+d+a.charCodeAt(c))%256,u[c]=u[f],u[f]=d}t=n,r=u}else u=r;var y=e.length,_=0,w=0,T="";for(c=0;c<y;c++)w=(w+(d=u[_=(_+1)%256]))%256,u[_]=u[w],u[w]=d,a=u[(u[_]+u[w])%256],T+=String.fromCharCode(e.charCodeAt(c)^a);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Nx={print:4,modify:8,copy:16,"annot-forms":32};function fh(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(u){if(Nx.perm!==void 0)throw new Error("Invalid permission: "+u);i+=Nx[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=X1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Z1(this.encryptionKey,this.padding)}function dh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function Ix(n){if(Kn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(n,r)}catch(u){Gt.console&&tr.error("jsPDF PubSub Error",u.message,u)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Cm(n){if(!(this instanceof Cm))return new Cm(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function tE(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function pc(n,e,t,r,i){if(!(this instanceof pc))return new pc(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,tE.call(this,r,i)}function vh(n,e,t,r,i){if(!(this instanceof vh))return new vh(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,tE.call(this,r,i)}function At(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],u=1,c=16,f="S",d=null;Kn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),f=n.defaultPathOperation||"S"),a=n.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,_={},w={internal:{},__private__:{}};w.__private__.PubSub=Ix;var T="1.3",I=w.__private__.getPdfVersion=function(){return T};w.__private__.setPdfVersion=function(x){T=x};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return P};var F=w.__private__.getPageFormat=function(x){return P[x]};i=i||"a4";var Y="compat",H="advanced",$=Y;function ae(){this.saveGraphicsState(),oe(new It(Tt,0,0,-Tt,0,_i()*Tt).toString()+" cm"),this.setFontSize(this.getFontSize()/Tt),f="n",$=H}function ge(){this.restoreGraphicsState(),f="S",$=Y}var W=w.__private__.combineFontStyleAndFontWeight=function(x,V){if(x=="bold"&&V=="normal"||x=="bold"&&V==400||x=="normal"&&V=="italic"||x=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(x=V==400||V==="normal"?x==="italic"?"italic":"normal":V!=700&&V!=="bold"||x!=="normal"?(V==700?"bold":V)+""+x:"bold"),x};w.advancedAPI=function(x){var V=$===Y;return V&&ae.call(this),typeof x!="function"||(x(this),V&&ge.call(this)),this},w.compatAPI=function(x){var V=$===H;return V&&ge.call(this),typeof x!="function"||(x(this),V&&ae.call(this)),this},w.isAdvancedAPI=function(){return $===H};var R,L=function(x){if($!==H)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=w.roundToPrecision=w.__private__.roundToPrecision=function(x,V){var ie=e||V;if(isNaN(x)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ie).replace(/0+$/,"")};R=w.hpf=w.__private__.hpf=typeof c=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return q(x,c)}:c==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return q(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return q(x,16)};var C=w.f2=w.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return q(x,2)},j=w.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return q(x,3)},M=w.scale=w.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return $===Y?x*Tt:$===H?x:void 0},se=function(x){return M((function(V){return $===Y?_i()-V:$===H?V:void 0})(x))};w.__private__.setPrecision=w.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var Se,xe="00000000000000000000000000000000",Ee=w.__private__.getFileId=function(){return xe},ee=w.__private__.setFileId=function(x){return xe=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():xe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Rn=new fh(d.userPermissions,d.userPassword,d.ownerPassword,xe)),xe};w.setFileId=function(x){return ee(x),this},w.getFileId=function(){return Ee()};var he=w.__private__.convertDateToPDFDate=function(x){var V=x.getTimezoneOffset(),ie=V<0?"+":"-",ce=Math.floor(Math.abs(V/60)),we=Math.abs(V%60),Be=[ie,ne(ce),"'",ne(we),"'"].join("");return["D:",x.getFullYear(),ne(x.getMonth()+1),ne(x.getDate()),ne(x.getHours()),ne(x.getMinutes()),ne(x.getSeconds()),Be].join("")},_e=w.__private__.convertPDFDateToDate=function(x){var V=parseInt(x.substr(2,4),10),ie=parseInt(x.substr(6,2),10)-1,ce=parseInt(x.substr(8,2),10),we=parseInt(x.substr(10,2),10),Be=parseInt(x.substr(12,2),10),$e=parseInt(x.substr(14,2),10);return new Date(V,ie,ce,we,Be,$e,0)},Q=w.__private__.setCreationDate=function(x){var V;if(x===void 0&&(x=new Date),x instanceof Date)V=he(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=x}return Se=V},D=w.__private__.getCreationDate=function(x){var V=Se;return x==="jsDate"&&(V=_e(Se)),V};w.setCreationDate=function(x){return Q(x),this},w.getCreationDate=function(x){return D(x)};var X,ne=w.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},ue=w.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},fe=0,ve=[],Ne=[],Te=0,je=[],He=[],nt=!1,rt=Ne;w.__private__.setCustomOutputDestination=function(x){nt=!0,rt=x};var Fe=function(x){nt||(rt=x)};w.__private__.resetCustomOutputDestination=function(){nt=!1,rt=Ne};var oe=w.__private__.out=function(x){return x=x.toString(),Te+=x.length+1,rt.push(x),rt},tn=w.__private__.write=function(x){return oe(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},qt=w.__private__.getArrayBuffer=function(x){for(var V=x.length,ie=new ArrayBuffer(V),ce=new Uint8Array(ie);V--;)ce[V]=x.charCodeAt(V);return ie},Et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Et};var Ye=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(x){return Ye=$===H?x/Tt:x,this};var ut,et=w.__private__.getFontSize=w.getFontSize=function(){return $===Y?Ye:Ye*Tt},zt=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(x){return zt=x,this},w.__private__.getR2L=w.getR2L=function(){return zt};var _t,un=w.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))ut=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');ut=x}else ut=parseInt(x,10)};w.__private__.getZoomMode=function(){return ut};var Ft,gt=w.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');_t=x};w.__private__.getPageMode=function(){return _t};var Ht=w.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Ft=x};w.__private__.getLayoutMode=function(){return Ft},w.__private__.setDisplayMode=w.setDisplayMode=function(x,V,ie){return un(x),Ht(V),gt(ie),this};var Lt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(x){if(Object.keys(Lt).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Lt[x]},w.__private__.getDocumentProperties=function(){return Lt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(x){for(var V in Lt)Lt.hasOwnProperty(V)&&x[V]&&(Lt[V]=x[V]);return this},w.__private__.setDocumentProperty=function(x,V){if(Object.keys(Lt).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Lt[x]=V};var xt,Tt,yt,_n,pn,ft={},Vt={},bn=[],Nt={},en={},Mt={},Qn={},In=null,cn=0,Rt=[],rn=new Ix(w),Zs=n.hotfixes||[],pr={},Es={},ti=[],It=function x(V,ie,ce,we,Be,$e){if(!(this instanceof x))return new x(V,ie,ce,we,Be,$e);isNaN(V)&&(V=1),isNaN(ie)&&(ie=0),isNaN(ce)&&(ce=0),isNaN(we)&&(we=1),isNaN(Be)&&(Be=0),isNaN($e)&&($e=0),this._matrix=[V,ie,ce,we,Be,$e]};Object.defineProperty(It.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(It.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(It.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(It.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(It.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(It.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(It.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(It.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(It.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(It.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(It.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(It.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(It.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(It.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(It.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(It.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),It.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(x)},It.prototype.multiply=function(x){var V=x.sx*this.sx+x.shy*this.shx,ie=x.sx*this.shy+x.shy*this.sy,ce=x.shx*this.sx+x.sy*this.shx,we=x.shx*this.shy+x.sy*this.sy,Be=x.tx*this.sx+x.ty*this.shx+this.tx,$e=x.tx*this.shy+x.ty*this.sy+this.ty;return new It(V,ie,ce,we,Be,$e)},It.prototype.decompose=function(){var x=this.sx,V=this.shy,ie=this.shx,ce=this.sy,we=this.tx,Be=this.ty,$e=Math.sqrt(x*x+V*V),st=(x/=$e)*ie+(V/=$e)*ce;ie-=x*st,ce-=V*st;var dt=Math.sqrt(ie*ie+ce*ce);return st/=dt,x*(ce/=dt)<V*(ie/=dt)&&(x=-x,V=-V,st=-st,$e=-$e),{scale:new It($e,0,0,dt,0,0),translate:new It(1,0,0,1,we,Be),rotate:new It(x,V,-V,x,0,0),skew:new It(1,0,st,1,0,0)}},It.prototype.toString=function(x){return this.join(" ")},It.prototype.inversed=function(){var x=this.sx,V=this.shy,ie=this.shx,ce=this.sy,we=this.tx,Be=this.ty,$e=1/(x*ce-V*ie),st=ce*$e,dt=-V*$e,Ct=-ie*$e,jt=x*$e;return new It(st,dt,Ct,jt,-st*we-Ct*Be,-dt*we-jt*Be)},It.prototype.applyToPoint=function(x){var V=x.x*this.sx+x.y*this.shx+this.tx,ie=x.x*this.shy+x.y*this.sy+this.ty;return new Ns(V,ie)},It.prototype.applyToRectangle=function(x){var V=this.applyToPoint(x),ie=this.applyToPoint(new Ns(x.x+x.w,x.y+x.h));return new Po(V.x,V.y,ie.x-V.x,ie.y-V.y)},It.prototype.clone=function(){var x=this.sx,V=this.shy,ie=this.shx,ce=this.sy,we=this.tx,Be=this.ty;return new It(x,V,ie,ce,we,Be)},w.Matrix=It;var Ln=w.matrixMult=function(x,V){return V.multiply(x)},Zi=new It(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Zi;var mr=function(x,V){if(!en[x]){var ie=(V instanceof pc?"Sh":"P")+(Object.keys(Nt).length+1).toString(10);V.id=ie,en[x]=ie,Nt[ie]=V,rn.publish("addPattern",V)}};w.ShadingPattern=pc,w.TilingPattern=vh,w.addShadingPattern=function(x,V){return L("addShadingPattern()"),mr(x,V),this},w.beginTilingPattern=function(x){L("beginTilingPattern()"),vi(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},w.endTilingPattern=function(x,V){L("endTilingPattern()"),V.stream=He[X].join(`
`),mr(x,V),rn.publish("endTilingPattern",V),ti.pop().restore()};var ni,jn=w.__private__.newObject=function(){var x=or();return qn(x,!0),x},or=w.__private__.newObjectDeferred=function(){return fe++,ve[fe]=function(){return Te},fe},qn=function(x,V){return V=typeof V=="boolean"&&V,ve[x]=Te,V&&oe(x+" 0 obj"),x},eo=w.__private__.newAdditionalObject=function(){var x={objId:or(),content:""};return je.push(x),x},xo=or(),Ii=or(),Ts=w.__private__.decodeColorString=function(x){var V=x.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ie=parseFloat(V[0]);V=[ie,ie,ie,"r"]}for(var ce="#",we=0;we<3;we++)ce+=("0"+Math.floor(255*parseFloat(V[we])).toString(16)).slice(-2);return ce},Tr=w.__private__.encodeColorString=function(x){var V;typeof x=="string"&&(x={ch1:x});var ie=x.ch1,ce=x.ch2,we=x.ch3,Be=x.ch4,$e=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var st=new Z3(ie);if(st.ok)ie=st.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var dt=parseInt(ie.substr(1),16);ie=dt>>16&255,ce=dt>>8&255,we=255&dt}if(ce===void 0||Be===void 0&&ie===ce&&ce===we)V=typeof ie=="string"?ie+" "+$e[0]:x.precision===2?C(ie/255)+" "+$e[0]:j(ie/255)+" "+$e[0];else if(Be===void 0||Kn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",$e[1]].join(" ");V=typeof ie=="string"?[ie,ce,we,$e[1]].join(" "):x.precision===2?[C(ie/255),C(ce/255),C(we/255),$e[1]].join(" "):[j(ie/255),j(ce/255),j(we/255),$e[1]].join(" ")}else V=typeof ie=="string"?[ie,ce,we,Be,$e[2]].join(" "):x.precision===2?[C(ie),C(ce),C(we),C(Be),$e[2]].join(" "):[j(ie),j(ce),j(we),j(Be),$e[2]].join(" ");return V},fi=w.__private__.getFilters=function(){return a},gr=w.__private__.putStream=function(x){var V=(x=x||{}).data||"",ie=x.filters||fi(),ce=x.alreadyAppliedFilters||[],we=x.addLength1||!1,Be=V.length,$e=x.objectId,st=function(vr){return vr};if(d!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(st=Rn.encryptor($e,0));var dt={};ie===!0&&(ie=["FlateEncode"]);var Ct=x.additionalKeyValues||[],jt=(dt=At.API.processDataByFilters!==void 0?At.API.processDataByFilters(V,ie):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(dt.data.length!==0&&(Ct.push({key:"Length",value:dt.data.length}),we===!0&&Ct.push({key:"Length1",value:Be})),jt.length!=0)if(jt.split("/").length-1==1)Ct.push({key:"Filter",value:jt});else{Ct.push({key:"Filter",value:"["+jt+"]"});for(var yn=0;yn<Ct.length;yn+=1)if(Ct[yn].key==="DecodeParms"){for(var Sn=[],lr=0;lr<dt.reverseChain.split("/").length-1;lr+=1)Sn.push("null");Sn.push(Ct[yn].value),Ct[yn].value="["+Sn.join(" ")+"]"}}oe("<<");for(var Dn=0;Dn<Ct.length;Dn++)oe("/"+Ct[Dn].key+" "+Ct[Dn].value);oe(">>"),dt.data.length!==0&&(oe("stream"),oe(st(dt.data)),oe("endstream"))},bo=w.__private__.putPage=function(x){var V=x.number,ie=x.data,ce=x.objId,we=x.contentsObjId;qn(ce,!0),oe("<</Type /Page"),oe("/Parent "+x.rootDictionaryObjId+" 0 R"),oe("/Resources "+x.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(R(x.mediaBox.bottomLeftX))+" "+parseFloat(R(x.mediaBox.bottomLeftY))+" "+R(x.mediaBox.topRightX)+" "+R(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&oe("/CropBox ["+R(x.cropBox.bottomLeftX)+" "+R(x.cropBox.bottomLeftY)+" "+R(x.cropBox.topRightX)+" "+R(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&oe("/BleedBox ["+R(x.bleedBox.bottomLeftX)+" "+R(x.bleedBox.bottomLeftY)+" "+R(x.bleedBox.topRightX)+" "+R(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&oe("/TrimBox ["+R(x.trimBox.bottomLeftX)+" "+R(x.trimBox.bottomLeftY)+" "+R(x.trimBox.topRightX)+" "+R(x.trimBox.topRightY)+"]"),x.artBox!==null&&oe("/ArtBox ["+R(x.artBox.bottomLeftX)+" "+R(x.artBox.bottomLeftY)+" "+R(x.artBox.topRightX)+" "+R(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&oe("/UserUnit "+x.userUnit),rn.publish("putPage",{objId:ce,pageContext:Rt[V],pageNumber:V,page:ie}),oe("/Contents "+we+" 0 R"),oe(">>"),oe("endobj");var Be=ie.join(`
`);return $===H&&(Be+=`
Q`),qn(we,!0),gr({data:Be,filters:fi(),objectId:we}),oe("endobj"),ce},es=w.__private__.putPages=function(){var x,V,ie=[];for(x=1;x<=cn;x++)Rt[x].objId=or(),Rt[x].contentsObjId=or();for(x=1;x<=cn;x++)ie.push(bo({number:x,data:He[x],objId:Rt[x].objId,contentsObjId:Rt[x].contentsObjId,mediaBox:Rt[x].mediaBox,cropBox:Rt[x].cropBox,bleedBox:Rt[x].bleedBox,trimBox:Rt[x].trimBox,artBox:Rt[x].artBox,userUnit:Rt[x].userUnit,rootDictionaryObjId:xo,resourceDictionaryObjId:Ii}));qn(xo,!0),oe("<</Type /Pages");var ce="/Kids [";for(V=0;V<cn;V++)ce+=ie[V]+" 0 R ";oe(ce+"]"),oe("/Count "+cn),oe(">>"),oe("endobj"),rn.publish("postPutPages")},Os=function(x){rn.publish("putFont",{font:x,out:oe,newObject:jn,putStream:gr}),x.isAlreadyPutted!==!0&&(x.objectNumber=jn(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+dh(x.postScriptName)),oe("/Subtype /Type1"),typeof x.encoding=="string"&&oe("/Encoding /"+x.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},to=function(x){x.objectNumber=jn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[R(x.x),R(x.y),R(x.x+x.width),R(x.y+x.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ie=x.pages[1].join(`
`);gr({data:ie,additionalKeyValues:V,objectId:x.objectNumber}),oe("endobj")},So=function(x,V){V||(V=21);var ie=jn(),ce=(function($e,st){var dt,Ct=[],jt=1/(st-1);for(dt=0;dt<1;dt+=jt)Ct.push(dt);if(Ct.push(1),$e[0].offset!=0){var yn={offset:0,color:$e[0].color};$e.unshift(yn)}if($e[$e.length-1].offset!=1){var Sn={offset:1,color:$e[$e.length-1].color};$e.push(Sn)}for(var lr="",Dn=0,vr=0;vr<Ct.length;vr++){for(dt=Ct[vr];dt>$e[Dn+1].offset;)Dn++;var nr=$e[Dn].offset,wr=(dt-nr)/($e[Dn+1].offset-nr),Jn=$e[Dn].color,xi=$e[Dn+1].color;lr+=ue(Math.round((1-wr)*Jn[0]+wr*xi[0]).toString(16))+ue(Math.round((1-wr)*Jn[1]+wr*xi[1]).toString(16))+ue(Math.round((1-wr)*Jn[2]+wr*xi[2]).toString(16))}return lr.trim()})(x.colors,V),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+V+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),gr({data:ce,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),oe("endobj"),x.objectNumber=jn(),oe("<< /ShadingType "+x.type),oe("/ColorSpace /DeviceRGB");var Be="/Coords ["+R(parseFloat(x.coords[0]))+" "+R(parseFloat(x.coords[1]))+" ";x.type===2?Be+=R(parseFloat(x.coords[2]))+" "+R(parseFloat(x.coords[3])):Be+=R(parseFloat(x.coords[2]))+" "+R(parseFloat(x.coords[3]))+" "+R(parseFloat(x.coords[4]))+" "+R(parseFloat(x.coords[5])),oe(Be+="]"),x.matrix&&oe("/Matrix ["+x.matrix.toString()+"]"),oe("/Function "+ie+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},$o=function(x,V){var ie=or(),ce=jn();V.push({resourcesOid:ie,objectOid:ce}),x.objectNumber=ce;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+x.boundingBox.map(R).join(" ")+"]"}),we.push({key:"XStep",value:R(x.xStep)}),we.push({key:"YStep",value:R(x.yStep)}),we.push({key:"Resources",value:ie+" 0 R"}),x.matrix&&we.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),gr({data:x.stream,additionalKeyValues:we,objectId:x.objectNumber}),oe("endobj")},qu=function(x){for(var V in x.objectNumber=jn(),oe("<<"),x)switch(V){case"opacity":oe("/ca "+C(x[V]));break;case"stroke-opacity":oe("/CA "+C(x[V]))}oe(">>"),oe("endobj")},Pn=function(x){qn(x.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var V in oe("/Font <<"),ft)ft.hasOwnProperty(V)&&(y===!1||y===!0&&_.hasOwnProperty(V))&&oe("/"+V+" "+ft[V].objectNumber+" 0 R");oe(">>")})(),(function(){if(Object.keys(Nt).length>0){for(var V in oe("/Shading <<"),Nt)Nt.hasOwnProperty(V)&&Nt[V]instanceof pc&&Nt[V].objectNumber>=0&&oe("/"+V+" "+Nt[V].objectNumber+" 0 R");rn.publish("putShadingPatternDict"),oe(">>")}})(),(function(V){if(Object.keys(Nt).length>0){for(var ie in oe("/Pattern <<"),Nt)Nt.hasOwnProperty(ie)&&Nt[ie]instanceof w.TilingPattern&&Nt[ie].objectNumber>=0&&Nt[ie].objectNumber<V&&oe("/"+ie+" "+Nt[ie].objectNumber+" 0 R");rn.publish("putTilingPatternDict"),oe(">>")}})(x.objectOid),(function(){if(Object.keys(Mt).length>0){var V;for(V in oe("/ExtGState <<"),Mt)Mt.hasOwnProperty(V)&&Mt[V].objectNumber>=0&&oe("/"+V+" "+Mt[V].objectNumber+" 0 R");rn.publish("putGStateDict"),oe(">>")}})(),(function(){for(var V in oe("/XObject <<"),pr)pr.hasOwnProperty(V)&&pr[V].objectNumber>=0&&oe("/"+V+" "+pr[V].objectNumber+" 0 R");rn.publish("putXobjectDict"),oe(">>")})(),oe(">>"),oe("endobj")},Ka=function(x){Vt[x.fontName]=Vt[x.fontName]||{},Vt[x.fontName][x.fontStyle]=x.id},Ao=function(x,V,ie,ce,we){var Be={id:"F"+(Object.keys(ft).length+1).toString(10),postScriptName:x,fontName:V,fontStyle:ie,encoding:ce,isStandardFont:we||!1,metadata:{}};return rn.publish("addFont",{font:Be,instance:this}),ft[Be.id]=Be,Ka(Be),Be.id},zr=w.__private__.pdfEscape=w.pdfEscape=function(x,V){return(function(ie,ce){var we,Be,$e,st,dt,Ct,jt,yn,Sn;if($e=(ce=ce||{}).sourceEncoding||"Unicode",dt=ce.outputEncoding,(ce.autoencode||dt)&&ft[xt].metadata&&ft[xt].metadata[$e]&&ft[xt].metadata[$e].encoding&&(st=ft[xt].metadata[$e].encoding,!dt&&ft[xt].encoding&&(dt=ft[xt].encoding),!dt&&st.codePages&&(dt=st.codePages[0]),typeof dt=="string"&&(dt=st[dt]),dt)){for(jt=!1,Ct=[],we=0,Be=ie.length;we<Be;we++)(yn=dt[ie.charCodeAt(we)])?Ct.push(String.fromCharCode(yn)):Ct.push(ie[we]),Ct[we].charCodeAt(0)>>8&&(jt=!0);ie=Ct.join("")}for(we=ie.length;jt===void 0&&we!==0;)ie.charCodeAt(we-1)>>8&&(jt=!0),we--;if(!jt)return ie;for(Ct=ce.noBOM?[]:[254,255],we=0,Be=ie.length;we<Be;we++){if((Sn=(yn=ie.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ct.push(Sn),Ct.push(yn-(Sn<<8))}return String.fromCharCode.apply(void 0,Ct)})(x,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pi=w.__private__.beginPage=function(x){He[++cn]=[],Rt[cn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Eo(cn),Fe(He[X])},_a=function(x,V){var ie,ce,we;switch(t=V||t,typeof x=="string"&&(ie=F(x.toLowerCase()),Array.isArray(ie)&&(ce=ie[0],we=ie[1])),Array.isArray(x)&&(ce=x[0]*Tt,we=x[1]*Tt),isNaN(ce)&&(ce=i[0],we=i[1]),(ce>14400||we>14400)&&(tr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),we=Math.min(14400,we)),i=[ce,we],t.substr(0,1)){case"l":we>ce&&(i=[we,ce]);break;case"p":ce>we&&(i=[we,ce])}Pi(i),rs(qi),oe(Ms),Mn!==0&&oe(Mn+" J"),Xa!==0&&oe(Xa+" j"),rn.publish("addPage",{pageNumber:cn})},xa=function(x){x>0&&x<=cn&&(He.splice(x,1),Rt.splice(x,1),cn--,X>cn&&(X=cn),this.setPage(X))},Eo=function(x){x>0&&x<=cn&&(X=x)},ki=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return He.length-1},Ya=function(x,V,ie){var ce,we=void 0;return ie=ie||{},x=x!==void 0?x:ft[xt].fontName,V=V!==void 0?V:ft[xt].fontStyle,ce=x.toLowerCase(),Vt[ce]!==void 0&&Vt[ce][V]!==void 0?we=Vt[ce][V]:Vt[x]!==void 0&&Vt[x][V]!==void 0?we=Vt[x][V]:ie.disableWarning===!1&&tr.warn("Unable to look up font label for font '"+x+"', '"+V+"'. Refer to getFontList() for available fonts."),we||ie.noFallback||(we=Vt.times[V])==null&&(we=Vt.times.normal),we},Or=w.__private__.putInfo=function(){var x=jn(),V=function(ce){return ce};for(var ie in d!==null&&(V=Rn.encryptor(x,0)),oe("<<"),oe("/Producer ("+zr(V("jsPDF "+At.version))+")"),Lt)Lt.hasOwnProperty(ie)&&Lt[ie]&&oe("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+zr(V(Lt[ie]))+")");oe("/CreationDate ("+zr(V(Se))+")"),oe(">>"),oe("endobj")},Qa=w.__private__.putCatalog=function(x){var V=(x=x||{}).rootDictionaryObjId||xo;switch(jn(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+V+" 0 R"),ut||(ut="fullwidth"),ut){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+ut;ie.substr(ie.length-1)==="%"&&(ut=parseInt(ut)/100),typeof ut=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+C(ut)+"]")}switch(Ft||(Ft="continuous"),Ft){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}_t&&oe("/PageMode /"+_t),rn.publish("putCatalog"),oe(">>"),oe("endobj")},ar=w.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(fe+1)),oe("/Root "+fe+" 0 R"),oe("/Info "+(fe-1)+" 0 R"),d!==null&&oe("/Encrypt "+Rn.oid+" 0 R"),oe("/ID [ <"+xe+"> <"+xe+"> ]"),oe(">>")},Ja=w.__private__.putHeader=function(){oe("%PDF-"+T),oe("%")},Wo=w.__private__.putXRef=function(){var x="0000000000";oe("xref"),oe("0 "+(fe+1)),oe("0000000000 65535 f ");for(var V=1;V<=fe;V++)typeof ve[V]=="function"?oe((x+ve[V]()).slice(-10)+" 00000 n "):ve[V]!==void 0?oe((x+ve[V]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},ts=w.__private__.buildDocument=function(){var x;fe=0,Te=0,Ne=[],ve=[],je=[],xo=or(),Ii=or(),Fe(Ne),rn.publish("buildDocument"),Ja(),es(),(function(){rn.publish("putAdditionalObjects");for(var ie=0;ie<je.length;ie++){var ce=je[ie];qn(ce.objId,!0),oe(ce.content),oe("endobj")}rn.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var ie in ft)ft.hasOwnProperty(ie)&&(y===!1||y===!0&&_.hasOwnProperty(ie))&&Os(ft[ie])})(),(function(){var ie;for(ie in Mt)Mt.hasOwnProperty(ie)&&qu(Mt[ie])})(),(function(){for(var ie in pr)pr.hasOwnProperty(ie)&&to(pr[ie])})(),(function(ie){var ce;for(ce in Nt)Nt.hasOwnProperty(ce)&&(Nt[ce]instanceof pc?So(Nt[ce]):Nt[ce]instanceof vh&&$o(Nt[ce],ie))})(x),rn.publish("putResources"),x.forEach(Pn),Pn({resourcesOid:Ii,objectOid:Number.MAX_SAFE_INTEGER}),rn.publish("postPutResources"),d!==null&&(Rn.oid=jn(),oe("<<"),oe("/Filter /Standard"),oe("/V "+Rn.v),oe("/R "+Rn.r),oe("/U <"+Rn.toHexString(Rn.U)+">"),oe("/O <"+Rn.toHexString(Rn.O)+">"),oe("/P "+Rn.P),oe(">>"),oe("endobj")),Or(),Qa();var V=Te;return Wo(),ar(),oe("startxref"),oe(""+V),oe("%%EOF"),Fe(He[X]),Ne.join(`
`)},ns=w.__private__.getBlob=function(x){return new Blob([qt(x)],{type:"application/pdf"})},di=w.output=w.__private__.output=(ni=function(x,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",x){case void 0:return ts();case"save":w.save(V.filename);break;case"arraybuffer":return qt(ts());case"blob":return ns(ts());case"bloburi":case"bloburl":if(Gt.URL!==void 0&&typeof Gt.URL.createObjectURL=="function")return Gt.URL&&Gt.URL.createObjectURL(ns(ts()))||void 0;tr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",ce=ts();try{ie=Ex(ce)}catch{ie=Ex(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+V.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(we=V.pdfObjectUrl,Be="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",st=Gt.open();return st!==null&&st.document.write($e),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',Ct=Gt.open();if(Ct!==null){Ct.document.write(dt);var jt=this;Ct.document.documentElement.querySelector("#pdfViewer").onload=function(){Ct.document.title=V.filename,Ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jt.output("bloburl"))}}return Ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var yn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',Sn=Gt.open();if(Sn!==null&&(Sn.document.write(yn),Sn.document.title=V.filename),Sn||typeof safari>"u")return Sn;break;case"datauri":case"dataurl":return Gt.document.location.href=this.output("datauristring",V);default:return null}},ni.foo=function(){try{return ni.apply(this,arguments)}catch(ie){var x=ie.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var V="Error in function "+x.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Gt.console)throw new Error(V);Gt.console.error(V,ie),Gt.alert&&alert(V)}},ni.foo.bar=ni,ni.foo),Go=function(x){return Array.isArray(Zs)===!0&&Zs.indexOf(x)>-1};switch(r){case"pt":Tt=1;break;case"mm":Tt=72/25.4;break;case"cm":Tt=72/2.54;break;case"in":Tt=72;break;case"px":Tt=Go("px_scaling")==1?.75:96/72;break;case"pc":case"em":Tt=12;break;case"ex":Tt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Tt=r}var Rn=null;Q(),ee();var pi=w.__private__.getPageInfo=w.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Rt[x].objId,pageNumber:x,pageContext:Rt[x]}},Ko=w.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Rt)if(Rt[V].objId===x)break;return pi(V)},To=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:Rt[X].objId,pageNumber:X,pageContext:Rt[X]}};w.addPage=function(){return _a.apply(this,arguments),this},w.setPage=function(){return Eo.apply(this,arguments),Fe.call(this,He[X]),this},w.insertPage=function(x){return this.addPage(),this.movePage(X,x),this},w.movePage=function(x,V){var ie,ce;if(x>V){ie=He[x],ce=Rt[x];for(var we=x;we>V;we--)He[we]=He[we-1],Rt[we]=Rt[we-1];He[V]=ie,Rt[V]=ce,this.setPage(V)}else if(x<V){ie=He[x],ce=Rt[x];for(var Be=x;Be<V;Be++)He[Be]=He[Be+1],Rt[Be]=Rt[Be+1];He[V]=ie,Rt[V]=ce,this.setPage(V)}return this},w.deletePage=function(){return xa.apply(this,arguments),this},w.__private__.text=w.text=function(x,V,ie,ce,we){var Be,$e,st,dt,Ct,jt,yn,Sn,lr,Dn=(ce=ce||{}).scope||this;if(typeof x=="number"&&typeof V=="number"&&(typeof ie=="string"||Array.isArray(ie))){var vr=ie;ie=V,V=x,x=vr}if(arguments[3]instanceof It==0?(st=arguments[4],dt=arguments[5],Kn(yn=arguments[3])==="object"&&yn!==null||(typeof st=="string"&&(dt=st,st=null),typeof yn=="string"&&(dt=yn,yn=null),typeof yn=="number"&&(st=yn,yn=null),ce={flags:yn,angle:st,align:dt})):(L("The transform parameter of text() with a Matrix value"),lr=we),isNaN(V)||isNaN(ie)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Dn;var nr,wr="",Jn=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:gi,xi=Dn.internal.scaleFactor;function Za(An){return An=An.split("	").join(Array(ce.TabLen||9).join(" ")),zr(An,yn)}function zi(An){for(var Vn,xr=An.concat(),Mr=[],lo=xr.length;lo--;)typeof(Vn=xr.shift())=="string"?Mr.push(Vn):Array.isArray(An)&&(Vn.length===1||Vn[1]===void 0&&Vn[2]===void 0)?Mr.push(Vn[0]):Mr.push([Vn[0],Vn[1],Vn[2]]);return Mr}function m(An,Vn){var xr;if(typeof An=="string")xr=Vn(An)[0];else if(Array.isArray(An)){for(var Mr,lo,Hu=An.concat(),zl=[],ea=Hu.length;ea--;)typeof(Mr=Hu.shift())=="string"?zl.push(Vn(Mr)[0]):Array.isArray(Mr)&&typeof Mr[0]=="string"&&(lo=Vn(Mr[0],Mr[1],Mr[2]),zl.push([lo[0],lo[1],lo[2]]));xr=zl}return xr}var A=!1,O=!0;if(typeof x=="string")A=!0;else if(Array.isArray(x)){var J=x.concat();$e=[];for(var be,Le=J.length;Le--;)(typeof(be=J.shift())!="string"||Array.isArray(be)&&typeof be[0]!="string")&&(O=!1);A=O}if(A===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var Xe=Ye/Dn.internal.scaleFactor,mn=Xe*(Jn-1);switch(ce.baseline){case"bottom":ie-=mn;break;case"top":ie+=Xe-mn;break;case"hanging":ie+=Xe-2*mn;break;case"middle":ie+=Xe/2-mn}if((jt=ce.maxWidth||0)>0&&(typeof x=="string"?x=Dn.splitTextToSize(x,jt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(An,Vn){return An.concat(Dn.splitTextToSize(Vn,jt))},[]))),Be={text:x,x:V,y:ie,options:ce,mutex:{pdfEscape:zr,activeFontKey:xt,fonts:ft,activeFontSize:Ye}},rn.publish("preProcessText",Be),x=Be.text,st=(ce=Be.options).angle,lr instanceof It==0&&st&&typeof st=="number"){st*=Math.PI/180,ce.rotationDirection===0&&(st=-st),$===H&&(st=-st);var ur=Math.cos(st),an=Math.sin(st);lr=new It(ur,an,-an,ur,0,0)}else st&&st instanceof It&&(lr=st);$!==H||lr||(lr=Zi),(Ct=ce.charSpace||is)!==void 0&&(wr+=R(M(Ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Sn=ce.horizontalScale)!==void 0&&(wr+=R(100*Sn)+` Tz
`),ce.lang;var sn=-1,Fn=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,bi=Dn.internal.getCurrentPageInfo().pageContext;switch(Fn){case 0:case!1:case"fill":sn=0;break;case 1:case!0:case"stroke":sn=1;break;case 2:case"fillThenStroke":sn=2;break;case 3:case"invisible":sn=3;break;case 4:case"fillAndAddForClipping":sn=4;break;case 5:case"strokeAndAddPathForClipping":sn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":sn=6;break;case 7:case"addToPathForClipping":sn=7}var Li=bi.usedRenderingMode!==void 0?bi.usedRenderingMode:-1;sn!==-1?wr+=sn+` Tr
`:Li!==-1&&(wr+=`0 Tr
`),sn!==-1&&(bi.usedRenderingMode=sn),dt=ce.align||"left";var ii,Vs=Ye*Jn,Vl=Dn.internal.pageSize.getWidth(),Ul=ft[xt];Ct=ce.charSpace||is,jt=ce.maxWidth||0,yn=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var Qo=[],Us=function(An){return Dn.getStringUnitWidth(An,{font:Ul,charSpace:Ct,fontSize:Ye,doKerning:!1})*Ye/xi};if(Object.prototype.toString.call(x)==="[object Array]"){var Is;$e=zi(x),dt!=="left"&&(ii=$e.map(Us));var Ps,Ia=0;if(dt==="right"){V-=ii[0],x=[],Le=$e.length;for(var Co=0;Co<Le;Co++)Co===0?(Ps=yr(V),Is=io(ie)):(Ps=M(Ia-ii[Co]),Is=-Vs),x.push([$e[Co],Ps,Is]),Ia=ii[Co]}else if(dt==="center"){V-=ii[0]/2,x=[],Le=$e.length;for(var Jo=0;Jo<Le;Jo++)Jo===0?(Ps=yr(V),Is=io(ie)):(Ps=M((Ia-ii[Jo])/2),Is=-Vs),x.push([$e[Jo],Ps,Is]),Ia=ii[Jo]}else if(dt==="left"){x=[],Le=$e.length;for(var Xo=0;Xo<Le;Xo++)x.push($e[Xo])}else if(dt==="justify"&&Ul.encoding==="Identity-H"){x=[],Le=$e.length,jt=jt!==0?jt:Vl;for(var Lo=0,Nr=0;Nr<Le;Nr++)if(Is=Nr===0?io(ie):-Vs,Ps=Nr===0?yr(V):Lo,Nr<Le-1){var el=M((jt-ii[Nr])/($e[Nr].split(" ").length-1)),Ro=$e[Nr].split(" ");x.push([Ro[0]+" ",Ps,Is]),Lo=0;for(var ao=1;ao<Ro.length;ao++){var tl=(Us(Ro[ao-1]+" "+Ro[ao])-Us(Ro[ao]))*xi+el;ao==Ro.length-1?x.push([Ro[ao],tl,0]):x.push([Ro[ao]+" ",tl,0]),Lo-=tl}}else x.push([$e[Nr],Ps,Is]);x.push(["",Lo,0])}else{if(dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Le=$e.length,jt=jt!==0?jt:Vl,Nr=0;Nr<Le;Nr++){Is=Nr===0?io(ie):-Vs,Ps=Nr===0?yr(V):0;var nl=$e[Nr].split(" ").length-1,Bl=nl>0?(jt-ii[Nr])/nl:0;Nr<Le-1?Qo.push(R(M(Bl))):Qo.push(0),x.push([$e[Nr],Ps,Is])}}}(typeof ce.R2L=="boolean"?ce.R2L:zt)===!0&&(x=m(x,function(An,Vn,xr){return[An.split("").reverse().join(""),Vn,xr]})),Be={text:x,x:V,y:ie,options:ce,mutex:{pdfEscape:zr,activeFontKey:xt,fonts:ft,activeFontSize:Ye}},rn.publish("postProcessText",Be),x=Be.text,nr=Be.mutex.isHex||!1;var ql=ft[xt].encoding;ql!=="WinAnsiEncoding"&&ql!=="StandardEncoding"||(x=m(x,function(An,Vn,xr){return[Za(An),Vn,xr]})),$e=zi(x),x=[];for(var Zo,Pa,ka,rl=Array.isArray($e[0])?1:0,Ca="",il=function(An,Vn,xr){var Mr="";return xr instanceof It?(xr=typeof ce.angle=="number"?Ln(xr,new It(1,0,0,1,An,Vn)):Ln(new It(1,0,0,1,An,Vn),xr),$===H&&(xr=Ln(new It(1,0,0,-1,0,0),xr)),Mr=xr.join(" ")+` Tm
`):Mr=R(An)+" "+R(Vn)+` Td
`,Mr},_r=0;_r<$e.length;_r++){switch(Ca="",rl){case 1:ka=(nr?"<":"(")+$e[_r][0]+(nr?">":")"),Zo=parseFloat($e[_r][1]),Pa=parseFloat($e[_r][2]);break;case 0:ka=(nr?"<":"(")+$e[_r]+(nr?">":")"),Zo=yr(V),Pa=io(ie)}Qo!==void 0&&Qo[_r]!==void 0&&(Ca=Qo[_r]+` Tw
`),_r===0?x.push(Ca+il(Zo,Pa,lr)+ka):rl===0?x.push(Ca+ka):rl===1&&x.push(Ca+il(Zo,Pa,lr)+ka)}x=rl===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var os=`BT
/`;return os+=xt+" "+Ye+` Tf
`,os+=R(Ye*Jn)+` TL
`,os+=yi+`
`,os+=wr,os+=x,oe(os+="ET"),_[xt]=!0,Dn};var No=w.__private__.clip=w.clip=function(x){return oe(x==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return No("evenodd")},w.__private__.discardPath=w.discardPath=function(){return oe("n"),this};var hn=w.__private__.isValidStyle=function(x){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(V=!0),V};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(x){return hn(x)&&(f=x),this};var no=w.__private__.getStyle=w.getStyle=function(x){var V=f;switch(x){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=x}return V},on=w.close=function(){return oe("h"),this};w.stroke=function(){return oe("S"),this},w.fill=function(x){return Bi("f",x),this},w.fillEvenOdd=function(x){return Bi("f*",x),this},w.fillStroke=function(x){return Bi("B",x),this},w.fillStrokeEvenOdd=function(x){return Bi("B*",x),this};var Bi=function(x,V){Kn(V)==="object"?Ol(V,x):oe(x)},ba=function(x){x===null||$===H&&x===void 0||(x=no(x),oe(x))};function Sa(x,V,ie,ce,we){var Be=new vh(V||this.boundingBox,ie||this.xStep,ce||this.yStep,this.gState,we||this.matrix);Be.stream=this.stream;var $e=x+"$$"+this.cloneIndex+++"$$";return mr($e,Be),Be}var Ol=function(x,V){var ie=en[x.key],ce=Nt[ie];if(ce instanceof pc)oe("q"),oe(jl(V)),ce.gState&&w.setGState(ce.gState),oe(x.matrix.toString()+" cm"),oe("/"+ie+" sh"),oe("Q");else if(ce instanceof vh){var we=new It(1,0,0,-1,0,_i());x.matrix&&(we=we.multiply(x.matrix||Zi),ie=Sa.call(ce,x.key,x.boundingBox,x.xStep,x.yStep,we).id),oe("q"),oe("/Pattern cs"),oe("/"+ie+" scn"),ce.gState&&w.setGState(ce.gState),oe(V),oe("Q")}},jl=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Aa=w.moveTo=function(x,V){return oe(R(M(x))+" "+R(se(V))+" m"),this},ro=w.lineTo=function(x,V){return oe(R(M(x))+" "+R(se(V))+" l"),this},mi=w.curveTo=function(x,V,ie,ce,we,Be){return oe([R(M(x)),R(se(V)),R(M(ie)),R(se(ce)),R(M(we)),R(se(Be)),"c"].join(" ")),this};w.__private__.line=w.line=function(x,V,ie,ce,we){if(isNaN(x)||isNaN(V)||isNaN(ie)||isNaN(ce)||!hn(we))throw new Error("Invalid arguments passed to jsPDF.line");return $===Y?this.lines([[ie-x,ce-V]],x,V,[1,1],we||"S"):this.lines([[ie-x,ce-V]],x,V,[1,1]).stroke()},w.__private__.lines=w.lines=function(x,V,ie,ce,we,Be){var $e,st,dt,Ct,jt,yn,Sn,lr,Dn,vr,nr,wr;if(typeof x=="number"&&(wr=ie,ie=V,V=x,x=wr),ce=ce||[1,1],Be=Be||!1,isNaN(V)||isNaN(ie)||!Array.isArray(x)||!Array.isArray(ce)||!hn(we)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Aa(V,ie),$e=ce[0],st=ce[1],Ct=x.length,vr=V,nr=ie,dt=0;dt<Ct;dt++)(jt=x[dt]).length===2?(vr=jt[0]*$e+vr,nr=jt[1]*st+nr,ro(vr,nr)):(yn=jt[0]*$e+vr,Sn=jt[1]*st+nr,lr=jt[2]*$e+vr,Dn=jt[3]*st+nr,vr=jt[4]*$e+vr,nr=jt[5]*st+nr,mi(yn,Sn,lr,Dn,vr,nr));return Be&&on(),ba(we),this},w.path=function(x){for(var V=0;V<x.length;V++){var ie=x[V],ce=ie.c;switch(ie.op){case"m":Aa(ce[0],ce[1]);break;case"l":ro(ce[0],ce[1]);break;case"c":mi.apply(this,ce);break;case"h":on()}}return this},w.__private__.rect=w.rect=function(x,V,ie,ce,we){if(isNaN(x)||isNaN(V)||isNaN(ie)||isNaN(ce)||!hn(we))throw new Error("Invalid arguments passed to jsPDF.rect");return $===Y&&(ce=-ce),oe([R(M(x)),R(se(V)),R(M(ie)),R(M(ce)),"re"].join(" ")),ba(we),this},w.__private__.triangle=w.triangle=function(x,V,ie,ce,we,Be,$e){if(isNaN(x)||isNaN(V)||isNaN(ie)||isNaN(ce)||isNaN(we)||isNaN(Be)||!hn($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-x,ce-V],[we-ie,Be-ce],[x-we,V-Be]],x,V,[1,1],$e,!0),this},w.__private__.roundedRect=w.roundedRect=function(x,V,ie,ce,we,Be,$e){if(isNaN(x)||isNaN(V)||isNaN(ie)||isNaN(ce)||isNaN(we)||isNaN(Be)||!hn($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*ie),Be=Math.min(Be,.5*ce),this.lines([[ie-2*we,0],[we*st,0,we,Be-Be*st,we,Be],[0,ce-2*Be],[0,Be*st,-we*st,Be,-we,Be],[2*we-ie,0],[-we*st,0,-we,-Be*st,-we,-Be],[0,2*Be-ce],[0,-Be*st,we*st,-Be,we,-Be]],x+we,V,[1,1],$e,!0),this},w.__private__.ellipse=w.ellipse=function(x,V,ie,ce,we){if(isNaN(x)||isNaN(V)||isNaN(ie)||isNaN(ce)||!hn(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*ie,$e=4/3*(Math.SQRT2-1)*ce;return Aa(x+ie,V),mi(x+ie,V-$e,x+Be,V-ce,x,V-ce),mi(x-Be,V-ce,x-ie,V-$e,x-ie,V),mi(x-ie,V+$e,x-Be,V+ce,x,V+ce),mi(x+Be,V+ce,x+ie,V+$e,x+ie,V),ba(we),this},w.__private__.circle=w.circle=function(x,V,ie,ce){if(isNaN(x)||isNaN(V)||isNaN(ie)||!hn(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,V,ie,ie,ce)},w.setFont=function(x,V,ie){return ie&&(V=W(V,ie)),xt=Ya(x,V,{disableWarning:!1}),this};var Hr=w.__private__.getFont=w.getFont=function(){return ft[Ya.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var x,V,ie={};for(x in Vt)if(Vt.hasOwnProperty(x))for(V in ie[x]=[],Vt[x])Vt[x].hasOwnProperty(V)&&ie[x].push(V);return ie},w.addFont=function(x,V,ie,ce,we){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(ie=W(ie,ce)),Ao.call(this,x,V,ie,we=we||"Identity-H")};var gi,qi=n.lineWidth||.200025,Pt=w.__private__.getLineWidth=w.getLineWidth=function(){return qi},rs=w.__private__.setLineWidth=w.setLineWidth=function(x){return qi=x,oe(R(M(x))+" w"),this};w.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(x,V){if(x=x||[],V=V||0,isNaN(V)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ie){return R(M(ie))}).join(" "),V=R(M(V)),oe("["+x+"] "+V+" d"),this};var js=w.__private__.getLineHeight=w.getLineHeight=function(){return Ye*gi};w.__private__.getLineHeight=w.getLineHeight=function(){return Ye*gi};var zu=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(gi=x),this},Ml=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return gi};zu(n.lineHeight);var yr=w.__private__.getHorizontalCoordinate=function(x){return M(x)},io=w.__private__.getVerticalCoordinate=function(x){return $===H?x:Rt[X].mediaBox.topRightY-Rt[X].mediaBox.bottomLeftY-M(x)},Fl=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(x){return R(yr(x))},so=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(x){return R(io(x))},Ms=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Ts(Ms)},w.__private__.setStrokeColor=w.setDrawColor=function(x,V,ie,ce){return Ms=Tr({ch1:x,ch2:V,ch3:ie,ch4:ce,pdfColorType:"draw",precision:2}),oe(Ms),this};var Ea=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Ts(Ea)},w.__private__.setFillColor=w.setFillColor=function(x,V,ie,ce){return Ea=Tr({ch1:x,ch2:V,ch3:ie,ch4:ce,pdfColorType:"fill",precision:2}),oe(Ea),this};var yi=n.textColor||"0 g",Ci=w.__private__.getTextColor=w.getTextColor=function(){return Ts(yi)};w.__private__.setTextColor=w.setTextColor=function(x,V,ie,ce){return yi=Tr({ch1:x,ch2:V,ch3:ie,ch4:ce,pdfColorType:"text",precision:3}),this};var is=n.charSpace,Io=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(is||0)};w.__private__.setCharSpace=w.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return is=x,this};var Mn=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(x){var V=w.CapJoinStyles[x];if(V===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mn=V,oe(V+" J"),this};var Xa=0;w.__private__.setLineJoin=w.setLineJoin=function(x){var V=w.CapJoinStyles[x];if(V===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xa=V,oe(V+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(R(M(x))+" M"),this},w.GState=Cm,w.setGState=function(x){(x=typeof x=="string"?Mt[Qn[x]]:oo(null,x)).equals(In)||(oe("/"+x.id+" gs"),In=x)};var oo=function(x,V){if(!x||!Qn[x]){var ie=!1;for(var ce in Mt)if(Mt.hasOwnProperty(ce)&&Mt[ce].equals(V)){ie=!0;break}if(ie)V=Mt[ce];else{var we="GS"+(Object.keys(Mt).length+1).toString(10);Mt[we]=V,V.id=we}return x&&(Qn[x]=V.id),rn.publish("addGState",V),V}};w.addGState=function(x,V){return oo(x,V),this},w.saveGraphicsState=function(){return oe("q"),bn.push({key:xt,size:Ye,color:yi}),this},w.restoreGraphicsState=function(){oe("Q");var x=bn.pop();return xt=x.key,Ye=x.size,yi=x.color,In=null,this},w.setCurrentTransformationMatrix=function(x){return oe(x.toString()+" cm"),this},w.comment=function(x){return oe("#"+x),this};var Ns=function(x,V){var ie=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Be){isNaN(Be)||(ie=parseFloat(Be))}});var ce=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Be){isNaN(Be)||(ce=parseFloat(Be))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Be){we=Be.toString()}}),this},Po=function(x,V,ie,ce){Ns.call(this,x,V),this.type="rect";var we=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function($e){isNaN($e)||(we=parseFloat($e))}});var Be=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function($e){isNaN($e)||(Be=parseFloat($e))}}),this},ko=function(){this.page=cn,this.currentPage=X,this.pages=He.slice(0),this.pagesContext=Rt.slice(0),this.x=yt,this.y=_n,this.matrix=pn,this.width=wi(X),this.height=ss(X),this.outputDestination=rt,this.id="",this.objectNumber=-1};ko.prototype.restore=function(){cn=this.page,X=this.currentPage,Rt=this.pagesContext,He=this.pages,yt=this.x,_n=this.y,pn=this.matrix,Ta(X,this.width),ri(X,this.height),rt=this.outputDestination};var vi=function(x,V,ie,ce,we){ti.push(new ko),cn=X=0,He=[],yt=x,_n=V,pn=we,Pi([ie,ce])};for(var Fs in w.beginFormObject=function(x,V,ie,ce,we){return vi(x,V,ie,ce,we),this},w.endFormObject=function(x){return(function(V){if(Es[V])ti.pop().restore();else{var ie=new ko,ce="Xo"+(Object.keys(pr).length+1).toString(10);ie.id=ce,Es[V]=ce,pr[ce]=ie,rn.publish("addFormObject",ie),ti.pop().restore()}})(x),this},w.doFormObject=function(x,V){var ie=pr[Es[x]];return oe("q"),oe(V.toString()+" cm"),oe("/"+ie.id+" Do"),oe("Q"),this},w.getFormObject=function(x){var V=pr[Es[x]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},w.save=function(x,V){return x=x||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(dc(ns(ts()),x),typeof dc.unload=="function"&&Gt.setTimeout&&setTimeout(dc.unload,911),this):new Promise(function(ie,ce){try{var we=dc(ns(ts()),x);typeof dc.unload=="function"&&Gt.setTimeout&&setTimeout(dc.unload,911),ie(we)}catch(Be){ce(Be.message)}})},At.API)At.API.hasOwnProperty(Fs)&&(Fs==="events"&&At.API.events.length?(function(x,V){var ie,ce,we;for(we=V.length-1;we!==-1;we--)ie=V[we][0],ce=V[we][1],x.subscribe.apply(x,[ie].concat(typeof ce=="function"?[ce]:ce))})(rn,At.API.events):w[Fs]=At.API[Fs]);function wi(x){return Rt[x].mediaBox.topRightX-Rt[x].mediaBox.bottomLeftX}function Ta(x,V){Rt[x].mediaBox.topRightX=V+Rt[x].mediaBox.bottomLeftX}function ss(x){return Rt[x].mediaBox.topRightY-Rt[x].mediaBox.bottomLeftY}function ri(x,V){Rt[x].mediaBox.topRightY=V+Rt[x].mediaBox.bottomLeftY}var Na=w.getPageWidth=function(x){return wi(x=x||X)/Tt},jr=w.setPageWidth=function(x,V){Ta(x,V*Tt)},_i=w.getPageHeight=function(x){return ss(x=x||X)/Tt},Yo=w.setPageHeight=function(x,V){ri(x,V*Tt)};return w.internal={pdfEscape:zr,getStyle:no,getFont:Hr,getFontSize:et,getCharSpace:Io,getTextColor:Ci,getLineHeight:js,getLineHeightFactor:Ml,getLineWidth:Pt,write:tn,getHorizontalCoordinate:yr,getVerticalCoordinate:io,getCoordinateString:Fl,getVerticalCoordinateString:so,collections:{},newObject:jn,newAdditionalObject:eo,newObjectDeferred:or,newObjectDeferredBegin:qn,getFilters:fi,putStream:gr,events:rn,scaleFactor:Tt,pageSize:{getWidth:function(){return Na(X)},setWidth:function(x){jr(X,x)},getHeight:function(){return _i(X)},setHeight:function(x){Yo(X,x)}},encryptionOptions:d,encryption:Rn,getEncryptor:function(x){return d!==null?Rn.encryptor(x,0):function(V){return V}},output:di,getNumberOfPages:ki,pages:He,out:oe,f2:C,f3:j,getPageInfo:pi,getPageInfoByObjId:Ko,getCurrentPageInfo:To,getPDFVersion:I,Point:Ns,Rectangle:Po,Matrix:It,hasHotfix:Go},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Na(X)},set:function(x){jr(X,x)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return _i(X)},set:function(x){Yo(X,x)},enumerable:!0,configurable:!0}),(function(x){for(var V=0,ie=Et.length;V<ie;V++){var ce=Ao.call(this,x[V][0],x[V][1],x[V][2],Et[V][3],!0);y===!1&&(_[ce]=!0);var we=x[V][0].split("-");Ka({id:ce,fontName:we[0],fontStyle:we[1]||""})}rn.publish("addFonts",{fonts:ft,dictionary:Vt})}).call(w,Et),xt="F1",_a(i,t),rn.publish("initialized"),w}fh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},fh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},fh.prototype.processOwnerPassword=function(n,e){return Z1(X1(e).substr(0,5),n)},fh.prototype.encryptor=function(n,e){var t=X1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Z1(t,r)}},Cm.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Kn(n)!==Kn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},At.API={events:[]},At.version="3.0.3";var qr=At.API,F2=1,Fc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ah=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(n){return n.toFixed(2)},cu=function(n){return n.toFixed(5)};qr.__acroform__={};var Xs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Px=function(n){return n*F2},Ua=function(n){var e=new rE,t=mt.internal.getHeight(n)||0,r=mt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Jt(r)),Number(Jt(t))],e},J9=qr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},X9=qr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Z9=qr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Yr=qr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Z9(n,e-1)},Qr=qr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return J9(n,e-1)},Jr=qr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return X9(n,e-1)},eF=qr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],a=n[2],u=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(s+u)||0,c.upperRight_X=t(i+a)||0,c.upperRight_Y=r(s)||0,[Number(Jt(c.lowerLeft_X)),Number(Jt(c.lowerLeft_Y)),Number(Jt(c.upperRight_X)),Number(Jt(c.upperRight_Y))]},tF=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=ey(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Jt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ua(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},ey=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var s=t,a=mt.internal.getHeight(n)||0;a=a<0?-a:a;var u=mt.internal.getWidth(n)||0;u=u<0?-u:u;var c=function(C,j,M){if(C+1<i.length){var se=j+" "+i[C+1][0];return Rp(se,n,M).width<=u-4}return!1};s++;e:for(;s>0;){e="",s--;var f,d,y=Rp("3",n,s).height,_=n.multiline?a-s:(a-y)/2,w=_+=2,T=0,I=0,P=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Rp(e,n,s=12).width+", FieldWidth:"+u+`
`;break}for(var F="",Y=0,H=0;H<i.length;H++)if(i.hasOwnProperty(H)){var $=!1;if(i[H].length!==1&&P!==i[H].length-1){if((y+2)*(Y+2)+2>a)continue e;F+=i[H][P],$=!0,I=H,H--}else{F=(F+=i[H][P]+" ").substr(F.length-1)==" "?F.substr(0,F.length-1):F;var ae=parseInt(H),ge=c(ae,F,s),W=H>=i.length-1;if(ge&&!W){F+=" ",P=0;continue}if(ge||W){if(W)I=ae;else if(n.multiline&&(y+2)*(Y+2)+2>a)continue e}else{if(!n.multiline||(y+2)*(Y+2)+2>a)continue e;I=ae}}for(var R="",L=T;L<=I;L++){var q=i[L];if(n.multiline){if(L===I){R+=q[P]+" ",P=(P+1)%q.length;continue}if(L===T){R+=q[q.length-1]+" ";continue}}R+=q[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,d=Rp(R,n,s).width,n.textAlign){case"right":f=u-d-2;break;case"center":f=(u-d)/2;break;default:f=2}e+=Jt(f)+" "+Jt(w)+` Td
`,e+="("+Fc(R)+`) Tj
`,e+=-Jt(f)+` 0 Td
`,w=-(s+2),d=0,T=$?I:I+1,Y++,F=""}break}return r.text=e,r.fontSize=s,r},Rp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},nF={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},rF=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},iF=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ya.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(nF)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");F2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new iE,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&rF(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var u=r[a],c=[],f=u.Rect;if(u.Rect&&(u.Rect=eF(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=mt.createDefaultAppearanceStream(u),Kn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var d=tF(u);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(u.appearanceStreamContent){var y="";for(var _ in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(_)){var w=u.appearanceStreamContent[_];if(y+="/"+_+" ",y+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var a in w)if(w.hasOwnProperty(a)){var T=w[a];typeof T=="function"&&(T=T.call(i,u)),y+="/"+a+" "+T+" ",i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T)}}else typeof(T=w)=="function"&&(T=T.call(i,u)),y+="/"+a+" "+T,i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T);y+=">>"}c.push({key:"AP",value:`<<
`+y+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:u.objId}),i.internal.out("endobj")}s&&(function(I,P){for(var F in I)if(I.hasOwnProperty(F)){var Y=F,H=I[F];P.internal.newObjectDeferredBegin(H.objId,!0),Kn(H)==="object"&&typeof H.putStream=="function"&&H.putStream(),delete I[Y]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},nE=qr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(a){return a};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Kn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Fc(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Y0=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Fc(r(n))+")"},Ba=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ba.prototype.toString=function(){return this.objId+" 0 R"},Ba.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ba.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:nE(i,this.objId,this.scope)}):i instanceof Ba?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var rE=function(){Ba.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Xs(rE,Ba);var iE=function(){Ba.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Fc(t(n))+")"}},set:function(t){n=t}})};Xs(iE,Ba);var ya=function n(){Ba.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute F supplied.');e=F}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yr(e,3)},set:function(F){F?this.F=Qr(e,3):this.F=Jr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute Ff supplied.');t=F}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(F){r=F!==void 0?F:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(F){r[0]=F}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(F){r[1]=F}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(F){r[2]=F}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(F){r[3]=F}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(F){switch(F){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=F;break;default:throw new Error('Invalid value "'+F+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Lm)return;s="FieldObject"+n.FieldNum++}var F=function(Y){return Y};return this.scope&&(F=this.scope.internal.getEncryptor(this.objId)),"("+Fc(F(s))+")"},set:function(F){s=F.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(F){s=F}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(F){a=F}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(F){u=F}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(F){c=F}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/F2:f},set:function(F){f=F}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(F){d=F}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Lm||this instanceof bc))return Y0(y,this.objId,this.scope)},set:function(F){F=F.toString(),y=F}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Ui==0?Y0(_,this.objId,this.scope):_},set:function(F){F=F.toString(),_=this instanceof Ui==0?F.substr(0,1)==="("?ah(F.substr(1,F.length-2)):ah(F):F}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui==1?ah(_.substr(1,_.length-1)):_},set:function(F){F=F.toString(),_=this instanceof Ui==1?"/"+F:F}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(F){this.V=F}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Ui==0?Y0(w,this.objId,this.scope):w},set:function(F){F=F.toString(),w=this instanceof Ui==0?F.substr(0,1)==="("?ah(F.substr(1,F.length-2)):ah(F):F}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui==1?ah(w.substr(1,w.length-1)):w},set:function(F){F=F.toString(),w=this instanceof Ui==1?"/"+F:F}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(F){F=!!F,I=F}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(F){T=F}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,1)},set:function(F){F?this.Ff=Qr(this.Ff,1):this.Ff=Jr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,2)},set:function(F){F?this.Ff=Qr(this.Ff,2):this.Ff=Jr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,3)},set:function(F){F?this.Ff=Qr(this.Ff,3):this.Ff=Jr(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(F){if([0,1,2].indexOf(F)===-1)throw new Error('Invalid value "'+F+'" for attribute Q supplied.');P=F}}),Object.defineProperty(this,"textAlign",{get:function(){var F;switch(P){case 0:default:F="left";break;case 1:F="center";break;case 2:F="right"}return F},configurable:!0,enumerable:!0,set:function(F){switch(F){case"right":case 2:P=2;break;case"center":case 1:P=1;break;default:P=0}}})};Xs(ya,Ba);var Sh=function(){ya.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nE(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(s,a,u){u||(u=1);for(var c,f=[];c=a.exec(s);)f.push(c[u]);return f})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,18)},set:function(t){t?this.Ff=Qr(this.Ff,18):this.Ff=Jr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Qr(this.Ff,19):this.Ff=Jr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,20)},set:function(t){t?(this.Ff=Qr(this.Ff,20),e.sort()):this.Ff=Jr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,22)},set:function(t){t?this.Ff=Qr(this.Ff,22):this.Ff=Jr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,23)},set:function(t){t?this.Ff=Qr(this.Ff,23):this.Ff=Jr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,27)},set:function(t){t?this.Ff=Qr(this.Ff,27):this.Ff=Jr(this.Ff,27)}}),this.hasAppearanceStream=!1};Xs(Sh,ya);var Ah=function(){Sh.call(this),this.fontName="helvetica",this.combo=!1};Xs(Ah,Sh);var Eh=function(){Ah.call(this),this.combo=!0};Xs(Eh,Ah);var Jp=function(){Eh.call(this),this.edit=!0};Xs(Jp,Eh);var Ui=function(){ya.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,15)},set:function(t){t?this.Ff=Qr(this.Ff,15):this.Ff=Jr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,16)},set:function(t){t?this.Ff=Qr(this.Ff,16):this.Ff=Jr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,17)},set:function(t){t?this.Ff=Qr(this.Ff,17):this.Ff=Jr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,26)},set:function(t){t?this.Ff=Qr(this.Ff,26):this.Ff=Jr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Fc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Kn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Xs(Ui,ya);var Xp=function(){Ui.call(this),this.pushButton=!0};Xs(Xp,Ui);var Th=function(){Ui.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Xs(Th,Ui);var Lm=function(){var n,e;ya.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Fc(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Kn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xs(Lm,ya),Th.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Th.prototype.createOption=function(n){var e=new Lm;return e.Parent=this,e.optionName=n,this.Kids.push(e),sF.call(this.scope,e),e};var Zp=function(){Ui.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Xs(Zp,Ui);var bc=function(){ya.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,13)},set:function(e){e?this.Ff=Qr(this.Ff,13):this.Ff=Jr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,21)},set:function(e){e?this.Ff=Qr(this.Ff,21):this.Ff=Jr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,23)},set:function(e){e?this.Ff=Qr(this.Ff,23):this.Ff=Jr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,24)},set:function(e){e?this.Ff=Qr(this.Ff,24):this.Ff=Jr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,25)},set:function(e){e?this.Ff=Qr(this.Ff,25):this.Ff=Jr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,26)},set:function(e){e?this.Ff=Qr(this.Ff,26):this.Ff=Jr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xs(bc,ya);var em=function(){bc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,14)},set:function(n){n?this.Ff=Qr(this.Ff,14):this.Ff=Jr(this.Ff,14)}}),this.password=!0};Xs(em,bc);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ua(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=ey(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Jt(mt.internal.getWidth(n))+" "+Jt(mt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Jt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ua(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=mt.internal.getHeight(n),a=mt.internal.getWidth(n),u=ey(n,n.caption);return i.push("1 g"),i.push("0 0 "+Jt(a)+" "+Jt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Jt(a-1)+" "+Jt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Jt(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Ua(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jt(mt.internal.getWidth(n))+" "+Jt(mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=mt.RadioButton.Circle.YesNormal,e.D[n]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ua(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=mt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+cu(mt.internal.getWidth(n)/2)+" "+cu(mt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ua(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*mt.internal.Bezier_C).toFixed(5)),a=Number((r*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+cu(mt.internal.getWidth(n)/2)+" "+cu(mt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+cu(mt.internal.getWidth(n)/2)+" "+cu(mt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ua(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+cu(mt.internal.getWidth(n)/2)+" "+cu(mt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=mt.RadioButton.Cross.YesNormal,e.D[n]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ua(n);e.scope=n.scope;var t=[],r=mt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Jt(mt.internal.getWidth(n)-2)+" "+Jt(mt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Jt(r.x1.x)+" "+Jt(r.x1.y)+" m"),t.push(Jt(r.x2.x)+" "+Jt(r.x2.y)+" l"),t.push(Jt(r.x4.x)+" "+Jt(r.x4.y)+" m"),t.push(Jt(r.x3.x)+" "+Jt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ua(n);e.scope=n.scope;var t=mt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(mt.internal.getWidth(n))+" "+Jt(mt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Jt(mt.internal.getWidth(n)-2)+" "+Jt(mt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Jt(t.x1.x)+" "+Jt(t.x1.y)+" m"),r.push(Jt(t.x2.x)+" "+Jt(t.x2.y)+" l"),r.push(Jt(t.x4.x)+" "+Jt(t.x4.y)+" m"),r.push(Jt(t.x3.x)+" "+Jt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ua(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jt(mt.internal.getWidth(n))+" "+Jt(mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};mt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=mt.internal.getWidth(n),t=mt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},mt.internal.getWidth=function(n){var e=0;return Kn(n)==="object"&&(e=Px(n.Rect[2])),e},mt.internal.getHeight=function(n){var e=0;return Kn(n)==="object"&&(e=Px(n.Rect[3])),e};var sF=qr.addField=function(n){if(iF(this,n),!(n instanceof ya))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};qr.AcroFormChoiceField=Sh,qr.AcroFormListBox=Ah,qr.AcroFormComboBox=Eh,qr.AcroFormEditBox=Jp,qr.AcroFormButton=Ui,qr.AcroFormPushButton=Xp,qr.AcroFormRadioButton=Th,qr.AcroFormCheckBox=Zp,qr.AcroFormTextField=bc,qr.AcroFormPasswordField=em,qr.AcroFormAppearance=mt,qr.AcroForm={ChoiceField:Sh,ListBox:Ah,ComboBox:Eh,EditBox:Jp,Button:Ui,PushButton:Xp,RadioButton:Th,CheckBox:Zp,TextField:bc,PasswordField:em,Appearance:mt},At.AcroForm={ChoiceField:Sh,ListBox:Ah,ComboBox:Eh,EditBox:Jp,Button:Ui,PushButton:Xp,RadioButton:Th,CheckBox:Zp,TextField:bc,PasswordField:em,Appearance:mt};At.AcroForm;function sE(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(C,j){var M,se,Se,xe,Ee,ee=t;if((j=j||t)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(ge(C))for(Ee in r)for(Se=r[Ee],M=0;M<Se.length;M+=1){for(xe=!0,se=0;se<Se[M].length;se+=1)if(Se[M][se]!==void 0&&Se[M][se]!==C[se]){xe=!1;break}if(xe===!0){ee=Ee;break}}else for(Ee in r)for(Se=r[Ee],M=0;M<Se.length;M+=1){for(xe=!0,se=0;se<Se[M].length;se+=1)if(Se[M][se]!==void 0&&Se[M][se]!==C.charCodeAt(se)){xe=!1;break}if(xe===!0){ee=Ee;break}}return ee===t&&j!==t&&(ee=j),ee},s=function C(j){for(var M=this.internal.write,se=this.internal.putStream,Se=(0,this.internal.getFilters)();Se.indexOf("FlateEncode")!==-1;)Se.splice(Se.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var xe=[];if(xe.push({key:"Type",value:"/XObject"}),xe.push({key:"Subtype",value:"/Image"}),xe.push({key:"Width",value:j.width}),xe.push({key:"Height",value:j.height}),j.colorSpace===F.INDEXED?xe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(xe.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===F.DEVICE_CMYK&&xe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),xe.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&xe.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var Ee="",ee=0,he=j.transparency.length;ee<he;ee++)Ee+=j.transparency[ee]+" "+j.transparency[ee]+" ";xe.push({key:"Mask",value:"["+Ee+"]"})}j.sMask!==void 0&&xe.push({key:"SMask",value:j.objectId+1+" 0 R"});var _e=j.filter!==void 0?["/"+j.filter]:void 0;if(se({data:j.data,additionalKeyValues:xe,alreadyAppliedFilters:_e,objectId:j.objectId}),M("endobj"),"sMask"in j&&j.sMask!==void 0){var Q,D=(Q=j.sMaskBitsPerComponent)!==null&&Q!==void 0?Q:j.bitsPerComponent,X={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:j.sMask};"filter"in j&&(X.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(j.width),X.filter=j.filter),C.call(this,X)}if(j.colorSpace===F.INDEXED){var ne=this.internal.newObject();se({data:R(new Uint8Array(j.palette)),objectId:ne}),M("endobj")}},a=function(){var C=this.internal.collections[e+"images"];for(var j in C)s.call(this,C[j])},u=function(){var C,j=this.internal.collections[e+"images"],M=this.internal.write;for(var se in j)M("/I"+(C=j[se]).index,C.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var C=this.internal.collections[e+"images"];return c.call(this),C},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(C){return typeof n["process"+C.toUpperCase()]=="function"},_=function(C){return Kn(C)==="object"&&C.nodeType===1},w=function(C,j){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var M=""+C.getAttribute("src");if(M.indexOf("data:image/")===0)return Qp(unescape(M).split("base64,").pop());var se=n.loadFile(M,!0);if(se!==void 0)return se}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var Se;switch(j){case"PNG":Se="image/png";break;case"WEBP":Se="image/webp";break;default:Se="image/jpeg"}return Qp(C.toDataURL(Se,1).split("base64,").pop())}},T=function(C){var j=this.internal.collections[e+"images"];if(j){for(var M in j)if(C===j[M].alias)return j[M]}},I=function(C,j,M){return C||j||(C=-96,j=-96),C<0&&(C=-1*M.width*72/C/this.internal.scaleFactor),j<0&&(j=-1*M.height*72/j/this.internal.scaleFactor),C===0&&(C=j*M.width/M.height),j===0&&(j=C*M.height/M.width),[C,j]},P=function(C,j,M,se,Se,xe){var Ee=I.call(this,M,se,Se),ee=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,_e=f.call(this);if(M=Ee[0],se=Ee[1],_e[Se.index]=Se,xe){xe*=Math.PI/180;var Q=Math.cos(xe),D=Math.sin(xe),X=function(ue){return ue.toFixed(4)},ne=[X(Q),X(D),X(-1*D),X(Q),0,0,"cm"]}this.internal.write("q"),xe?(this.internal.write([1,"0","0",1,ee(C),he(j+se),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([ee(M),"0","0",ee(se),"0","0","cm"].join(" "))):this.internal.write([ee(M),"0","0",ee(se),ee(C),he(j+se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Se.index+" Do"),this.internal.write("Q")},F=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Y=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},H=n.__addimage__.sHashCode=function(C){var j,M,se=0;if(typeof C=="string")for(M=C.length,j=0;j<M;j++)se=(se<<5)-se+C.charCodeAt(j),se|=0;else if(ge(C))for(M=C.byteLength/2,j=0;j<M;j++)se=(se<<5)-se+C[j],se|=0;return se},$=n.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var j=!0;return C.length===0&&(j=!1),C.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(j=!1),j},ae=n.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var j=C.indexOf(",");return j<0?null:C.substring(0,j).trim().endsWith("base64")?C.substring(j+1):null};n.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var ge=n.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},W=n.__addimage__.binaryStringToUint8Array=function(C){for(var j=C.length,M=new Uint8Array(j),se=0;se<j;se++)M[se]=C.charCodeAt(se);return M},R=n.__addimage__.arrayBufferToBinaryString=function(C){for(var j="",M=ge(C)?C:new Uint8Array(C),se=0;se<M.length;se+=8192)j+=String.fromCharCode.apply(null,M.subarray(se,se+8192));return j};n.addImage=function(){var C,j,M,se,Se,xe,Ee,ee,he;if(typeof arguments[1]=="number"?(j=t,M=arguments[1],se=arguments[2],Se=arguments[3],xe=arguments[4],Ee=arguments[5],ee=arguments[6],he=arguments[7]):(j=arguments[1],M=arguments[2],se=arguments[3],Se=arguments[4],xe=arguments[5],Ee=arguments[6],ee=arguments[7],he=arguments[8]),Kn(C=arguments[0])==="object"&&!_(C)&&"imageData"in C){var _e=C;C=_e.imageData,j=_e.format||j||t,M=_e.x||M||0,se=_e.y||se||0,Se=_e.w||_e.width||Se,xe=_e.h||_e.height||xe,Ee=_e.alias||Ee,ee=_e.compression||ee,he=_e.rotation||_e.angle||he}var Q=this.internal.getFilters();if(ee===void 0&&Q.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(M)||isNaN(se))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var D=L.call(this,C,j,Ee,ee);return P.call(this,M,se,Se,xe,D,he),this};var L=function(C,j,M,se){var Se,xe,Ee;if(typeof C=="string"&&i(C)===t){C=unescape(C);var ee=q(C,!1);(ee!==""||(ee=n.loadFile(C,!0))!==void 0)&&(C=ee)}if(_(C)&&(C=w(C,j)),j=i(C,j),!y(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((Ee=M)==null||Ee.length===0)&&(M=(function(he){return typeof he=="string"||ge(he)?H(he):ge(he.data)?H(he.data):null})(C)),(Se=T.call(this,M))||(C instanceof Uint8Array||j==="RGBA"||(xe=C,C=W(C)),Se=this["process"+j.toUpperCase()](C,d.call(this),M,(function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in n.image_compression?he:Y.NONE})(se),xe)),!Se)throw new Error("An unknown error occurred whilst processing the image.");return Se},q=n.__addimage__.convertBase64ToBinaryString=function(C,j){j=typeof j!="boolean"||j;var M,se="";if(typeof C=="string"){var Se;M=(Se=ae(C))!==null&&Se!==void 0?Se:C;try{se=Qp(M)}catch(xe){if(j)throw $(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+xe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};n.getImageProperties=function(C){var j,M,se="";if(_(C)&&(C=w(C)),typeof C=="string"&&i(C)===t&&((se=q(C,!1))===""&&(se=n.loadFile(C)||""),C=se),M=i(C),!y(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(C instanceof Uint8Array||(C=W(C)),!(j=this["process"+M.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=M,j}})(At.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};At.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,a=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,d=!1,y=0;y<f.length&&!d;y++)switch((r=f[y]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var _=0;_<f.length;_++){r=f[_];var w=this.internal.pdfEscape,T=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),F=this.internal.getEncryptor(I.objId),Y=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+w(F(r.contents))+")",s+=" /Popup "+P.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+w(F(Y))+") >>",I.content=s;var H=I.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+H,r.open&&(s+=" /Open true"),s+=" >>",P.content=s,this.internal.write(I.objId,"0 R",P.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+u(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var $=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+w(T(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+$+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ae=this.annotations._nameMap[r.options.name];r.options.pageNumber=ae.page,r.options.top=ae.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+w(T(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var ge=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ge+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,a){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(t),y:f(r),w:c(t+i),h:f(r+s)},options:a,type:"link"})},n.textWithLink=function(t,r,i,s){var a,u,c=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var d=this.splitTextToSize(t,u).length;a=Math.ceil(f*d)}else u=c,a=f;return this.text(t,r,i,s),i+=.2*f,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-f,u,a,s),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(At.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(I){return e[I.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},u=n.__arabicParser__.isArabicEndLetter=function(I){return a(I)&&s(I)&&e[I.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(I){return a(I)&&i.indexOf(I.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return a(I)&&s(I)&&e[I.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(I){return a(I)&&s(I)&&e[I.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(I){return a(I)&&s(I)&&e[I.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(I){return a(I)&&s(I)&&e[I.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(I){var P=0,F=t,Y="",H=0;for(P=0;P<I.length;P+=1)F[I.charCodeAt(P)]!==void 0?(H++,typeof(F=F[I.charCodeAt(P)])=="number"&&(Y+=String.fromCharCode(F),F=t,H=0),P===I.length-1&&(F=t,Y+=I.charAt(P-(H-1)),P-=H-1,H=0)):(F=t,Y+=I.charAt(P-H),P-=H,H=0);return Y};n.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&r[I.charCodeAt(0)]!==void 0};var _=n.__arabicParser__.getCorrectForm=function(I,P,F){return a(I)?s(I)===!1?-1:!f(I)||!a(P)&&!a(F)||!a(F)&&u(P)||u(I)&&!a(P)||u(I)&&c(P)||u(I)&&u(P)?0:d(I)&&a(P)&&!u(P)&&a(F)&&f(F)?3:u(I)||!a(F)?1:2:-1},w=function(I){var P=0,F=0,Y=0,H="",$="",ae="",ge=(I=I||"").split("\\s+"),W=[];for(P=0;P<ge.length;P+=1){for(W.push(""),F=0;F<ge[P].length;F+=1)H=ge[P][F],$=ge[P][F-1],ae=ge[P][F+1],a(H)?(Y=_(H,$,ae),W[P]+=Y!==-1?String.fromCharCode(e[H.charCodeAt(0)][Y]):H):W[P]+=H;W[P]=y(W[P])}return W.join(" ")},T=n.__arabicParser__.processArabic=n.processArabic=function(){var I,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,F=[];if(Array.isArray(P)){var Y=0;for(F=[],Y=0;Y<P.length;Y+=1)Array.isArray(P[Y])?F.push([w(P[Y][0]),P[Y][1],P[Y][2]]):F.push([w(P[Y])]);I=F}else I=w(P);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};n.events.push(["preProcessText",T])})(At.API),At.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(u){a=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(At.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(I){c=I}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(I){d=I}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(I){y=I}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(I){_=I}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(I){w=I}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(I){T=I}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,f){r.call(this);var d=(f=f||{}).fontSize||this.getFontSize(),y=f.font||this.getFont(),_=f.scaleFactor||this.internal.scaleFactor,w=0,T=0,I=0,P=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var F=f.maxWidth;F>0?typeof c=="string"?c=this.splitTextToSize(c,F):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(H,$){return H.concat(P.splitTextToSize($,F))},[])):c=Array.isArray(c)?c:[c];for(var Y=0;Y<c.length;Y++)w<(I=this.getStringUnitWidth(c[Y],{font:y})*d)&&(w=I);return w!==0&&(T=c.length),{w:w/=_,h:Math.max((T*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/_,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=y.top,w&&_&&(this.printHeaderRow(c.lineNumber,!0),c.y+=_[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};n.table=function(c,f,d,y,_){if(r.call(this),!d)throw new Error("No data for PDF table.");var w,T,I,P,F=[],Y=[],H=[],$={},ae={},ge=[],W=[],R=(_=_||{}).autoSize||!1,L=_.printHeaders!==!1,q=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,C=_.margins||Object.assign({width:this.getPageWidth()},e),j=typeof _.padding=="number"?_.padding:3,M=_.headerBackgroundColor||"#c8c8c8",se=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=se,this.setFontSize(q),y==null)Y=F=Object.keys(d[0]),H=F.map(function(){return"left"});else if(Array.isArray(y)&&Kn(y[0])==="object")for(F=y.map(function(_e){return _e.name}),Y=y.map(function(_e){return _e.prompt||_e.name||""}),H=y.map(function(_e){return _e.align||"left"}),w=0;w<y.length;w+=1)ae[y[w].name]=.7499990551181103*y[w].width;else Array.isArray(y)&&typeof y[0]=="string"&&(Y=F=y,H=F.map(function(){return"left"}));if(R||Array.isArray(y)&&typeof y[0]=="string")for(w=0;w<F.length;w+=1){for($[P=F[w]]=d.map(function(_e){return _e[P]}),this.setFont(void 0,"bold"),ge.push(this.getTextDimensions(Y[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=$[P],this.setFont(void 0,"normal"),I=0;I<T.length;I+=1)ge.push(this.getTextDimensions(T[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ae[P]=Math.max.apply(null,ge)+j+j,ge=[]}if(L){var Se={};for(w=0;w<F.length;w+=1)Se[F[w]]={},Se[F[w]].text=Y[w],Se[F[w]].align=H[w];var xe=u.call(this,Se,ae);W=F.map(function(_e){return new s(c,f,ae[_e],xe,Se[_e].text,void 0,Se[_e].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var Ee=y.reduce(function(_e,Q){return _e[Q.name]=Q.align,_e},{});for(w=0;w<d.length;w+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:w,data:d[w]},this);var ee=u.call(this,d[w],ae);for(I=0;I<F.length;I+=1){var he=d[w][F[I]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:w,col:I,data:he},this),a.call(this,new s(c,f,ae[F[I]],ee,he,w+2,Ee[F[I]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var u=function(c,f){var d=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(c).map(function(w){var T=c[w];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,f[w]-d-d)},this).map(function(w){return this.getLineHeightFactor()*w.length*y/_+d+d},this).reduce(function(w,T){return Math.max(w,T)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){d=this.internal.__cell__.tableHeaderRow[w].clone(),f&&(d.y=this.internal.__cell__.margins.top||0,_.push(d)),d.lineNumber=c;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(T)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}})(At.API);var oE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},aE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ty=sE(aE),lE=[100,200,300,400,500,600,700,800,900],oF=sE(lE);function Q0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return oE[s=s||"normal"]?s:"normal"})(n.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),i=(function(s){return typeof ty[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function kx(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var aF={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Cx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Lx(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Rx(n){return n.trimLeft()}function lF(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function uF(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Dp,Dx,Ox,lh,Op,jx,Mx,Fx,J0=["times"];function Vx(n,e,t,r,i){var s=4,a=Bx;switch(i){case At.API.image_compression.FAST:s=1,a=Ux;break;case At.API.image_compression.MEDIUM:s=6,a=qx;break;case At.API.image_compression.SLOW:s=9,a=zx}n=(function(c,f,d,y){for(var _,w=c.length/f,T=new Uint8Array(c.length+w),I=[cF,Ux,Bx,qx,zx],P=0;P<w;P+=1){var F=P*f,Y=c.subarray(F,F+f);if(y)T.set(y(Y,d,_),F+P);else{for(var H=I.length,$=[],ae=0;ae<H;ae+=1)$[ae]=I[ae](Y,d,_);var ge=fF($.concat());T.set($[ge],F+P)}_=Y}return T})(n,e,Math.ceil(t*r/8),a);var u=K1(n,{level:s});return At.API.__addimage__.arrayBufferToBinaryString(u)}function cF(n){var e=Array.apply([],n);return e.unshift(0),e}function Ux(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function Bx(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=t&&t[s]||0;i[s+1]=n[s]-a+256&255}return i}function qx(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=n[s-e]||0,u=t&&t[s]||0;i[s+1]=n[s]+256-(a+u>>>1)&255}return i}function zx(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=hF(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-a+256&255}return i}function hF(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function fF(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function X0(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),a=(1<<t)-1;return uE(n,i)>>s&a}function Hx(n,e,t,r){var i=t*r,s=Math.floor(i/8),a=16-(i-8*s+r),u=(1<<r)-1,c=(e&u)<<a;(function(f,d,y){if(d+1<f.byteLength)f.setUint16(d,y,!1);else{var _=y>>8&255;f.setUint8(d,_)}})(n,s,uE(n,s)&~(u<<a)&65535|c)}function uE(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function dF(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,a=1<<1+(7&i);n[e++],n[e++];var u=null,c=null;s&&(u=e,c=a,e+=3*a);var f=!0,d=[],y=0,_=null,w=0,T=null;for(this.width=t,this.height=r;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,T=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var I=n[e++];y=n[e++]|n[e++]<<8,_=n[e++],1&I||(_=null),w=I>>2&7,e++;break;case 254:for(;;){if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var P=n[e++]|n[e++]<<8,F=n[e++]|n[e++]<<8,Y=n[e++]|n[e++]<<8,H=n[e++]|n[e++]<<8,$=n[e++],ae=$>>6&1,ge=1<<1+(7&$),W=u,R=c,L=!1;$>>7&&(L=!0,W=e,R=ge,e+=3*ge);var q=e;for(e++;;){var C;if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}d.push({x:P,y:F,width:Y,height:H,has_local_palette:L,palette_offset:W,palette_size:R,data_offset:q,data_length:e-q,transparent_index:_,interlaced:!!ae,delay:y,disposal:w});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return T},this.frameInfo=function(j){if(j<0||j>=d.length)throw new Error("Frame index out of range.");return d[j]},this.decodeAndBlitFrameBGRA=function(j,M){var se=this.frameInfo(j),Se=se.width*se.height,xe=new Uint8Array(Se);$x(n,se.data_offset,xe,Se);var Ee=se.palette_offset,ee=se.transparent_index;ee===null&&(ee=256);var he=se.width,_e=t-he,Q=he,D=4*(se.y*t+se.x),X=4*((se.y+se.height)*t+se.x),ne=D,ue=4*_e;se.interlaced===!0&&(ue+=4*t*7);for(var fe=8,ve=0,Ne=xe.length;ve<Ne;++ve){var Te=xe[ve];if(Q===0&&(Q=he,(ne+=ue)>=X&&(ue=4*_e+4*t*(fe-1),ne=D+(he+_e)*(fe<<1),fe>>=1)),Te===ee)ne+=4;else{var je=n[Ee+3*Te],He=n[Ee+3*Te+1],nt=n[Ee+3*Te+2];M[ne++]=nt,M[ne++]=He,M[ne++]=je,M[ne++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(j,M){var se=this.frameInfo(j),Se=se.width*se.height,xe=new Uint8Array(Se);$x(n,se.data_offset,xe,Se);var Ee=se.palette_offset,ee=se.transparent_index;ee===null&&(ee=256);var he=se.width,_e=t-he,Q=he,D=4*(se.y*t+se.x),X=4*((se.y+se.height)*t+se.x),ne=D,ue=4*_e;se.interlaced===!0&&(ue+=4*t*7);for(var fe=8,ve=0,Ne=xe.length;ve<Ne;++ve){var Te=xe[ve];if(Q===0&&(Q=he,(ne+=ue)>=X&&(ue=4*_e+4*t*(fe-1),ne=D+(he+_e)*(fe<<1),fe>>=1)),Te===ee)ne+=4;else{var je=n[Ee+3*Te],He=n[Ee+3*Te+1],nt=n[Ee+3*Te+2];M[ne++]=je,M[ne++]=He,M[ne++]=nt,M[ne++]=255}--Q}}}function $x(n,e,t,r){for(var i=n[e++],s=1<<i,a=s+1,u=a+1,c=i+1,f=(1<<c)-1,d=0,y=0,_=0,w=n[e++],T=new Int32Array(4096),I=null;;){for(;d<16&&w!==0;)y|=n[e++]<<d,d+=8,w===1?w=n[e++]:--w;if(d<c)break;var P=y&f;if(y>>=c,d-=c,P!==s){if(P===a)break;for(var F=P<u?P:I,Y=0,H=F;H>s;)H=T[H]>>8,++Y;var $=H;if(_+Y+(F!==P?1:0)>r)return void tr.log("Warning, gif stream longer than expected.");t[_++]=$;var ae=_+=Y;for(F!==P&&(t[_++]=$),H=F;Y--;)H=T[H],t[--ae]=255&H,H>>=8;I!==null&&u<4096&&(T[u++]=I<<8|$,u>=f+1&&c<12&&(++c,f=f<<1|1)),I=P}else u=a+1,f=(1<<(c=i+1))-1,I=null}return _!==r&&tr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Z0(n){var e,t,r,i,s,a=Math.floor,u=new Array(64),c=new Array(64),f=new Array(64),d=new Array(64),y=new Array(65535),_=new Array(65535),w=new Array(64),T=new Array(64),I=[],P=0,F=7,Y=new Array(64),H=new Array(64),$=new Array(64),ae=new Array(256),ge=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function xe(D,X){for(var ne=0,ue=0,fe=new Array,ve=1;ve<=16;ve++){for(var Ne=1;Ne<=D[ve];Ne++)fe[X[ue]]=[],fe[X[ue]][0]=ne,fe[X[ue]][1]=ve,ue++,ne++;ne*=2}return fe}function Ee(D){for(var X=D[0],ne=D[1]-1;ne>=0;)X&1<<ne&&(P|=1<<F),ne--,--F<0&&(P==255?(ee(255),ee(0)):ee(P),F=7,P=0)}function ee(D){I.push(D)}function he(D){ee(D>>8&255),ee(255&D)}function _e(D,X,ne,ue,fe){for(var ve,Ne=fe[0],Te=fe[240],je=(function(Ye,ut){var et,zt,_t,un,Ft,gt,Ht,Lt,xt,Tt,yt=0;for(xt=0;xt<8;++xt){et=Ye[yt],zt=Ye[yt+1],_t=Ye[yt+2],un=Ye[yt+3],Ft=Ye[yt+4],gt=Ye[yt+5],Ht=Ye[yt+6];var _n=et+(Lt=Ye[yt+7]),pn=et-Lt,ft=zt+Ht,Vt=zt-Ht,bn=_t+gt,Nt=_t-gt,en=un+Ft,Mt=un-Ft,Qn=_n+en,In=_n-en,cn=ft+bn,Rt=ft-bn;Ye[yt]=Qn+cn,Ye[yt+4]=Qn-cn;var rn=.707106781*(Rt+In);Ye[yt+2]=In+rn,Ye[yt+6]=In-rn;var Zs=.382683433*((Qn=Mt+Nt)-(Rt=Vt+pn)),pr=.5411961*Qn+Zs,Es=1.306562965*Rt+Zs,ti=.707106781*(cn=Nt+Vt),It=pn+ti,Ln=pn-ti;Ye[yt+5]=Ln+pr,Ye[yt+3]=Ln-pr,Ye[yt+1]=It+Es,Ye[yt+7]=It-Es,yt+=8}for(yt=0,xt=0;xt<8;++xt){et=Ye[yt],zt=Ye[yt+8],_t=Ye[yt+16],un=Ye[yt+24],Ft=Ye[yt+32],gt=Ye[yt+40],Ht=Ye[yt+48];var Zi=et+(Lt=Ye[yt+56]),mr=et-Lt,ni=zt+Ht,jn=zt-Ht,or=_t+gt,qn=_t-gt,eo=un+Ft,xo=un-Ft,Ii=Zi+eo,Ts=Zi-eo,Tr=ni+or,fi=ni-or;Ye[yt]=Ii+Tr,Ye[yt+32]=Ii-Tr;var gr=.707106781*(fi+Ts);Ye[yt+16]=Ts+gr,Ye[yt+48]=Ts-gr;var bo=.382683433*((Ii=xo+qn)-(fi=jn+mr)),es=.5411961*Ii+bo,Os=1.306562965*fi+bo,to=.707106781*(Tr=qn+jn),So=mr+to,$o=mr-to;Ye[yt+40]=$o+es,Ye[yt+24]=$o-es,Ye[yt+8]=So+Os,Ye[yt+56]=So-Os,yt++}for(xt=0;xt<64;++xt)Tt=Ye[xt]*ut[xt],w[xt]=Tt>0?Tt+.5|0:Tt-.5|0;return w})(D,X),He=0;He<64;++He)T[W[He]]=je[He];var nt=T[0]-ne;ne=T[0],nt==0?Ee(ue[0]):(Ee(ue[_[ve=32767+nt]]),Ee(y[ve]));for(var rt=63;rt>0&&T[rt]==0;)rt--;if(rt==0)return Ee(Ne),ne;for(var Fe,oe=1;oe<=rt;){for(var tn=oe;T[oe]==0&&oe<=rt;)++oe;var qt=oe-tn;if(qt>=16){Fe=qt>>4;for(var Et=1;Et<=Fe;++Et)Ee(Te);qt&=15}ve=32767+T[oe],Ee(fe[(qt<<4)+_[ve]]),Ee(y[ve]),oe++}return rt!=63&&Ee(Ne),ne}function Q(D){D=Math.min(Math.max(D,1),100),s!=D&&((function(X){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var fe=a((ne[ue]*X+50)/100);fe=Math.min(Math.max(fe,1),255),u[W[ue]]=fe}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var Te=a((ve[Ne]*X+50)/100);Te=Math.min(Math.max(Te,1),255),c[W[Ne]]=Te}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,nt=0;nt<8;nt++)for(var rt=0;rt<8;rt++)f[He]=1/(u[W[He]]*je[nt]*je[rt]*8),d[He]=1/(c[W[He]]*je[nt]*je[rt]*8),He++})(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,X){X&&Q(X),I=new Array,P=0,F=7,he(65496),he(65504),he(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),he(1),he(1),ee(0),ee(0),(function(){he(65499),he(132),ee(0);for(var zt=0;zt<64;zt++)ee(u[zt]);ee(1);for(var _t=0;_t<64;_t++)ee(c[_t])})(),(function(zt,_t){he(65472),he(17),ee(8),he(_t),he(zt),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)})(D.width,D.height),(function(){he(65476),he(418),ee(0);for(var zt=0;zt<16;zt++)ee(R[zt+1]);for(var _t=0;_t<=11;_t++)ee(L[_t]);ee(16);for(var un=0;un<16;un++)ee(q[un+1]);for(var Ft=0;Ft<=161;Ft++)ee(C[Ft]);ee(1);for(var gt=0;gt<16;gt++)ee(j[gt+1]);for(var Ht=0;Ht<=11;Ht++)ee(M[Ht]);ee(17);for(var Lt=0;Lt<16;Lt++)ee(se[Lt+1]);for(var xt=0;xt<=161;xt++)ee(Se[xt])})(),he(65498),he(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var ne=0,ue=0,fe=0;P=0,F=7,this.encode.displayName="_encode_";for(var ve,Ne,Te,je,He,nt,rt,Fe,oe,tn=D.data,qt=D.width,Et=D.height,Ye=4*qt,ut=0;ut<Et;){for(ve=0;ve<Ye;){for(He=Ye*ut+ve,rt=-1,Fe=0,oe=0;oe<64;oe++)nt=He+(Fe=oe>>3)*Ye+(rt=4*(7&oe)),ut+Fe>=Et&&(nt-=Ye*(ut+1+Fe-Et)),ve+rt>=Ye&&(nt-=ve+rt-Ye+4),Ne=tn[nt++],Te=tn[nt++],je=tn[nt++],Y[oe]=(ge[Ne]+ge[Te+256|0]+ge[je+512|0]>>16)-128,H[oe]=(ge[Ne+768|0]+ge[Te+1024|0]+ge[je+1280|0]>>16)-128,$[oe]=(ge[Ne+1280|0]+ge[Te+1536|0]+ge[je+1792|0]>>16)-128;ne=_e(Y,f,ne,e,r),ue=_e(H,d,ue,t,i),fe=_e($,d,fe,t,i),ve+=32}ut+=8}if(F>=0){var et=[];et[1]=F+1,et[0]=(1<<F+1)-1,Ee(et)}return he(65497),new Uint8Array(I)},n=n||50,(function(){for(var D=String.fromCharCode,X=0;X<256;X++)ae[X]=D(X)})(),e=xe(R,L),t=xe(j,M),r=xe(q,C),i=xe(se,Se),(function(){for(var D=1,X=2,ne=1;ne<=15;ne++){for(var ue=D;ue<X;ue++)_[32767+ue]=ne,y[32767+ue]=[],y[32767+ue][1]=ne,y[32767+ue][0]=ue;for(var fe=-(X-1);fe<=-D;fe++)_[32767+fe]=ne,y[32767+fe]=[],y[32767+fe][1]=ne,y[32767+fe][0]=X-1+fe;D<<=1,X<<=1}})(),(function(){for(var D=0;D<256;D++)ge[D]=19595*D,ge[D+256|0]=38470*D,ge[D+512|0]=7471*D+32768,ge[D+768|0]=-11059*D,ge[D+1024|0]=-21709*D,ge[D+1280|0]=32768*D+8421375,ge[D+1536|0]=-27439*D,ge[D+1792|0]=-5329*D})(),Q(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ca(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Wx(n){function e(L){if(!L)throw Error("assert :P")}function t(L,q,C){for(var j=0;4>j;j++)if(L[q+j]!=C.charCodeAt(j))return!0;return!1}function r(L,q,C,j,M){for(var se=0;se<M;se++)L[q+se]=C[j+se]}function i(L,q,C,j){for(var M=0;M<j;M++)L[q+M]=C}function s(L){return new Int32Array(L)}function a(L,q){for(var C=[],j=0;j<L;j++)C.push(new q);return C}function u(L,q){var C=[];return(function j(M,se,Se){for(var xe=Se[se],Ee=0;Ee<xe&&(M.push(Se.length>se+1?[]:new q),!(Se.length<se+1));Ee++)j(M[Ee],se+1,Se)})(C,0,L),C}var c=function(){var L=this;function q(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function C(p,v,S,k,U){e(!(k%S));do p[v+(k-=S)]=U;while(0<k)}function j(p,v,S,k,U){if(e(2328>=U),512>=U)var z=s(512);else if((z=s(U))==null)return 0;return(function(G,K,Z,te,de,Ie){var re,me,Ae=K,Ue=1<<Z,ke=s(16),Me=s(16);for(e(de!=0),e(te!=null),e(G!=null),e(0<Z),me=0;me<de;++me){if(15<te[me])return 0;++ke[te[me]]}if(ke[0]==de)return 0;for(Me[1]=0,re=1;15>re;++re){if(ke[re]>1<<re)return 0;Me[re+1]=Me[re]+ke[re]}for(me=0;me<de;++me)re=te[me],0<te[me]&&(Ie[Me[re]++]=me);if(Me[15]==1)return(te=new M).g=0,te.value=Ie[0],C(G,Ae,1,Ue,te),Ue;var Ve,qe=-1,ze=Ue-1,bt=0,ot=1,Yt=1,ht=1<<Z;for(me=0,re=1,de=2;re<=Z;++re,de<<=1){if(ot+=Yt<<=1,0>(Yt-=ke[re]))return 0;for(;0<ke[re];--ke[re])(te=new M).g=re,te.value=Ie[me++],C(G,Ae+bt,de,ht,te),bt=q(bt,re)}for(re=Z+1,de=2;15>=re;++re,de<<=1){if(ot+=Yt<<=1,0>(Yt-=ke[re]))return 0;for(;0<ke[re];--ke[re]){if(te=new M,(bt&ze)!=qe){for(Ae+=ht,Ve=1<<(qe=re)-Z;15>qe&&!(0>=(Ve-=ke[qe]));)++qe,Ve<<=1;Ue+=ht=1<<(Ve=qe-Z),G[K+(qe=bt&ze)].g=Ve+Z,G[K+qe].value=Ae-K-qe}te.g=re-Z,te.value=Ie[me++],C(G,Ae+(bt>>Z),de,ht,te),bt=q(bt,re)}}return ot!=2*Me[15]-1?0:Ue})(p,v,S,k,U,z)}function M(){this.value=this.g=0}function se(){this.value=this.g=0}function Se(){this.G=a(5,M),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Us,se)}function xe(p,v,S,k){e(p!=null),e(v!=null),e(2147483648>k),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+k,p.Zc=4<=k?S+k-4+1:S,Ne(p)}function Ee(p,v){for(var S=0;0<v--;)S|=je(p,128)<<v;return S}function ee(p,v){var S=Ee(p,v);return Te(p)?-S:S}function he(p,v,S,k){var U,z=0;for(e(p!=null),e(v!=null),e(4294967288>k),p.Sb=k,p.Ra=0,p.u=0,p.h=0,4<k&&(k=4),U=0;U<k;++U)z+=v[S+U]<<8*U;p.Ra=z,p.bb=k,p.oa=v,p.pa=S}function _e(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ia-8>>>0,++p.bb,p.u-=8;ue(p)&&(p.h=1,p.u=0)}function Q(p,v){if(e(0<=v),!p.h&&v<=Ps){var S=ne(p)&Is[v];return p.u+=v,_e(p),S}return p.h=1,p.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(p){return p.Ra>>>(p.u&Ia-1)>>>0}function ue(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ia}function fe(p,v){p.u=v,p.h=ue(p)}function ve(p){p.u>=Co&&(e(p.u>=Co),_e(p))}function Ne(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Te(p){return Ee(p,1)}function je(p,v){var S=p.Ca;0>p.b&&Ne(p);var k=p.b,U=S*v>>>8,z=(p.I>>>k>U)+0;for(z?(S-=U,p.I-=U+1<<k>>>0):S=U+1,k=S,U=0;256<=k;)U+=8,k>>=8;return k=7^U+Jo[k],p.b-=k,p.Ca=(S<<k)-1,z}function He(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function nt(p,v){return p[v+0]|p[v+1]<<8}function rt(p,v){return nt(p,v)|p[v+2]<<16}function Fe(p,v){return nt(p,v)|nt(p,v+2)<<16}function oe(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=s(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function tn(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function qt(){this.X=[],this.Xa=this.Mb=0}function Et(p,v,S,k){e(S!=null),e(k!=null);var U=S[0],z=k[0];return U==0&&(U=(p*z+v/2)/v),z==0&&(z=(v*U+p/2)/p),0>=U||0>=z?0:(S[0]=U,k[0]=z,1)}function Ye(p,v){return p+(1<<v)-1>>>v}function ut(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function et(p,v){L[v]=function(S,k,U,z,G,K,Z){var te;for(te=0;te<G;++te){var de=L[p](K[Z+te-1],U,z+te);K[Z+te]=ut(S[k+te],de)}}}function zt(){this.ud=this.hd=this.jd=0}function _t(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function un(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ft(p,v){return un(p+(p-v+.5>>1))}function gt(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function Ht(p,v,S,k,U,z,G){for(k=z[G-1],S=0;S<U;++S)z[G+S]=k=ut(p[v+S],k)}function Lt(p,v,S,k,U){var z;for(z=0;z<S;++z){var G=p[v+z],K=G>>8&255,Z=16711935&(Z=(Z=16711935&G)+((K<<16)+K));k[U+z]=(4278255360&G)+Z>>>0}}function xt(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function Tt(p,v,S,k,U,z){var G;for(G=0;G<k;++G){var K=v[S+G],Z=K>>>8,te=K,de=255&(de=(de=K>>>16)+((p.jd<<24>>24)*(Z<<24>>24)>>>5));te=255&(te=(te+=(p.hd<<24>>24)*(Z<<24>>24)>>>5)+((p.ud<<24>>24)*(de<<24>>24)>>>5)),U[z+G]=(4278255360&K)+(de<<16)+te}}function yt(p,v,S,k,U){L[v]=function(z,G,K,Z,te,de,Ie,re,me){for(Z=Ie;Z<re;++Z)for(Ie=0;Ie<me;++Ie)te[de++]=U(K[k(z[G++])])},L[p]=function(z,G,K,Z,te,de,Ie){var re=8>>z.b,me=z.Ea,Ae=z.K[0],Ue=z.w;if(8>re)for(z=(1<<z.b)-1,Ue=(1<<re)-1;G<K;++G){var ke,Me=0;for(ke=0;ke<me;++ke)ke&z||(Me=k(Z[te++])),de[Ie++]=U(Ae[Me&Ue]),Me>>=re}else L["VP8LMapColor"+S](Z,te,Ae,Ue,de,Ie,G,K,me)}}function _n(p,v,S,k,U){for(S=v+S;v<S;){var z=p[v++];k[U++]=z>>16&255,k[U++]=z>>8&255,k[U++]=255&z}}function pn(p,v,S,k,U){for(S=v+S;v<S;){var z=p[v++];k[U++]=z>>16&255,k[U++]=z>>8&255,k[U++]=255&z,k[U++]=z>>24&255}}function ft(p,v,S,k,U){for(S=v+S;v<S;){var z=(G=p[v++])>>16&240|G>>12&15,G=240&G|G>>28&15;k[U++]=z,k[U++]=G}}function Vt(p,v,S,k,U){for(S=v+S;v<S;){var z=(G=p[v++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;k[U++]=z,k[U++]=G}}function bn(p,v,S,k,U){for(S=v+S;v<S;){var z=p[v++];k[U++]=255&z,k[U++]=z>>8&255,k[U++]=z>>16&255}}function Nt(p,v,S,k,U,z){if(z==0)for(S=v+S;v<S;)He(k,((z=p[v++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),U+=32;else r(k,U,p,v,S)}function en(p,v){L[v][0]=L[p+"0"],L[v][1]=L[p+"1"],L[v][2]=L[p+"2"],L[v][3]=L[p+"3"],L[v][4]=L[p+"4"],L[v][5]=L[p+"5"],L[v][6]=L[p+"6"],L[v][7]=L[p+"7"],L[v][8]=L[p+"8"],L[v][9]=L[p+"9"],L[v][10]=L[p+"10"],L[v][11]=L[p+"11"],L[v][12]=L[p+"12"],L[v][13]=L[p+"13"],L[v][14]=L[p+"0"],L[v][15]=L[p+"0"]}function Mt(p){return p==Wl||p==al||p==Yu||p==Qu}function Qn(){this.eb=[],this.size=this.A=this.fb=0}function In(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function cn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qn,this.f.kb=new In,this.sd=null}function Rt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Zs(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function pr(p,v){var S=p.T,k=v.ba.f.RGBA,U=k.eb,z=k.fb+p.ka*k.A,G=ls[v.ba.S],K=p.y,Z=p.O,te=p.f,de=p.N,Ie=p.ea,re=p.W,me=v.cc,Ae=v.dc,Ue=v.Mc,ke=v.Nc,Me=p.ka,Ve=p.ka+p.T,qe=p.U,ze=qe+1>>1;for(Me==0?G(K,Z,null,null,te,de,Ie,re,te,de,Ie,re,U,z,null,null,qe):(G(v.ec,v.fc,K,Z,me,Ae,Ue,ke,te,de,Ie,re,U,z-k.A,U,z,qe),++S);Me+2<Ve;Me+=2)me=te,Ae=de,Ue=Ie,ke=re,de+=p.Rc,re+=p.Rc,z+=2*k.A,G(K,(Z+=2*p.fa)-p.fa,K,Z,me,Ae,Ue,ke,te,de,Ie,re,U,z-k.A,U,z,qe);return Z+=p.fa,p.j+Ve<p.o?(r(v.ec,v.fc,K,Z,qe),r(v.cc,v.dc,te,de,ze),r(v.Mc,v.Nc,Ie,re,ze),S--):1&Ve||G(K,Z,null,null,te,de,Ie,re,te,de,Ie,re,U,z+k.A,null,null,qe),S}function Es(p,v,S){var k=p.F,U=[p.J];if(k!=null){var z=p.U,G=v.ba.S,K=G==Ku||G==Yu;v=v.ba.f.RGBA;var Z=[0],te=p.ka;Z[0]=p.T,p.Kb&&(te==0?--Z[0]:(--te,U[0]-=p.width),p.j+p.ka+p.T==p.o&&(Z[0]=p.o-p.j-te));var de=v.eb;te=v.fb+te*v.A,p=Wu(k,U[0],p.width,z,Z,de,te+(K?0:3),v.A),e(S==Z),p&&Mt(G)&&ol(de,te,K,z,Z,v.A)}return 0}function ti(p){var v=p.ma,S=v.ba.S,k=11>S,U=S==La||S==Gu||S==Ku||S==zn||S==12||Mt(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Vl(v.Oa,p,U?11:12))return 0;if(U&&Mt(S)&&Za(),p.da)alert("todo:use_scaling");else{if(k){if(v.Ib=Zs,p.Kb){if(S=p.U+1>>1,v.memory=s(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=pr,Za()}}else alert("todo:EmitYUV");U&&(v.Jb=Es,k&&Jn())}if(k&&!Si){for(p=0;256>p;++p)us[p]=89858*(p-128)+uo>>ta,cs[p]=-22014*(p-128)+uo,Ql[p]=-45773*(p-128),hl[p]=113618*(p-128)+uo>>ta;for(p=On;p<Un;++p)v=76283*(p-16)+uo>>ta,$c[p-On]=sn(v,255),qd[p-On]=sn(v+8>>4,15);Si=1}return 1}function It(p){var v=p.ma,S=p.U,k=p.T;return e(!(1&p.ka)),0>=S||0>=k?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function Ln(p){p.ma.memory=null}function Zi(p,v,S,k){return Q(p,8)!=47?0:(v[0]=Q(p,14)+1,S[0]=Q(p,14)+1,k[0]=Q(p,1),Q(p,3)!=0?0:!p.h)}function mr(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+Q(v,S)+1}function ni(p,v){return 120<v?v-120:1<=(S=((S=vg[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function jn(p,v,S){var k=ne(S),U=p[v+=255&k].g-8;return 0<U&&(fe(S,S.u+8),k=ne(S),v+=p[v].value,v+=k&(1<<U)-1),fe(S,S.u+p[v].g),p[v].value}function or(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function qn(p,v,S){var k=p.xc;return e((v=k==0?0:p.vc[p.md*(S>>k)+(v>>k)])<p.Wb),p.Ya[v]}function eo(p,v,S,k){var U=p.ab,z=p.c*v,G=p.C;v=G+v;var K=S,Z=k;for(k=p.Ta,S=p.Ua;0<U--;){var te=p.gc[U],de=G,Ie=v,re=K,me=Z,Ae=(Z=k,K=S,te.Ea);switch(e(de<Ie),e(Ie<=te.nc),te.hc){case 2:Nr(re,me,(Ie-de)*Ae,Z,K);break;case 0:var Ue=de,ke=Ie,Me=Z,Ve=K,qe=(ht=te).Ea;Ue==0&&(Xo(re,me,null,null,1,Me,Ve),Ht(re,me+1,0,0,qe-1,Me,Ve+1),me+=qe,Ve+=qe,++Ue);for(var ze=1<<ht.b,bt=ze-1,ot=Ye(qe,ht.b),Yt=ht.K,ht=ht.w+(Ue>>ht.b)*ot;Ue<ke;){var fn=Yt,br=ht,Qt=1;for(Lo(re,me,Me,Ve-qe,1,Me,Ve);Qt<qe;){var at=(Qt&~bt)+ze;at>qe&&(at=qe),(0,nl[fn[br++]>>8&15])(re,me+ +Qt,Me,Ve+Qt-qe,at-Qt,Me,Ve+Qt),Qt=at}me+=qe,Ve+=qe,++Ue&bt||(ht+=ot)}Ie!=te.nc&&r(Z,K-Ae,Z,K+(Ie-de-1)*Ae,Ae);break;case 1:for(Ae=re,ke=me,qe=(re=te.Ea)-(Ve=re&~(Me=(me=1<<te.b)-1)),Ue=Ye(re,te.b),ze=te.K,te=te.w+(de>>te.b)*Ue;de<Ie;){for(bt=ze,ot=te,Yt=new zt,ht=ke+Ve,fn=ke+re;ke<ht;)xt(bt[ot++],Yt),Bl(Yt,Ae,ke,me,Z,K),ke+=me,K+=me;ke<fn&&(xt(bt[ot++],Yt),Bl(Yt,Ae,ke,qe,Z,K),ke+=qe,K+=qe),++de&Me||(te+=Ue)}break;case 3:if(re==Z&&me==K&&0<te.b){for(ke=Z,re=Ae=K+(Ie-de)*Ae-(Ve=(Ie-de)*Ye(te.Ea,te.b)),me=Z,Me=K,Ue=[],Ve=(qe=Ve)-1;0<=Ve;--Ve)Ue[Ve]=me[Me+Ve];for(Ve=qe-1;0<=Ve;--Ve)ke[re+Ve]=Ue[Ve];el(te,de,Ie,Z,Ae,Z,K)}else el(te,de,Ie,re,me,Z,K)}K=k,Z=S}Z!=S&&r(k,S,K,Z,z)}function xo(p,v){var S=p.V,k=p.Ba+p.c*p.C,U=v-p.C;if(e(v<=p.l.o),e(16>=U),0<U){var z=p.l,G=p.Ta,K=p.Ua,Z=z.width;if(eo(p,U,S,k),U=K=[K],e((S=p.C)<(k=v)),e(z.v<z.va),k>z.o&&(k=z.o),S<z.j){var te=z.j-S;S=z.j,U[0]+=te*Z}if(S>=k?S=0:(U[0]+=4*z.v,z.ka=S-z.j,z.U=z.va-z.v,z.T=k-S,S=1),S){if(K=K[0],11>(S=p.ca).S){var de=S.f.RGBA,Ie=(k=S.S,U=z.U,z=z.T,te=de.eb,de.A),re=z;for(de=de.fb+p.Ma*de.A;0<re--;){var me=G,Ae=K,Ue=U,ke=te,Me=de;switch(k){case Bc:ql(me,Ae,Ue,ke,Me);break;case La:Zo(me,Ae,Ue,ke,Me);break;case Wl:Zo(me,Ae,Ue,ke,Me),ol(ke,Me,0,Ue,1,0);break;case Md:rl(me,Ae,Ue,ke,Me);break;case Gu:Nt(me,Ae,Ue,ke,Me,1);break;case al:Nt(me,Ae,Ue,ke,Me,1),ol(ke,Me,0,Ue,1,0);break;case Ku:Nt(me,Ae,Ue,ke,Me,0);break;case Yu:Nt(me,Ae,Ue,ke,Me,0),ol(ke,Me,1,Ue,1,0);break;case zn:Pa(me,Ae,Ue,ke,Me);break;case Qu:Pa(me,Ae,Ue,ke,Me),Xh(ke,Me,Ue,1,0);break;case qc:ka(me,Ae,Ue,ke,Me);break;default:e(0)}K+=Z,de+=Ie}p.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function Ii(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,k=p.Ya[v].H;if(0<S[1][k[1]+0].g||0<S[2][k[2]+0].g||0<S[3][k[3]+0].g)return 0}return 1}function Ts(p,v,S,k,U,z){if(p.Z!=0){var G=p.qd,K=p.rd;for(e(Ri[p.Z]!=null);v<S;++v)Ri[p.Z](G,K,k,U,k,U,z),G=k,K=U,U+=z;p.qd=G,p.rd=K}}function Tr(p,v){var S=p.l.ma,k=S.Z==0||S.Z==1?p.l.j:p.C;if(k=p.C<k?k:p.C,e(v<=p.l.o),v>k){var U=p.l.width,z=S.ca,G=S.tb+U*k,K=p.V,Z=p.Ba+p.c*k,te=p.gc;e(p.ab==1),e(te[0].hc==3),ao(te[0],k,v,K,Z,z,G),Ts(S,k,v,z,G,U)}p.C=p.Ma=v}function fi(p,v,S,k,U,z,G){var K=p.$/k,Z=p.$%k,te=p.m,de=p.s,Ie=S+p.$,re=Ie;U=S+k*U;var me=S+k*z,Ae=280+de.ua,Ue=p.Pb?K:16777216,ke=0<de.ua?de.Wa:null,Me=de.wc,Ve=Ie<me?qn(de,Z,K):null;e(p.C<z),e(me<=U);var qe=!1;e:for(;;){for(;qe||Ie<me;){var ze=0;if(K>=Ue){var bt=Ie-S;e((Ue=p).Pb),Ue.wd=Ue.m,Ue.xd=bt,0<Ue.s.ua&&tn(Ue.s.Wa,Ue.s.vb),Ue=K+Hc}if(Z&Me||(Ve=qn(de,Z,K)),e(Ve!=null),Ve.Qb&&(v[Ie]=Ve.qb,qe=!0),!qe)if(ve(te),Ve.jc){ze=te,bt=v;var ot=Ie,Yt=Ve.pd[ne(ze)&Us-1];e(Ve.jc),256>Yt.g?(fe(ze,ze.u+Yt.g),bt[ot]=Yt.value,ze=0):(fe(ze,ze.u+Yt.g-256),e(256<=Yt.value),ze=Yt.value),ze==0&&(qe=!0)}else ze=jn(Ve.G[0],Ve.H[0],te);if(te.h)break;if(qe||256>ze){if(!qe)if(Ve.nd)v[Ie]=(Ve.qb|ze<<8)>>>0;else{if(ve(te),qe=jn(Ve.G[1],Ve.H[1],te),ve(te),bt=jn(Ve.G[2],Ve.H[2],te),ot=jn(Ve.G[3],Ve.H[3],te),te.h)break;v[Ie]=(ot<<24|qe<<16|ze<<8|bt)>>>0}if(qe=!1,++Ie,++Z>=k&&(Z=0,++K,G!=null&&K<=z&&!(K%16)&&G(p,K),ke!=null))for(;re<Ie;)ze=v[re++],ke.X[(506832829*ze&4294967295)>>>ke.Mb]=ze}else if(280>ze){if(ze=mr(ze-256,te),bt=jn(Ve.G[4],Ve.H[4],te),ve(te),bt=ni(k,bt=mr(bt,te)),te.h)break;if(Ie-S<bt||U-Ie<ze)break e;for(ot=0;ot<ze;++ot)v[Ie+ot]=v[Ie+ot-bt];for(Ie+=ze,Z+=ze;Z>=k;)Z-=k,++K,G!=null&&K<=z&&!(K%16)&&G(p,K);if(e(Ie<=U),Z&Me&&(Ve=qn(de,Z,K)),ke!=null)for(;re<Ie;)ze=v[re++],ke.X[(506832829*ze&4294967295)>>>ke.Mb]=ze}else{if(!(ze<Ae))break e;for(qe=ze-280,e(ke!=null);re<Ie;)ze=v[re++],ke.X[(506832829*ze&4294967295)>>>ke.Mb]=ze;ze=Ie,e(!(qe>>>(bt=ke).Xa)),v[ze]=bt.X[qe],qe=!0}qe||e(te.h==ue(te))}if(p.Pb&&te.h&&Ie<U)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&tn(p.s.vb,p.s.Wa);else{if(te.h)break e;G!=null&&G(p,K>z?z:K),p.a=0,p.$=Ie-S}return 1}return p.a=3,0}function gr(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function bo(){var p=new dt;return p==null?null:(p.a=0,p.xb=Kl,en("Predictor","VP8LPredictors"),en("Predictor","VP8LPredictors_C"),en("PredictorAdd","VP8LPredictorsAdd"),en("PredictorAdd","VP8LPredictorsAdd_C"),Nr=Lt,Bl=Tt,ql=_n,Zo=pn,Pa=ft,ka=Vt,rl=bn,L.VP8LMapColor32b=Ro,L.VP8LMapColor8b=tl,p)}function es(p,v,S,k,U){var z=1,G=[p],K=[v],Z=k.m,te=k.s,de=null,Ie=0;e:for(;;){if(S)for(;z&&Q(Z,1);){var re=G,me=K,Ae=k,Ue=1,ke=Ae.m,Me=Ae.gc[Ae.ab],Ve=Q(ke,2);if(Ae.Oc&1<<Ve)z=0;else{switch(Ae.Oc|=1<<Ve,Me.hc=Ve,Me.Ea=re[0],Me.nc=me[0],Me.K=[null],++Ae.ab,e(4>=Ae.ab),Ve){case 0:case 1:Me.b=Q(ke,3)+2,Ue=es(Ye(Me.Ea,Me.b),Ye(Me.nc,Me.b),0,Ae,Me.K),Me.K=Me.K[0];break;case 3:var qe,ze=Q(ke,8)+1,bt=16<ze?0:4<ze?1:2<ze?2:3;if(re[0]=Ye(Me.Ea,bt),Me.b=bt,qe=Ue=es(ze,1,0,Ae,Me.K)){var ot,Yt=ze,ht=Me,fn=1<<(8>>ht.b),br=s(fn);if(br==null)qe=0;else{var Qt=ht.K[0],at=ht.w;for(br[0]=ht.K[0][0],ot=1;ot<1*Yt;++ot)br[ot]=ut(Qt[at+ot],br[ot-1]);for(;ot<4*fn;++ot)br[ot]=0;ht.K[0]=null,ht.K[0]=br,qe=1}}Ue=qe;break;case 2:break;default:e(0)}z=Ue}}if(G=G[0],K=K[0],z&&Q(Z,1)&&!(z=1<=(Ie=Q(Z,4))&&11>=Ie)){k.a=3;break e}var tt;if(tt=z)t:{var Ir,Ut,ln,Xn=k,si=G,Fr=K,cr=Ie,$r=S,oi=Xn.m,rr=Xn.s,gn=[null],En=1,ir=0,Tn=Vd[cr];n:for(;;){if($r&&Q(oi,1)){var Sr=Q(oi,3)+2,Ar=Ye(si,Sr),Hn=Ye(Fr,Sr),Di=Ar*Hn;if(!es(Ar,Hn,0,Xn,gn))break n;for(gn=gn[0],rr.xc=Sr,Ir=0;Ir<Di;++Ir){var Bn=gn[Ir]>>8&65535;gn[Ir]=Bn,Bn>=En&&(En=Bn+1)}}if(oi.h)break n;for(Ut=0;5>Ut;++Ut){var $n=ll[Ut];!Ut&&0<cr&&($n+=1<<cr),ir<$n&&(ir=$n)}var Vr=a(En*Tn,M),Ai=En,hs=a(Ai,Se);if(hs==null)var Pr=null;else e(65536>=Ai),Pr=hs;var kr=s(ir);if(Pr==null||kr==null||Vr==null){Xn.a=1;break n}var Oi=Vr;for(Ir=ln=0;Ir<En;++Ir){var Wn=Pr[Ir],ji=Wn.G,zs=Wn.H,co=0,ai=1,Cr=0;for(Ut=0;5>Ut;++Ut){$n=ll[Ut],ji[Ut]=Oi,zs[Ut]=ln,!Ut&&0<cr&&($n+=1<<cr);i:{var Oa,ra=$n,Jl=Xn,jo=kr,Hd=Oi,hf=ln,er=0,ho=Jl.m,ff=Q(ho,1);if(i(jo,0,0,ra),ff){var df=Q(ho,1)+1,Wc=Q(ho,1),Gc=Q(ho,Wc==0?1:8);jo[Gc]=1,df==2&&(jo[Gc=Q(ho,8)]=1);var Mo=1}else{var sr=s(19),Ur=Q(ho,4)+4;if(19<Ur){Jl.a=3;var Lr=0;break i}for(Oa=0;Oa<Ur;++Oa)sr[yg[Oa]]=Q(ho,3);var Xl=void 0,ia=void 0,Zl=Jl,Sg=sr,Wr=ra,Kc=jo,tc=0,Fo=Zl.m,fo=8,ks=a(128,M);r:for(;j(ks,0,7,Sg,19);){if(Q(Fo,1)){var nc=2+2*Q(Fo,3);if((Xl=2+Q(Fo,nc))>Wr)break r}else Xl=Wr;for(ia=0;ia<Wr&&Xl--;){ve(Fo);var Yc=ks[0+(127&ne(Fo))];fe(Fo,Fo.u+Yc.g);var ja=Yc.value;if(16>ja)Kc[ia++]=ja,ja!=0&&(fo=ja);else{var $d=ja==16,pf=ja-16,Wd=zc[pf],mf=Q(Fo,Ju[pf])+Wd;if(ia+mf>Wr)break r;for(var Gd=$d?fo:0;0<mf--;)Kc[ia++]=Gd}}tc=1;break r}tc||(Zl.a=3),Mo=tc}(Mo=Mo&&!ho.h)&&(er=j(Hd,hf,8,jo,ra)),Mo&&er!=0?Lr=er:(Jl.a=3,Lr=0)}if(Lr==0)break n;if(ai&&Fd[Ut]==1&&(ai=Oi[ln].g==0),co+=Oi[ln].g,ln+=Lr,3>=Ut){var eu,Qc=kr[0];for(eu=1;eu<$n;++eu)kr[eu]>Qc&&(Qc=kr[eu]);Cr+=Qc}}if(Wn.nd=ai,Wn.Qb=0,ai&&(Wn.qb=(ji[3][zs[3]+0].value<<24|ji[1][zs[1]+0].value<<16|ji[2][zs[2]+0].value)>>>0,co==0&&256>ji[0][zs[0]+0].value&&(Wn.Qb=1,Wn.qb+=ji[0][zs[0]+0].value<<8)),Wn.jc=!Wn.Qb&&6>Cr,Wn.jc){var rc,Cs=Wn;for(rc=0;rc<Us;++rc){var sa=rc,po=Cs.pd[sa],dl=Cs.G[0][Cs.H[0]+sa];256<=dl.value?(po.g=dl.g+256,po.value=dl.value):(po.g=0,po.value=0,sa>>=or(dl,8,po),sa>>=or(Cs.G[1][Cs.H[1]+sa],16,po),sa>>=or(Cs.G[2][Cs.H[2]+sa],0,po),or(Cs.G[3][Cs.H[3]+sa],24,po))}}}rr.vc=gn,rr.Wb=En,rr.Ya=Pr,rr.yc=Vr,tt=1;break t}tt=0}if(!(z=tt)){k.a=3;break e}if(0<Ie){if(te.ua=1<<Ie,!oe(te.Wa,Ie)){k.a=1,z=0;break e}}else te.ua=0;var Jc=k,Xc=G,Kd=K,Zc=Jc.s,eh=Zc.xc;if(Jc.c=Xc,Jc.i=Kd,Zc.md=Ye(Xc,eh),Zc.wc=eh==0?-1:(1<<eh)-1,S){k.xb=Oo;break e}if((de=s(G*K))==null){k.a=1,z=0;break e}z=(z=fi(k,de,0,G,K,K,null))&&!Z.h;break e}return z?(U!=null?U[0]=de:(e(de==null),e(S)),k.$=0,S||gr(te)):gr(te),z}function Os(p,v){var S=p.c*p.i,k=S+v+16*v;return e(p.c<=v),p.V=s(k),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function to(p,v){var S=p.C,k=v-S,U=p.V,z=p.Ba+p.c*S;for(e(v<=p.l.o);0<k;){var G=16<k?16:k,K=p.l.ma,Z=p.l.width,te=Z*G,de=K.ca,Ie=K.tb+Z*S,re=p.Ta,me=p.Ua;eo(p,G,U,z),Zh(re,me,de,Ie,te),Ts(K,S,S+G,de,Ie,Z),k-=G,U+=G*p.c,S+=G}e(S==v),p.C=p.Ma=v}function So(){this.ub=this.yd=this.td=this.Rb=0}function $o(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qu(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Pn(){this.Yb=(function(){var p=[];return(function v(S,k,U){for(var z=U[k],G=0;G<z&&(S.push(U.length>k+1?[]:0),!(U.length<k+1));G++)v(S[G],k+1,U)})(p,0,[3,11]),p})()}function Ka(){this.jb=s(3),this.Wc=u([4,8],Pn),this.Xc=u([4,17],Pn)}function Ao(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function zr(){this.ld=this.La=this.dd=this.tc=0}function Pi(){this.Na=this.la=0}function _a(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Eo(){this.uc=this.M=this.Nb=0,this.wa=Array(new zr),this.Y=0,this.ya=Array(new xa),this.aa=0,this.l=new Or}function ki(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ya(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new So,this.Kc=new $o,this.ed=new Ao,this.Qa=new qu,this.Ic=this.$c=this.Aa=0,this.D=new Eo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,D),this.ia=0,this.pb=a(4,_a),this.Pa=new Ka,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ki),this.Hd=0,this.rb=Array(new Pi),this.sb=0,this.wa=Array(new zr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xa),this.L=this.aa=0,this.gd=u([4,2],zr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Or(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qa(){var p=new Ya;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,ul||(ul=ts)),p}function ar(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function Ja(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Wo(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return ar(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,k=v.w,U=v.ha;if(4>U)return ar(p,7,"Truncated header.");var z=S[k+0]|S[k+1]<<8|S[k+2]<<16,G=p.Od;if(G.Rb=!(1&z),G.td=z>>1&7,G.yd=z>>4&1,G.ub=z>>5,3<G.td)return ar(p,3,"Incorrect keyframe parameters.");if(!G.yd)return ar(p,4,"Frame not displayable.");k+=3,U-=3;var K=p.Kc;if(G.Rb){if(7>U)return ar(p,7,"cannot parse picture header");if(!Ja(S,k,U))return ar(p,3,"Bad code word");K.c=16383&(S[k+4]<<8|S[k+3]),K.Td=S[k+4]>>6,K.i=16383&(S[k+6]<<8|S[k+5]),K.Ud=S[k+6]>>6,k+=7,U-=7,p.za=K.c+15>>4,p.Ub=K.i+15>>4,v.width=K.c,v.height=K.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((z=p.Pa).jb,0,255,z.jb.length),e((z=p.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,i(z.Zb,0,0,z.Zb.length),i(z.Lb,0,0,z.Lb)}if(G.ub>U)return ar(p,7,"bad partition length");xe(z=p.m,S,k,G.ub),k+=G.ub,U-=G.ub,G.Rb&&(K.Ld=Te(z),K.Kd=Te(z)),K=p.Qa;var Z,te=p.Pa;if(e(z!=null),e(K!=null),K.Cb=Te(z),K.Cb){if(K.Bb=Te(z),Te(z)){for(K.Fb=Te(z),Z=0;4>Z;++Z)K.Zb[Z]=Te(z)?ee(z,7):0;for(Z=0;4>Z;++Z)K.Lb[Z]=Te(z)?ee(z,6):0}if(K.Bb)for(Z=0;3>Z;++Z)te.jb[Z]=Te(z)?Ee(z,8):255}else K.Bb=0;if(z.Ka)return ar(p,3,"cannot parse segment header");if((K=p.ed).zd=Te(z),K.Tb=Ee(z,6),K.wb=Ee(z,3),K.Pc=Te(z),K.Pc&&Te(z)){for(te=0;4>te;++te)Te(z)&&(K.vd[te]=ee(z,6));for(te=0;4>te;++te)Te(z)&&(K.od[te]=ee(z,6))}if(p.L=K.Tb==0?0:K.zd?1:2,z.Ka)return ar(p,3,"cannot parse filter header");var de=U;if(U=Z=k,k=Z+de,K=de,p.Xb=(1<<Ee(p.m,2))-1,de<3*(te=p.Xb))S=7;else{for(Z+=3*te,K-=3*te,de=0;de<te;++de){var Ie=S[U+0]|S[U+1]<<8|S[U+2]<<16;Ie>K&&(Ie=K),xe(p.Jc[+de],S,Z,Ie),Z+=Ie,K-=Ie,U+=3}xe(p.Jc[+te],S,Z,K),S=Z<k?0:5}if(S!=0)return ar(p,S,"cannot parse partitions");for(S=Ee(Z=p.m,7),U=Te(Z)?ee(Z,4):0,k=Te(Z)?ee(Z,4):0,K=Te(Z)?ee(Z,4):0,te=Te(Z)?ee(Z,4):0,Z=Te(Z)?ee(Z,4):0,de=p.Qa,Ie=0;4>Ie;++Ie){if(de.Cb){var re=de.Zb[Ie];de.Fb||(re+=S)}else{if(0<Ie){p.pb[Ie]=p.pb[0];continue}re=S}var me=p.pb[Ie];me.Sc[0]=Gl[sn(re+U,127)],me.Sc[1]=Xu[sn(re+0,127)],me.Eb[0]=2*Gl[sn(re+k,127)],me.Eb[1]=101581*Xu[sn(re+K,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=Gl[sn(re+te,117)],me.Qc[1]=Xu[sn(re+Z,127)],me.lc=re+Z}if(!G.Rb)return ar(p,4,"Not a key frame.");for(Te(z),G=p.Pa,S=0;4>S;++S){for(U=0;8>U;++U)for(k=0;3>k;++k)for(K=0;11>K;++K)te=je(z,_g[S][U][k][K])?Ee(z,8):Bd[S][U][k][K],G.Wc[S][U].Yb[k][K]=te;for(U=0;17>U;++U)G.Xc[S][U]=G.Wc[S][lf[U]]}return p.kc=Te(z),p.kc&&(p.Bd=Ee(z,8)),p.cb=1}function ts(p,v,S,k,U,z,G){var K=v[U].Yb[S];for(S=0;16>U;++U){if(!je(p,K[S+0]))return U;for(;!je(p,K[S+1]);)if(K=v[++U].Yb[0],S=0,U==16)return 16;var Z=v[U+1].Yb;if(je(p,K[S+2])){var te=p,de=0;if(je(te,(re=K)[(Ie=S)+3]))if(je(te,re[Ie+6])){for(K=0,Ie=2*(de=je(te,re[Ie+8]))+(re=je(te,re[Ie+9+de])),de=0,re=of[Ie];re[K];++K)de+=de+je(te,re[K]);de+=3+(8<<Ie)}else je(te,re[Ie+7])?(de=7+2*je(te,165),de+=je(te,145)):de=5+je(te,159);else de=je(te,re[Ie+4])?3+je(te,re[Ie+5]):2;K=Z[2]}else de=1,K=Z[1];Z=G+af[U],0>(te=p).b&&Ne(te);var Ie,re=te.b,me=(Ie=te.Ca>>1)-(te.I>>re)>>31;--te.b,te.Ca+=me,te.Ca|=1,te.I-=(Ie+1&me)<<re,z[Z]=((de^me)-me)*k[(0<U)+0]}return 16}function ns(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function di(p,v,S,k,U){U=p[v+S+32*k]+(U>>3),p[v+S+32*k]=-256&U?0>U?0:255:U}function Go(p,v,S,k,U,z){di(p,v,0,S,k+U),di(p,v,1,S,k+z),di(p,v,2,S,k-z),di(p,v,3,S,k-U)}function Rn(p){return(20091*p>>16)+p}function pi(p,v,S,k){var U,z=0,G=s(16);for(U=0;4>U;++U){var K=p[v+0]+p[v+8],Z=p[v+0]-p[v+8],te=(35468*p[v+4]>>16)-Rn(p[v+12]),de=Rn(p[v+4])+(35468*p[v+12]>>16);G[z+0]=K+de,G[z+1]=Z+te,G[z+2]=Z-te,G[z+3]=K-de,z+=4,v++}for(U=z=0;4>U;++U)K=(p=G[z+0]+4)+G[z+8],Z=p-G[z+8],te=(35468*G[z+4]>>16)-Rn(G[z+12]),di(S,k,0,0,K+(de=Rn(G[z+4])+(35468*G[z+12]>>16))),di(S,k,1,0,Z+te),di(S,k,2,0,Z-te),di(S,k,3,0,K-de),z++,k+=32}function Ko(p,v,S,k){var U=p[v+0]+4,z=35468*p[v+4]>>16,G=Rn(p[v+4]),K=35468*p[v+1]>>16;Go(S,k,0,U+G,p=Rn(p[v+1]),K),Go(S,k,1,U+z,p,K),Go(S,k,2,U-z,p,K),Go(S,k,3,U-G,p,K)}function To(p,v,S,k,U){pi(p,v,S,k),U&&pi(p,v+16,S,k+4)}function No(p,v,S,k){il(p,v+0,S,k,1),il(p,v+32,S,k+128,1)}function hn(p,v,S,k){var U;for(p=p[v+0]+4,U=0;4>U;++U)for(v=0;4>v;++v)di(S,k,v,U,p)}function no(p,v,S,k){p[v+0]&&An(p,v+0,S,k),p[v+16]&&An(p,v+16,S,k+4),p[v+32]&&An(p,v+32,S,k+128),p[v+48]&&An(p,v+48,S,k+128+4)}function on(p,v,S,k){var U,z=s(16);for(U=0;4>U;++U){var G=p[v+0+U]+p[v+12+U],K=p[v+4+U]+p[v+8+U],Z=p[v+4+U]-p[v+8+U],te=p[v+0+U]-p[v+12+U];z[0+U]=G+K,z[8+U]=G-K,z[4+U]=te+Z,z[12+U]=te-Z}for(U=0;4>U;++U)G=(p=z[0+4*U]+3)+z[3+4*U],K=z[1+4*U]+z[2+4*U],Z=z[1+4*U]-z[2+4*U],te=p-z[3+4*U],S[k+0]=G+K>>3,S[k+16]=te+Z>>3,S[k+32]=G-K>>3,S[k+48]=te-Z>>3,k+=64}function Bi(p,v,S){var k,U=v-32,z=Hi,G=255-p[U-1];for(k=0;k<S;++k){var K,Z=z,te=G+p[v-1];for(K=0;K<S;++K)p[v+K]=Z[te+p[U+K]];v+=32}}function ba(p,v){Bi(p,v,4)}function Sa(p,v){Bi(p,v,8)}function Ol(p,v){Bi(p,v,16)}function jl(p,v){var S;for(S=0;16>S;++S)r(p,v+32*S,p,v-32,16)}function Aa(p,v){var S;for(S=16;0<S;--S)i(p,v,p[v-1],16),v+=32}function ro(p,v,S){var k;for(k=0;16>k;++k)i(v,S+32*k,p,16)}function mi(p,v){var S,k=16;for(S=0;16>S;++S)k+=p[v-1+32*S]+p[v+S-32];ro(k>>5,p,v)}function Hr(p,v){var S,k=8;for(S=0;16>S;++S)k+=p[v-1+32*S];ro(k>>4,p,v)}function gi(p,v){var S,k=8;for(S=0;16>S;++S)k+=p[v+S-32];ro(k>>4,p,v)}function qi(p,v){ro(128,p,v)}function Pt(p,v,S){return p+2*v+S+2>>2}function rs(p,v){var S,k=v-32;for(k=new Uint8Array([Pt(p[k-1],p[k+0],p[k+1]),Pt(p[k+0],p[k+1],p[k+2]),Pt(p[k+1],p[k+2],p[k+3]),Pt(p[k+2],p[k+3],p[k+4])]),S=0;4>S;++S)r(p,v+32*S,k,0,k.length)}function js(p,v){var S=p[v-1],k=p[v-1+32],U=p[v-1+64],z=p[v-1+96];He(p,v+0,16843009*Pt(p[v-1-32],S,k)),He(p,v+32,16843009*Pt(S,k,U)),He(p,v+64,16843009*Pt(k,U,z)),He(p,v+96,16843009*Pt(U,z,z))}function zu(p,v){var S,k=4;for(S=0;4>S;++S)k+=p[v+S-32]+p[v-1+32*S];for(k>>=3,S=0;4>S;++S)i(p,v+32*S,k,4)}function Ml(p,v){var S=p[v-1+0],k=p[v-1+32],U=p[v-1+64],z=p[v-1-32],G=p[v+0-32],K=p[v+1-32],Z=p[v+2-32],te=p[v+3-32];p[v+0+96]=Pt(k,U,p[v-1+96]),p[v+1+96]=p[v+0+64]=Pt(S,k,U),p[v+2+96]=p[v+1+64]=p[v+0+32]=Pt(z,S,k),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Pt(G,z,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=Pt(K,G,z),p[v+3+32]=p[v+2+0]=Pt(Z,K,G),p[v+3+0]=Pt(te,Z,K)}function yr(p,v){var S=p[v+1-32],k=p[v+2-32],U=p[v+3-32],z=p[v+4-32],G=p[v+5-32],K=p[v+6-32],Z=p[v+7-32];p[v+0+0]=Pt(p[v+0-32],S,k),p[v+1+0]=p[v+0+32]=Pt(S,k,U),p[v+2+0]=p[v+1+32]=p[v+0+64]=Pt(k,U,z),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Pt(U,z,G),p[v+3+32]=p[v+2+64]=p[v+1+96]=Pt(z,G,K),p[v+3+64]=p[v+2+96]=Pt(G,K,Z),p[v+3+96]=Pt(K,Z,Z)}function io(p,v){var S=p[v-1+0],k=p[v-1+32],U=p[v-1+64],z=p[v-1-32],G=p[v+0-32],K=p[v+1-32],Z=p[v+2-32],te=p[v+3-32];p[v+0+0]=p[v+1+64]=z+G+1>>1,p[v+1+0]=p[v+2+64]=G+K+1>>1,p[v+2+0]=p[v+3+64]=K+Z+1>>1,p[v+3+0]=Z+te+1>>1,p[v+0+96]=Pt(U,k,S),p[v+0+64]=Pt(k,S,z),p[v+0+32]=p[v+1+96]=Pt(S,z,G),p[v+1+32]=p[v+2+96]=Pt(z,G,K),p[v+2+32]=p[v+3+96]=Pt(G,K,Z),p[v+3+32]=Pt(K,Z,te)}function Fl(p,v){var S=p[v+0-32],k=p[v+1-32],U=p[v+2-32],z=p[v+3-32],G=p[v+4-32],K=p[v+5-32],Z=p[v+6-32],te=p[v+7-32];p[v+0+0]=S+k+1>>1,p[v+1+0]=p[v+0+64]=k+U+1>>1,p[v+2+0]=p[v+1+64]=U+z+1>>1,p[v+3+0]=p[v+2+64]=z+G+1>>1,p[v+0+32]=Pt(S,k,U),p[v+1+32]=p[v+0+96]=Pt(k,U,z),p[v+2+32]=p[v+1+96]=Pt(U,z,G),p[v+3+32]=p[v+2+96]=Pt(z,G,K),p[v+3+64]=Pt(G,K,Z),p[v+3+96]=Pt(K,Z,te)}function so(p,v){var S=p[v-1+0],k=p[v-1+32],U=p[v-1+64],z=p[v-1+96];p[v+0+0]=S+k+1>>1,p[v+2+0]=p[v+0+32]=k+U+1>>1,p[v+2+32]=p[v+0+64]=U+z+1>>1,p[v+1+0]=Pt(S,k,U),p[v+3+0]=p[v+1+32]=Pt(k,U,z),p[v+3+32]=p[v+1+64]=Pt(U,z,z),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=z}function Ms(p,v){var S=p[v-1+0],k=p[v-1+32],U=p[v-1+64],z=p[v-1+96],G=p[v-1-32],K=p[v+0-32],Z=p[v+1-32],te=p[v+2-32];p[v+0+0]=p[v+2+32]=S+G+1>>1,p[v+0+32]=p[v+2+64]=k+S+1>>1,p[v+0+64]=p[v+2+96]=U+k+1>>1,p[v+0+96]=z+U+1>>1,p[v+3+0]=Pt(K,Z,te),p[v+2+0]=Pt(G,K,Z),p[v+1+0]=p[v+3+32]=Pt(S,G,K),p[v+1+32]=p[v+3+64]=Pt(k,S,G),p[v+1+64]=p[v+3+96]=Pt(U,k,S),p[v+1+96]=Pt(z,U,k)}function Ea(p,v){var S;for(S=0;8>S;++S)r(p,v+32*S,p,v-32,8)}function yi(p,v){var S;for(S=0;8>S;++S)i(p,v,p[v-1],8),v+=32}function Ci(p,v,S){var k;for(k=0;8>k;++k)i(v,S+32*k,p,8)}function is(p,v){var S,k=8;for(S=0;8>S;++S)k+=p[v+S-32]+p[v-1+32*S];Ci(k>>4,p,v)}function Io(p,v){var S,k=4;for(S=0;8>S;++S)k+=p[v+S-32];Ci(k>>3,p,v)}function Mn(p,v){var S,k=4;for(S=0;8>S;++S)k+=p[v-1+32*S];Ci(k>>3,p,v)}function Xa(p,v){Ci(128,p,v)}function oo(p,v,S){var k=p[v-S],U=p[v+0],z=3*(U-k)+Do[1020+p[v-2*S]-p[v+S]],G=$l[112+(z+4>>3)];p[v-S]=Hi[255+k+$l[112+(z+3>>3)]],p[v+0]=Hi[255+U-G]}function Ns(p,v,S,k){var U=p[v+0],z=p[v+S];return Bs[255+p[v-2*S]-p[v-S]]>k||Bs[255+z-U]>k}function Po(p,v,S,k){return 4*Bs[255+p[v-S]-p[v+0]]+Bs[255+p[v-2*S]-p[v+S]]<=k}function ko(p,v,S,k,U){var z=p[v-3*S],G=p[v-2*S],K=p[v-S],Z=p[v+0],te=p[v+S],de=p[v+2*S],Ie=p[v+3*S];return 4*Bs[255+K-Z]+Bs[255+G-te]>k?0:Bs[255+p[v-4*S]-z]<=U&&Bs[255+z-G]<=U&&Bs[255+G-K]<=U&&Bs[255+Ie-de]<=U&&Bs[255+de-te]<=U&&Bs[255+te-Z]<=U}function vi(p,v,S,k){var U=2*k+1;for(k=0;16>k;++k)Po(p,v+k,S,U)&&oo(p,v+k,S)}function Fs(p,v,S,k){var U=2*k+1;for(k=0;16>k;++k)Po(p,v+k*S,1,U)&&oo(p,v+k*S,1)}function wi(p,v,S,k){var U;for(U=3;0<U;--U)vi(p,v+=4*S,S,k)}function Ta(p,v,S,k){var U;for(U=3;0<U;--U)Fs(p,v+=4,S,k)}function ss(p,v,S,k,U,z,G,K){for(z=2*z+1;0<U--;){if(ko(p,v,S,z,G))if(Ns(p,v,S,K))oo(p,v,S);else{var Z=p,te=v,de=S,Ie=Z[te-2*de],re=Z[te-de],me=Z[te+0],Ae=Z[te+de],Ue=Z[te+2*de],ke=27*(Ve=Do[1020+3*(me-re)+Do[1020+Ie-Ae]])+63>>7,Me=18*Ve+63>>7,Ve=9*Ve+63>>7;Z[te-3*de]=Hi[255+Z[te-3*de]+Ve],Z[te-2*de]=Hi[255+Ie+Me],Z[te-de]=Hi[255+re+ke],Z[te+0]=Hi[255+me-ke],Z[te+de]=Hi[255+Ae-Me],Z[te+2*de]=Hi[255+Ue-Ve]}v+=k}}function ri(p,v,S,k,U,z,G,K){for(z=2*z+1;0<U--;){if(ko(p,v,S,z,G))if(Ns(p,v,S,K))oo(p,v,S);else{var Z=p,te=v,de=S,Ie=Z[te-de],re=Z[te+0],me=Z[te+de],Ae=$l[112+(4+(Ue=3*(re-Ie))>>3)],Ue=$l[112+(Ue+3>>3)],ke=Ae+1>>1;Z[te-2*de]=Hi[255+Z[te-2*de]+ke],Z[te-de]=Hi[255+Ie+Ue],Z[te+0]=Hi[255+re-Ae],Z[te+de]=Hi[255+me-ke]}v+=k}}function Na(p,v,S,k,U,z){ss(p,v,S,1,16,k,U,z)}function jr(p,v,S,k,U,z){ss(p,v,1,S,16,k,U,z)}function _i(p,v,S,k,U,z){var G;for(G=3;0<G;--G)ri(p,v+=4*S,S,1,16,k,U,z)}function Yo(p,v,S,k,U,z){var G;for(G=3;0<G;--G)ri(p,v+=4,1,S,16,k,U,z)}function x(p,v,S,k,U,z,G,K){ss(p,v,U,1,8,z,G,K),ss(S,k,U,1,8,z,G,K)}function V(p,v,S,k,U,z,G,K){ss(p,v,1,U,8,z,G,K),ss(S,k,1,U,8,z,G,K)}function ie(p,v,S,k,U,z,G,K){ri(p,v+4*U,U,1,8,z,G,K),ri(S,k+4*U,U,1,8,z,G,K)}function ce(p,v,S,k,U,z,G,K){ri(p,v+4,1,U,8,z,G,K),ri(S,k+4,1,U,8,z,G,K)}function we(){this.ba=new cn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Be(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $e(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function st(){this.ua=0,this.Wa=new qt,this.vb=new qt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Se,this.yc=new M}function dt(){this.xb=this.a=0,this.l=new Or,this.ca=new cn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new st,this.ab=0,this.gc=a(4,$e),this.Oc=0}function Ct(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Or,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function jt(p,v,S,k,U,z,G){for(p=p==null?0:p[v+0],v=0;v<G;++v)U[z+v]=p+S[k+v]&255,p=U[z+v]}function yn(p,v,S,k,U,z,G){var K;if(p==null)jt(null,null,S,k,U,z,G);else for(K=0;K<G;++K)U[z+K]=p[v+K]+S[k+K]&255}function Sn(p,v,S,k,U,z,G){if(p==null)jt(null,null,S,k,U,z,G);else{var K,Z=p[v+0],te=Z,de=Z;for(K=0;K<G;++K)te=de+(Z=p[v+K])-te,de=S[k+K]+(-256&te?0>te?0:255:te)&255,te=Z,U[z+K]=de}}function lr(p,v,S,k){var U=v.width,z=v.o;if(e(p!=null&&v!=null),0>S||0>=k||S+k>z)return null;if(!p.Cc){if(p.ga==null){var G;if(p.ga=new Ct,(G=p.ga==null)||(G=v.width*v.o,e(p.Gb.length==0),p.Gb=s(G),p.Uc=0,p.Gb==null?G=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,G=1),G=!G),!G){G=p.ga;var K=p.Fa,Z=p.P,te=p.qc,de=p.mb,Ie=p.nb,re=Z+1,me=te-1,Ae=G.l;if(e(K!=null&&de!=null&&v!=null),Ri[0]=null,Ri[1]=jt,Ri[2]=yn,Ri[3]=Sn,G.ca=de,G.tb=Ie,G.c=v.width,G.i=v.height,e(0<G.c&&0<G.i),1>=te)v=0;else if(G.$a=3&K[Z+0],G.Z=K[Z+0]>>2&3,G.Lc=K[Z+0]>>4&3,Z=K[Z+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Z)v=0;else if(Ae.put=It,Ae.ac=ti,Ae.bc=Ln,Ae.ma=G,Ae.width=v.width,Ae.height=v.height,Ae.Da=v.Da,Ae.v=v.v,Ae.va=v.va,Ae.j=v.j,Ae.o=v.o,G.$a)e:{e(G.$a==1),v=bo();t:for(;;){if(v==null){v=0;break e}if(e(G!=null),G.mc=v,v.c=G.c,v.i=G.i,v.l=G.l,v.l.ma=G,v.l.width=G.c,v.l.height=G.i,v.a=0,he(v.m,K,re,me),!es(G.c,G.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Ii(v.s)?(G.ic=1,K=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(K),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(G.ic=0,v=Os(v,G.c)),!v))break t;v=1;break e}G.mc=null,v=0}else v=me>=G.c*G.i;G=!v}if(G)return null;p.ga.Lc!=1?p.Ga=0:k=z-S}e(p.ga!=null),e(S+k<=z);e:{if(v=(K=p.ga).c,z=K.l.o,K.$a==0){if(re=p.rc,me=p.Vc,Ae=p.Fa,Z=p.P+1+S*v,te=p.mb,de=p.nb+S*v,e(Z<=p.P+p.qc),K.Z!=0)for(e(Ri[K.Z]!=null),G=0;G<k;++G)Ri[K.Z](re,me,Ae,Z,te,de,v),re=te,me=de,de+=v,Z+=v;else for(G=0;G<k;++G)r(te,de,Ae,Z,v),re=te,me=de,de+=v,Z+=v;p.rc=re,p.Vc=me}else{if(e(K.mc!=null),v=S+k,e((G=K.mc)!=null),e(v<=G.i),G.C>=v)v=1;else if(K.ic||Jn(),K.ic){K=G.V,re=G.Ba,me=G.c;var Ue=G.i,ke=(Ae=1,Z=G.$/me,te=G.$%me,de=G.m,Ie=G.s,G.$),Me=me*Ue,Ve=me*v,qe=Ie.wc,ze=ke<Ve?qn(Ie,te,Z):null;e(ke<=Me),e(v<=Ue),e(Ii(Ie));t:for(;;){for(;!de.h&&ke<Ve;){if(te&qe||(ze=qn(Ie,te,Z)),e(ze!=null),ve(de),256>(Ue=jn(ze.G[0],ze.H[0],de)))K[re+ke]=Ue,++ke,++te>=me&&(te=0,++Z<=v&&!(Z%16)&&Tr(G,Z));else{if(!(280>Ue)){Ae=0;break t}Ue=mr(Ue-256,de);var bt,ot=jn(ze.G[4],ze.H[4],de);if(ve(de),!(ke>=(ot=ni(me,ot=mr(ot,de)))&&Me-ke>=Ue)){Ae=0;break t}for(bt=0;bt<Ue;++bt)K[re+ke+bt]=K[re+ke+bt-ot];for(ke+=Ue,te+=Ue;te>=me;)te-=me,++Z<=v&&!(Z%16)&&Tr(G,Z);ke<Ve&&te&qe&&(ze=qn(Ie,te,Z))}e(de.h==ue(de))}Tr(G,Z>v?v:Z);break t}!Ae||de.h&&ke<Me?(Ae=0,G.a=de.h?5:3):G.$=ke,v=Ae}else v=fi(G,G.V,G.Ba,G.c,G.i,v,to);if(!v){k=0;break e}}S+k>=z&&(p.Cc=1),k=1}if(!k)return null;if(p.Cc&&((k=p.ga)!=null&&(k.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*U}function Dn(p,v,S,k,U,z){for(;0<U--;){var G,K=p,Z=v+(S?1:0),te=p,de=v+(S?0:3);for(G=0;G<k;++G){var Ie=te[de+4*G];Ie!=255&&(Ie*=32897,K[Z+4*G+0]=K[Z+4*G+0]*Ie>>23,K[Z+4*G+1]=K[Z+4*G+1]*Ie>>23,K[Z+4*G+2]=K[Z+4*G+2]*Ie>>23)}v+=z}}function vr(p,v,S,k,U){for(;0<k--;){var z;for(z=0;z<S;++z){var G=p[v+2*z+0],K=15&(te=p[v+2*z+1]),Z=4369*K,te=(240&te|te>>4)*Z>>16;p[v+2*z+0]=(240&G|G>>4)*Z>>16&240|(15&G|G<<4)*Z>>16>>4&15,p[v+2*z+1]=240&te|K}v+=U}}function nr(p,v,S,k,U,z,G,K){var Z,te,de=255;for(te=0;te<U;++te){for(Z=0;Z<k;++Z){var Ie=p[v+Z];z[G+4*Z]=Ie,de&=Ie}v+=S,G+=K}return de!=255}function wr(p,v,S,k,U){var z;for(z=0;z<U;++z)S[k+z]=p[v+z]>>8}function Jn(){ol=Dn,Xh=vr,Wu=nr,Zh=wr}function xi(p,v,S){L[p]=function(k,U,z,G,K,Z,te,de,Ie,re,me,Ae,Ue,ke,Me,Ve,qe){var ze,bt=qe-1>>1,ot=K[Z+0]|te[de+0]<<16,Yt=Ie[re+0]|me[Ae+0]<<16;e(k!=null);var ht=3*ot+Yt+131074>>2;for(v(k[U+0],255&ht,ht>>16,Ue,ke),z!=null&&(ht=3*Yt+ot+131074>>2,v(z[G+0],255&ht,ht>>16,Me,Ve)),ze=1;ze<=bt;++ze){var fn=K[Z+ze]|te[de+ze]<<16,br=Ie[re+ze]|me[Ae+ze]<<16,Qt=ot+fn+Yt+br+524296,at=Qt+2*(fn+Yt)>>3;ht=at+ot>>1,ot=(Qt=Qt+2*(ot+br)>>3)+fn>>1,v(k[U+2*ze-1],255&ht,ht>>16,Ue,ke+(2*ze-1)*S),v(k[U+2*ze-0],255&ot,ot>>16,Ue,ke+(2*ze-0)*S),z!=null&&(ht=Qt+Yt>>1,ot=at+br>>1,v(z[G+2*ze-1],255&ht,ht>>16,Me,Ve+(2*ze-1)*S),v(z[G+2*ze+0],255&ot,ot>>16,Me,Ve+(2*ze+0)*S)),ot=fn,Yt=br}1&qe||(ht=3*ot+Yt+131074>>2,v(k[U+qe-1],255&ht,ht>>16,Ue,ke+(qe-1)*S),z!=null&&(ht=3*Yt+ot+131074>>2,v(z[G+qe-1],255&ht,ht>>16,Me,Ve+(qe-1)*S)))}}function Za(){ls[Bc]=xg,ls[La]=Ra,ls[Md]=bg,ls[Gu]=Yl,ls[Ku]=cl,ls[zn]=Zu,ls[qc]=uf,ls[Wl]=Ra,ls[al]=Yl,ls[Yu]=cl,ls[Qu]=Zu}function zi(p){return p&-16384?0>p?0:255:p>>Da}function m(p,v){return zi((19077*p>>8)+(26149*v>>8)-14234)}function A(p,v,S){return zi((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function O(p,v){return zi((19077*p>>8)+(33050*v>>8)-17685)}function J(p,v,S,k,U){k[U+0]=m(p,S),k[U+1]=A(p,v,S),k[U+2]=O(p,v)}function be(p,v,S,k,U){k[U+0]=O(p,v),k[U+1]=A(p,v,S),k[U+2]=m(p,S)}function Le(p,v,S,k,U){var z=A(p,v,S);v=z<<3&224|O(p,v)>>3,k[U+0]=248&m(p,S)|z>>5,k[U+1]=v}function Xe(p,v,S,k,U){var z=240&O(p,v)|15;k[U+0]=240&m(p,S)|A(p,v,S)>>4,k[U+1]=z}function mn(p,v,S,k,U){k[U+0]=255,J(p,v,S,k,U+1)}function ur(p,v,S,k,U){be(p,v,S,k,U),k[U+3]=255}function an(p,v,S,k,U){J(p,v,S,k,U),k[U+3]=255}function sn(p,v){return 0>p?0:p>v?v:p}function Fn(p,v,S){L[p]=function(k,U,z,G,K,Z,te,de,Ie){for(var re=de+(-2&Ie)*S;de!=re;)v(k[U+0],z[G+0],K[Z+0],te,de),v(k[U+1],z[G+0],K[Z+0],te,de+S),U+=2,++G,++Z,de+=2*S;1&Ie&&v(k[U+0],z[G+0],K[Z+0],te,de)}}function bi(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function Li(p,v,S,k,U){switch(p>>>30){case 3:il(v,S,k,U,0);break;case 2:_r(v,S,k,U);break;case 1:An(v,S,k,U)}}function ii(p,v){var S,k,U=v.M,z=v.Nb,G=p.oc,K=p.pc+40,Z=p.oc,te=p.pc+584,de=p.oc,Ie=p.pc+600;for(S=0;16>S;++S)G[K+32*S-1]=129;for(S=0;8>S;++S)Z[te+32*S-1]=129,de[Ie+32*S-1]=129;for(0<U?G[K-1-32]=Z[te-1-32]=de[Ie-1-32]=129:(i(G,K-32-1,127,21),i(Z,te-32-1,127,9),i(de,Ie-32-1,127,9)),k=0;k<p.za;++k){var re=v.ya[v.aa+k];if(0<k){for(S=-1;16>S;++S)r(G,K+32*S-4,G,K+32*S+12,4);for(S=-1;8>S;++S)r(Z,te+32*S-4,Z,te+32*S+4,4),r(de,Ie+32*S-4,de,Ie+32*S+4,4)}var me=p.Gd,Ae=p.Hd+k,Ue=re.ad,ke=re.Hc;if(0<U&&(r(G,K-32,me[Ae].y,0,16),r(Z,te-32,me[Ae].f,0,8),r(de,Ie-32,me[Ae].ea,0,8)),re.Za){var Me=G,Ve=K-32+16;for(0<U&&(k>=p.za-1?i(Me,Ve,me[Ae].y[15],4):r(Me,Ve,me[Ae+1].y,0,4)),S=0;4>S;S++)Me[Ve+128+S]=Me[Ve+256+S]=Me[Ve+384+S]=Me[Ve+0+S];for(S=0;16>S;++S,ke<<=2)Me=G,Ve=K+cf[S],qs[re.Ob[S]](Me,Ve),Li(ke,Ue,16*+S,Me,Ve)}else if(Me=bi(k,U,re.Ob[0]),$i[Me](G,K),ke!=0)for(S=0;16>S;++S,ke<<=2)Li(ke,Ue,16*+S,G,K+cf[S]);for(S=re.Gc,Me=bi(k,U,re.Dd),as[Me](Z,te),as[Me](de,Ie),ke=Ue,Me=Z,Ve=te,255&(re=0|S)&&(170&re?os(ke,256,Me,Ve):Vn(ke,256,Me,Ve)),re=de,ke=Ie,255&(S>>=8)&&(170&S?os(Ue,320,re,ke):Vn(Ue,320,re,ke)),U<p.Ub-1&&(r(me[Ae].y,0,G,K+480,16),r(me[Ae].f,0,Z,te+224,8),r(me[Ae].ea,0,de,Ie+224,8)),S=8*z*p.B,me=p.sa,Ae=p.ta+16*k+16*z*p.R,Ue=p.qa,re=p.ra+8*k+S,ke=p.Ha,Me=p.Ia+8*k+S,S=0;16>S;++S)r(me,Ae+S*p.R,G,K+32*S,16);for(S=0;8>S;++S)r(Ue,re+S*p.B,Z,te+32*S,8),r(ke,Me+S*p.B,de,Ie+32*S,8)}}function Vs(p,v,S,k,U,z,G,K,Z){var te=[0],de=[0],Ie=0,re=Z!=null?Z.kd:0,me=Z??new Be;if(p==null||12>S)return 7;me.data=p,me.w=v,me.ha=S,v=[v],S=[S],me.gb=[me.gb];e:{var Ae=v,Ue=S,ke=me.gb;if(e(p!=null),e(Ue!=null),e(ke!=null),ke[0]=0,12<=Ue[0]&&!t(p,Ae[0],"RIFF")){if(t(p,Ae[0]+8,"WEBP")){ke=3;break e}var Me=Fe(p,Ae[0]+4);if(12>Me||4294967286<Me){ke=3;break e}if(re&&Me>Ue[0]-8){ke=7;break e}ke[0]=Me,Ae[0]+=12,Ue[0]-=12}ke=0}if(ke!=0)return ke;for(Me=0<me.gb[0],S=S[0];;){e:{var Ve=p;Ue=v,ke=S;var qe=te,ze=de,bt=Ae=[0];if((ht=Ie=[Ie])[0]=0,8>ke[0])ke=7;else{if(!t(Ve,Ue[0],"VP8X")){if(Fe(Ve,Ue[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var ot=Fe(Ve,Ue[0]+8),Yt=1+rt(Ve,Ue[0]+12);if(2147483648<=Yt*(Ve=1+rt(Ve,Ue[0]+15))){ke=3;break e}bt!=null&&(bt[0]=ot),qe!=null&&(qe[0]=Yt),ze!=null&&(ze[0]=Ve),Ue[0]+=18,ke[0]-=18,ht[0]=1}ke=0}}if(Ie=Ie[0],Ae=Ae[0],ke!=0)return ke;if(Ue=!!(2&Ae),!Me&&Ie)return 3;if(z!=null&&(z[0]=!!(16&Ae)),G!=null&&(G[0]=Ue),K!=null&&(K[0]=0),G=te[0],Ae=de[0],Ie&&Ue&&Z==null){ke=0;break}if(4>S){ke=7;break}if(Me&&Ie||!Me&&!Ie&&!t(p,v[0],"ALPH")){S=[S],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{ot=p,ke=v,Me=S;var ht=me.gb;qe=me.na,ze=me.P,bt=me.Sa,Yt=22,e(ot!=null),e(Me!=null),Ve=ke[0];var fn=Me[0];for(e(qe!=null),e(bt!=null),qe[0]=null,ze[0]=null,bt[0]=0;;){if(ke[0]=Ve,Me[0]=fn,8>fn){ke=7;break e}var br=Fe(ot,Ve+4);if(4294967286<br){ke=3;break e}var Qt=8+br+1&-2;if(Yt+=Qt,0<ht&&Yt>ht){ke=3;break e}if(!t(ot,Ve,"VP8 ")||!t(ot,Ve,"VP8L")){ke=0;break e}if(fn[0]<Qt){ke=7;break e}t(ot,Ve,"ALPH")||(qe[0]=ot,ze[0]=Ve+8,bt[0]=br),Ve+=Qt,fn-=Qt}}if(S=S[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],ke!=0)break}S=[S],me.Ja=[me.Ja],me.xa=[me.xa];e:if(ht=p,ke=v,Me=S,qe=me.gb[0],ze=me.Ja,bt=me.xa,ot=ke[0],Ve=!t(ht,ot,"VP8 "),Yt=!t(ht,ot,"VP8L"),e(ht!=null),e(Me!=null),e(ze!=null),e(bt!=null),8>Me[0])ke=7;else{if(Ve||Yt){if(ht=Fe(ht,ot+4),12<=qe&&ht>qe-12){ke=3;break e}if(re&&ht>Me[0]-8){ke=7;break e}ze[0]=ht,ke[0]+=8,Me[0]-=8,bt[0]=Yt}else bt[0]=5<=Me[0]&&ht[ot+0]==47&&!(ht[ot+4]>>5),ze[0]=Me[0];ke=0}if(S=S[0],me.Ja=me.Ja[0],me.xa=me.xa[0],v=v[0],ke!=0)break;if(4294967286<me.Ja)return 3;if(K==null||Ue||(K[0]=me.xa?2:1),G=[G],Ae=[Ae],me.xa){if(5>S){ke=7;break}K=G,re=Ae,Ue=z,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(Me=[0],ht=[0],qe=[0],he(ze=new X,p,v,S),Zi(ze,Me,ht,qe)?(K!=null&&(K[0]=Me[0]),re!=null&&(re[0]=ht[0]),Ue!=null&&(Ue[0]=qe[0]),p=1):p=0):p=0}else{if(10>S){ke=7;break}K=Ae,p==null||10>S||!Ja(p,v+3,S-3)?p=0:(re=p[v+0]|p[v+1]<<8|p[v+2]<<16,Ue=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=me.Ja||!Ue||!p?p=0:(G&&(G[0]=Ue),K&&(K[0]=p),p=1))}if(!p||(G=G[0],Ae=Ae[0],Ie&&(te[0]!=G||de[0]!=Ae)))return 3;Z!=null&&(Z[0]=me,Z.offset=v-Z.w,e(4294967286>v-Z.w),e(Z.offset==Z.ha-S));break}return ke==0||ke==7&&Ie&&Z==null?(z!=null&&(z[0]|=me.na!=null&&0<me.na.length),k!=null&&(k[0]=G),U!=null&&(U[0]=Ae),0):ke}function Vl(p,v,S){var k=v.width,U=v.height,z=0,G=0,K=k,Z=U;if(v.Da=p!=null&&0<p.Da,v.Da&&(K=p.cd,Z=p.bd,z=p.v,G=p.j,11>S||(z&=-2,G&=-2),0>z||0>G||0>=K||0>=Z||z+K>k||G+Z>U))return 0;if(v.v=z,v.j=G,v.va=z+K,v.o=G+Z,v.U=K,v.T=Z,v.da=p!=null&&0<p.da,v.da){if(!Et(K,Z,S=[p.ib],z=[p.hb]))return 0;v.ib=S[0],v.hb=z[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*k/4&&v.hb<3*U/4,v.Kb=0),1}function Ul(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Qo(p,v,S,k){if(k==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var U=S.cd,z=S.bd,G=-2&S.v,K=-2&S.j;if(0>G||0>K||0>=U||0>=z||G+U>p||K+z>v)return 2;p=U,v=z}if(S.da){if(!Et(p,v,U=[S.ib],z=[S.hb]))return 2;p=U[0],v=z[0]}}k.width=p,k.height=v;e:{var Z=k.width,te=k.height;if(p=k.S,0>=Z||0>=te||!(p>=Bc&&13>p))p=2;else{if(0>=k.Rd&&k.sd==null){G=z=U=v=0;var de=(K=Z*ec[p])*te;if(11>p||(z=(te+1)/2*(v=(Z+1)/2),p==12&&(G=(U=Z)*te)),(te=s(de+2*z+G))==null){p=1;break e}k.sd=te,11>p?((Z=k.f.RGBA).eb=te,Z.fb=0,Z.A=K,Z.size=de):((Z=k.f.kb).y=te,Z.O=0,Z.fa=K,Z.Fd=de,Z.f=te,Z.N=0+de,Z.Ab=v,Z.Cd=z,Z.ea=te,Z.W=0+de+z,Z.Db=v,Z.Ed=z,p==12&&(Z.F=te,Z.J=0+de+2*z),Z.Tc=G,Z.lb=U)}if(v=1,U=k.S,z=k.width,G=k.height,U>=Bc&&13>U)if(11>U)p=k.f.RGBA,v&=(K=Math.abs(p.A))*(G-1)+z<=p.size,v&=K>=z*ec[U],v&=p.eb!=null;else{p=k.f.kb,K=(z+1)/2,de=(G+1)/2,Z=Math.abs(p.fa),te=Math.abs(p.Ab);var Ie=Math.abs(p.Db),re=Math.abs(p.lb),me=re*(G-1)+z;v&=Z*(G-1)+z<=p.Fd,v&=te*(de-1)+K<=p.Cd,v=(v&=Ie*(de-1)+K<=p.Ed)&Z>=z&te>=K&Ie>=K,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,U==12&&(v&=re>=z,v&=me<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=Ul(k)),p}var Us=64,Is=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ps=24,Ia=32,Co=8,Jo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(p){return p},L.Predictor2=function(p,v,S){return v[S+0]},L.Predictor3=function(p,v,S){return v[S+1]},L.Predictor4=function(p,v,S){return v[S-1]},L.Predictor5=function(p,v,S){return _t(_t(p,v[S+1]),v[S+0])},L.Predictor6=function(p,v,S){return _t(p,v[S-1])},L.Predictor7=function(p,v,S){return _t(p,v[S+0])},L.Predictor8=function(p,v,S){return _t(v[S-1],v[S+0])},L.Predictor9=function(p,v,S){return _t(v[S+0],v[S+1])},L.Predictor10=function(p,v,S){return _t(_t(p,v[S-1]),_t(v[S+0],v[S+1]))},L.Predictor11=function(p,v,S){var k=v[S+0];return 0>=gt(k>>24&255,p>>24&255,(v=v[S-1])>>24&255)+gt(k>>16&255,p>>16&255,v>>16&255)+gt(k>>8&255,p>>8&255,v>>8&255)+gt(255&k,255&p,255&v)?k:p},L.Predictor12=function(p,v,S){var k=v[S+0];return(un((p>>24&255)+(k>>24&255)-((v=v[S-1])>>24&255))<<24|un((p>>16&255)+(k>>16&255)-(v>>16&255))<<16|un((p>>8&255)+(k>>8&255)-(v>>8&255))<<8|un((255&p)+(255&k)-(255&v)))>>>0},L.Predictor13=function(p,v,S){var k=v[S-1];return(Ft((p=_t(p,v[S+0]))>>24&255,k>>24&255)<<24|Ft(p>>16&255,k>>16&255)<<16|Ft(p>>8&255,k>>8&255)<<8|Ft(255&p,255&k))>>>0};var Xo=L.PredictorAdd0;L.PredictorAdd1=Ht,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var Lo=L.PredictorAdd2;yt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Nr,el=L.ColorIndexInverseTransform,Ro=L.MapARGB,ao=L.VP8LColorIndexInverseTransformAlpha,tl=L.MapAlpha,nl=L.VP8LPredictorsAdd=[];nl.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Bl,ql,Zo,Pa,ka,rl,Ca,il,_r,os,An,Vn,xr,Mr,lo,Hu,zl,ea,Vc,Hl,Uc,Jh,$u,sl,ol,Xh,Wu,Zh,ef=s(511),tf=s(2041),nf=s(225),rf=s(767),sf=0,Do=tf,$l=nf,Hi=rf,Bs=ef,Bc=0,La=1,Md=2,Gu=3,Ku=4,zn=5,qc=6,Wl=7,al=8,Yu=9,Qu=10,Ju=[2,3,7],zc=[3,3,11],ll=[280,256,256,256,40],Fd=[0,1,1,1,0],yg=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Vd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Hc=8,Gl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ul=null,of=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],af=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ud=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Bd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wg=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_g=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],lf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$i=[],qs=[],as=[],Oo=1,Kl=2,Ri=[],ls=[];xi("UpsampleRgbLinePair",J,3),xi("UpsampleBgrLinePair",be,3),xi("UpsampleRgbaLinePair",an,4),xi("UpsampleBgraLinePair",ur,4),xi("UpsampleArgbLinePair",mn,4),xi("UpsampleRgba4444LinePair",Xe,2),xi("UpsampleRgb565LinePair",Le,2);var xg=L.UpsampleRgbLinePair,bg=L.UpsampleBgrLinePair,Ra=L.UpsampleRgbaLinePair,Yl=L.UpsampleBgraLinePair,cl=L.UpsampleArgbLinePair,Zu=L.UpsampleRgba4444LinePair,uf=L.UpsampleRgb565LinePair,ta=16,uo=1<<ta-1,On=-227,Un=482,Da=6,Si=0,us=s(256),hl=s(256),Ql=s(256),cs=s(256),$c=s(Un-On),qd=s(Un-On);Fn("YuvToRgbRow",J,3),Fn("YuvToBgrRow",be,3),Fn("YuvToRgbaRow",an,4),Fn("YuvToBgraRow",ur,4),Fn("YuvToArgbRow",mn,4),Fn("YuvToRgba4444Row",Xe,2),Fn("YuvToRgb565Row",Le,2);var cf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fl=[0,2,8],zd=[8,7,6,4,4,2,2,2,1,1,1,1],na=1;this.WebPDecodeRGBA=function(p,v,S,k,U){var z=La,G=new we,K=new cn;G.ba=K,K.S=z,K.width=[K.width],K.height=[K.height];var Z=K.width,te=K.height,de=new Rt;if(de==null||p==null)var Ie=2;else e(de!=null),Ie=Vs(p,v,S,de.width,de.height,de.Pd,de.Qd,de.format,null);if(Ie!=0?Z=0:(Z!=null&&(Z[0]=de.width[0]),te!=null&&(te[0]=de.height[0]),Z=1),Z){K.width=K.width[0],K.height=K.height[0],k!=null&&(k[0]=K.width),U!=null&&(U[0]=K.height);e:{if(k=new Or,(U=new Be).data=p,U.w=v,U.ha=S,U.kd=1,v=[0],e(U!=null),((p=Vs(U.data,U.w,U.ha,null,null,null,v,null,U))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(G!=null),k.data=U.data,k.w=U.w+U.offset,k.ha=U.ha-U.offset,k.put=It,k.ac=ti,k.bc=Ln,k.ma=G,U.xa){if((p=bo())==null){G=1;break e}if((function(re,me){var Ae=[0],Ue=[0],ke=[0];t:for(;;){if(re==null)return 0;if(me==null)return re.a=2,0;if(re.l=me,re.a=0,he(re.m,me.data,me.w,me.ha),!Zi(re.m,Ae,Ue,ke)){re.a=3;break t}if(re.xb=Kl,me.width=Ae[0],me.height=Ue[0],!es(Ae[0],Ue[0],1,re,null))break t;return 1}return e(re.a!=0),0})(p,k)){if(k=(v=Qo(k.width,k.height,G.Oa,G.ba))==0){t:{k=p;n:for(;;){if(k==null){k=0;break t}if(e(k.s.yc!=null),e(k.s.Ya!=null),e(0<k.s.Wb),e((S=k.l)!=null),e((U=S.ma)!=null),k.xb!=0){if(k.ca=U.ba,k.tb=U.tb,e(k.ca!=null),!Vl(U.Oa,S,Gu)){k.a=2;break n}if(!Os(k,S.width)||S.da)break n;if((S.da||Mt(k.ca.S))&&Jn(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&Jn()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!oe(k.s.vb,k.s.Wa.Xa)){k.a=1;break n}k.xb=0}if(!fi(k,k.V,k.Ba,k.c,k.i,S.o,xo))break n;U.Dc=k.Ma,k=1;break t}e(k.a!=0),k=0}k=!k}k&&(v=p.a)}else v=p.a}else{if((p=new Qa)==null){G=1;break e}if(p.Fa=U.na,p.P=U.P,p.qc=U.Sa,Wo(p,k)){if((v=Qo(k.width,k.height,G.Oa,G.ba))==0){if(p.Aa=0,S=G.Oa,e((U=p)!=null),S!=null){if(0<(Z=0>(Z=S.Md)?0:100<Z?255:255*Z/100)){for(te=de=0;4>te;++te)12>(Ie=U.pb[te]).lc&&(Ie.ia=Z*zd[0>Ie.lc?0:Ie.lc]>>3),de|=Ie.ia;de&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=S.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(re,me){if(re==null)return 0;if(me==null)return ar(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!Wo(re,me))return 0;if(e(re.cb),me.ac==null||me.ac(me)){me.ob&&(re.L=0);var Ae=fl[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=me.v-Ae>>4,re.zb=me.j-Ae>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=me.o+15+Ae>>4,re.Hb=me.va+15+Ae>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var Ue=re.ed;for(Ae=0;4>Ae;++Ae){var ke;if(re.Qa.Cb){var Me=re.Qa.Lb[Ae];re.Qa.Fb||(Me+=Ue.Tb)}else Me=Ue.Tb;for(ke=0;1>=ke;++ke){var Ve=re.gd[Ae][ke],qe=Me;if(Ue.Pc&&(qe+=Ue.vd[0],ke&&(qe+=Ue.od[0])),0<(qe=0>qe?0:63<qe?63:qe)){var ze=qe;0<Ue.wb&&(ze=4<Ue.wb?ze>>2:ze>>1)>9-Ue.wb&&(ze=9-Ue.wb),1>ze&&(ze=1),Ve.dd=ze,Ve.tc=2*qe+ze,Ve.ld=40<=qe?2:15<=qe?1:0}else Ve.tc=0;Ve.La=ke}}}Ae=0}else ar(re,6,"Frame setup failed"),Ae=re.a;if(Ae=Ae==0){if(Ae){re.$c=0,0<re.Aa||(re.Ic=na);t:{Ae=re.Ic,Ue=4*(ze=re.za);var bt=32*ze,ot=ze+1,Yt=0<re.L?ze*(0<re.Aa?2:1):0,ht=(re.Aa==2?2:1)*ze;if((Ve=Ue+832+(ke=3*(16*Ae+fl[re.L])/2*bt)+(Me=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=Ve)Ae=0;else{if(Ve>re.Vb){if(re.Vb=0,re.Ec=s(Ve),re.Fc=0,re.Ec==null){Ae=ar(re,1,"no memory during frame initialization.");break t}re.Vb=Ve}Ve=re.Ec,qe=re.Fc,re.Ac=Ve,re.Bc=qe,qe+=Ue,re.Gd=a(bt,ki),re.Hd=0,re.rb=a(ot+1,Pi),re.sb=1,re.wa=Yt?a(Yt,zr):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=ze),e(!0),re.oc=Ve,re.pc=qe,qe+=832,re.ya=a(ht,xa),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=ze),re.R=16*ze,re.B=8*ze,ze=(bt=fl[re.L])*re.R,bt=bt/2*re.B,re.sa=Ve,re.ta=qe+ze,re.qa=re.sa,re.ra=re.ta+16*Ae*re.R+bt,re.Ha=re.qa,re.Ia=re.ra+8*Ae*re.B+bt,re.$c=0,qe+=ke,re.mb=Me?Ve:null,re.nb=Me?qe:null,e(qe+Me<=re.Fc+re.Vb),ns(re),i(re.Ac,re.Bc,0,Ue),Ae=1}}if(Ae){if(me.ka=0,me.y=re.sa,me.O=re.ta,me.f=re.qa,me.N=re.ra,me.ea=re.Ha,me.Vd=re.Ia,me.fa=re.R,me.Rc=re.B,me.F=null,me.J=0,!sf){for(Ae=-255;255>=Ae;++Ae)ef[255+Ae]=0>Ae?-Ae:Ae;for(Ae=-1020;1020>=Ae;++Ae)tf[1020+Ae]=-128>Ae?-128:127<Ae?127:Ae;for(Ae=-112;112>=Ae;++Ae)nf[112+Ae]=-16>Ae?-16:15<Ae?15:Ae;for(Ae=-255;510>=Ae;++Ae)rf[255+Ae]=0>Ae?0:255<Ae?255:Ae;sf=1}Ca=on,il=To,os=No,An=hn,Vn=no,_r=Ko,xr=Na,Mr=jr,lo=x,Hu=V,zl=_i,ea=Yo,Vc=ie,Hl=ce,Uc=vi,Jh=Fs,$u=wi,sl=Ta,qs[0]=zu,qs[1]=ba,qs[2]=rs,qs[3]=js,qs[4]=Ml,qs[5]=io,qs[6]=yr,qs[7]=Fl,qs[8]=Ms,qs[9]=so,$i[0]=mi,$i[1]=Ol,$i[2]=jl,$i[3]=Aa,$i[4]=Hr,$i[5]=gi,$i[6]=qi,as[0]=is,as[1]=Sa,as[2]=Ea,as[3]=yi,as[4]=Mn,as[5]=Io,as[6]=Xa,Ae=1}else Ae=0}Ae&&(Ae=(function(fn,br){for(fn.M=0;fn.M<fn.Va;++fn.M){var Qt,at=fn.Jc[fn.M&fn.Xb],tt=fn.m,Ir=fn;for(Qt=0;Qt<Ir.za;++Qt){var Ut=tt,ln=Ir,Xn=ln.Ac,si=ln.Bc+4*Qt,Fr=ln.zc,cr=ln.ya[ln.aa+Qt];if(ln.Qa.Bb?cr.$b=je(Ut,ln.Pa.jb[0])?2+je(Ut,ln.Pa.jb[2]):je(Ut,ln.Pa.jb[1]):cr.$b=0,ln.kc&&(cr.Ad=je(Ut,ln.Bd)),cr.Za=!je(Ut,145)+0,cr.Za){var $r=cr.Ob,oi=0;for(ln=0;4>ln;++ln){var rr,gn=Fr[0+ln];for(rr=0;4>rr;++rr){gn=wg[Xn[si+rr]][gn];for(var En=Ud[je(Ut,gn[0])];0<En;)En=Ud[2*En+je(Ut,gn[En])];gn=-En,Xn[si+rr]=gn}r($r,oi,Xn,si,4),oi+=4,Fr[0+ln]=gn}}else gn=je(Ut,156)?je(Ut,128)?1:3:je(Ut,163)?2:0,cr.Ob[0]=gn,i(Xn,si,gn,4),i(Fr,0,gn,4);cr.Dd=je(Ut,142)?je(Ut,114)?je(Ut,183)?1:3:2:0}if(Ir.m.Ka)return ar(fn,7,"Premature end-of-partition0 encountered.");for(;fn.ja<fn.za;++fn.ja){if(Ir=at,Ut=(tt=fn).rb[tt.sb-1],Xn=tt.rb[tt.sb+tt.ja],Qt=tt.ya[tt.aa+tt.ja],si=tt.kc?Qt.Ad:0)Ut.la=Xn.la=0,Qt.Za||(Ut.Na=Xn.Na=0),Qt.Hc=0,Qt.Gc=0,Qt.ia=0;else{var ir,Tn;if(Ut=Xn,Xn=Ir,si=tt.Pa.Xc,Fr=tt.ya[tt.aa+tt.ja],cr=tt.pb[Fr.$b],ln=Fr.ad,$r=0,oi=tt.rb[tt.sb-1],gn=rr=0,i(ln,$r,0,384),Fr.Za)var Sr=0,Ar=si[3];else{En=s(16);var Hn=Ut.Na+oi.Na;if(Hn=ul(Xn,si[1],Hn,cr.Eb,0,En,0),Ut.Na=oi.Na=(0<Hn)+0,1<Hn)Ca(En,0,ln,$r);else{var Di=En[0]+3>>3;for(En=0;256>En;En+=16)ln[$r+En]=Di}Sr=1,Ar=si[0]}var Bn=15&Ut.la,$n=15&oi.la;for(En=0;4>En;++En){var Vr=1&$n;for(Di=Tn=0;4>Di;++Di)Bn=Bn>>1|(Vr=(Hn=ul(Xn,Ar,Hn=Vr+(1&Bn),cr.Sc,Sr,ln,$r))>Sr)<<7,Tn=Tn<<2|(3<Hn?3:1<Hn?2:ln[$r+0]!=0),$r+=16;Bn>>=4,$n=$n>>1|Vr<<7,rr=(rr<<8|Tn)>>>0}for(Ar=Bn,Sr=$n>>4,ir=0;4>ir;ir+=2){for(Tn=0,Bn=Ut.la>>4+ir,$n=oi.la>>4+ir,En=0;2>En;++En){for(Vr=1&$n,Di=0;2>Di;++Di)Hn=Vr+(1&Bn),Bn=Bn>>1|(Vr=0<(Hn=ul(Xn,si[2],Hn,cr.Qc,0,ln,$r)))<<3,Tn=Tn<<2|(3<Hn?3:1<Hn?2:ln[$r+0]!=0),$r+=16;Bn>>=2,$n=$n>>1|Vr<<5}gn|=Tn<<4*ir,Ar|=Bn<<4<<ir,Sr|=(240&$n)<<ir}Ut.la=Ar,oi.la=Sr,Fr.Hc=rr,Fr.Gc=gn,Fr.ia=43690&gn?0:cr.ia,si=!(rr|gn)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[Qt.$b][Qt.Za],tt.wa[tt.Y+tt.ja].La|=!si),Ir.Ka)return ar(fn,7,"Premature end-of-file encountered.")}if(ns(fn),tt=br,Ir=1,Qt=(at=fn).D,Ut=0<at.L&&at.M>=at.zb&&at.M<=at.Va,at.Aa==0)t:{if(Qt.M=at.M,Qt.uc=Ut,ii(at,Qt),Ir=1,Qt=(Tn=at.D).Nb,Ut=(gn=fl[at.L])*at.R,Xn=gn/2*at.B,En=16*Qt*at.R,Di=8*Qt*at.B,si=at.sa,Fr=at.ta-Ut+En,cr=at.qa,ln=at.ra-Xn+Di,$r=at.Ha,oi=at.Ia-Xn+Di,$n=(Bn=Tn.M)==0,rr=Bn>=at.Va-1,at.Aa==2&&ii(at,Tn),Tn.uc)for(Vr=(Hn=at).D.M,e(Hn.D.uc),Tn=Hn.yb;Tn<Hn.Hb;++Tn){Sr=Tn,Ar=Vr;var Ai=(hs=(Cr=Hn).D).Nb;ir=Cr.R;var hs=hs.wa[hs.Y+Sr],Pr=Cr.sa,kr=Cr.ta+16*Ai*ir+16*Sr,Oi=hs.dd,Wn=hs.tc;if(Wn!=0)if(e(3<=Wn),Cr.L==1)0<Sr&&Jh(Pr,kr,ir,Wn+4),hs.La&&sl(Pr,kr,ir,Wn),0<Ar&&Uc(Pr,kr,ir,Wn+4),hs.La&&$u(Pr,kr,ir,Wn);else{var ji=Cr.B,zs=Cr.qa,co=Cr.ra+8*Ai*ji+8*Sr,ai=Cr.Ha,Cr=Cr.Ia+8*Ai*ji+8*Sr;Ai=hs.ld,0<Sr&&(Mr(Pr,kr,ir,Wn+4,Oi,Ai),Hu(zs,co,ai,Cr,ji,Wn+4,Oi,Ai)),hs.La&&(ea(Pr,kr,ir,Wn,Oi,Ai),Hl(zs,co,ai,Cr,ji,Wn,Oi,Ai)),0<Ar&&(xr(Pr,kr,ir,Wn+4,Oi,Ai),lo(zs,co,ai,Cr,ji,Wn+4,Oi,Ai)),hs.La&&(zl(Pr,kr,ir,Wn,Oi,Ai),Vc(zs,co,ai,Cr,ji,Wn,Oi,Ai))}}if(at.ia&&alert("todo:DitherRow"),tt.put!=null){if(Tn=16*Bn,Bn=16*(Bn+1),$n?(tt.y=at.sa,tt.O=at.ta+En,tt.f=at.qa,tt.N=at.ra+Di,tt.ea=at.Ha,tt.W=at.Ia+Di):(Tn-=gn,tt.y=si,tt.O=Fr,tt.f=cr,tt.N=ln,tt.ea=$r,tt.W=oi),rr||(Bn-=gn),Bn>tt.o&&(Bn=tt.o),tt.F=null,tt.J=null,at.Fa!=null&&0<at.Fa.length&&Tn<Bn&&(tt.J=lr(at,tt,Tn,Bn-Tn),tt.F=at.mb,tt.F==null&&tt.F.length==0)){Ir=ar(at,3,"Could not decode alpha data.");break t}Tn<tt.j&&(gn=tt.j-Tn,Tn=tt.j,e(!(1&gn)),tt.O+=at.R*gn,tt.N+=at.B*(gn>>1),tt.W+=at.B*(gn>>1),tt.F!=null&&(tt.J+=tt.width*gn)),Tn<Bn&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=Tn-tt.j,tt.U=tt.va-tt.v,tt.T=Bn-Tn,Ir=tt.put(tt))}Qt+1!=at.Ic||rr||(r(at.sa,at.ta-Ut,si,Fr+16*at.R,Ut),r(at.qa,at.ra-Xn,cr,ln+8*at.B,Xn),r(at.Ha,at.Ia-Xn,$r,oi+8*at.B,Xn))}if(!Ir)return ar(fn,6,"Output aborted.")}return 1})(re,me)),me.bc!=null&&me.bc(me),Ae&=1}return Ae?(re.cb=0,Ae):0})(p,k)||(v=p.a)}}else v=p.a}v==0&&G.Oa!=null&&G.Oa.fd&&(v=Ul(G.ba))}G=v}z=G!=0?null:11>z?K.f.RGBA.eb:K.f.kb.y}else z=null;return z};var ec=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(L,q){for(var C="",j=0;j<4;j++)C+=String.fromCharCode(L[q++]);return C}function d(L,q){return L[q+0]|L[q+1]<<8}function y(L,q){return(L[q+0]|L[q+1]<<8|L[q+2]<<16)>>>0}function _(L,q){return(L[q+0]|L[q+1]<<8|L[q+2]<<16|L[q+3]<<24)>>>0}new c;var w=[0],T=[0],I=[],P=new c,F=n,Y=(function(L,q){var C={},j=0,M=!1,se=0,Se=0;if(C.frames=[],!(function(D,X){for(var ne=0;ne<4;ne++)if(D[X+ne]!="RIFF".charCodeAt(ne))return!0;return!1})(L,q)){for(_(L,q+=4),q+=8;q<L.length;){var xe=f(L,q),Ee=_(L,q+=4);q+=4;var ee=Ee+(1&Ee);switch(xe){case"VP8 ":case"VP8L":C.frames[j]===void 0&&(C.frames[j]={}),(Q=C.frames[j]).src_off=M?Se:q-8,Q.src_size=se+Ee+8,j++,M&&(M=!1,se=0,Se=0);break;case"VP8X":(Q=C.header={}).feature_flags=L[q];var he=q+4;Q.canvas_width=1+y(L,he),he+=3,Q.canvas_height=1+y(L,he),he+=3;break;case"ALPH":M=!0,se=ee+8,Se=q-8;break;case"ANIM":(Q=C.header).bgcolor=_(L,q),he=q+4,Q.loop_count=d(L,he),he+=2;break;case"ANMF":var _e,Q;(Q=C.frames[j]={}).offset_x=2*y(L,q),q+=3,Q.offset_y=2*y(L,q),q+=3,Q.width=1+y(L,q),q+=3,Q.height=1+y(L,q),q+=3,Q.duration=y(L,q),q+=3,_e=L[q++],Q.dispose=1&_e,Q.blend=_e>>1&1}xe!="ANMF"&&(q+=ee)}return C}})(F,0);Y.response=F,Y.rgbaoutput=!0,Y.dataurl=!1;var H=Y.header?Y.header:null,$=Y.frames?Y.frames:null;if(H){H.loop_counter=H.loop_count,w=[H.canvas_height],T=[H.canvas_width];for(var ae=0;ae<$.length&&$[ae].blend!=0;ae++);}var ge=$[0],W=P.WebPDecodeRGBA(F,ge.src_off,ge.src_size,T,w);ge.rgba=W,ge.imgwidth=T[0],ge.imgheight=w[0];for(var R=0;R<T[0]*w[0]*4;R++)I[R]=W[R];return this.width=T,this.height=w,this.data=I,this}(function(n){var e,t,r,i,s,a,u,c,f,d=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new a,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new a,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,f=new d}]);var y=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=D;Object.defineProperty(this,"pdf",{get:function(){return X}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(Fe){ne=!!Fe}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Fe){ue=!!Fe}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(Fe){isNaN(Fe)||(fe=Fe)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(Fe){isNaN(Fe)||(ve=Fe)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Fe){var oe;typeof Fe=="number"?oe=[Fe,Fe,Fe,Fe]:((oe=new Array(4))[0]=Fe[0],oe[1]=Fe.length>=2?Fe[1]:oe[0],oe[2]=Fe.length>=3?Fe[2]:oe[0],oe[3]=Fe.length>=4?Fe[3]:oe[1]),f.margin=oe}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(Fe){Ne=Fe}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(Fe){Te=Fe}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(Fe){je=Fe}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Fe){Fe instanceof d&&(f=Fe)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Fe){f.path=Fe}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(Fe){He=Fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Fe){var oe;oe=_(Fe),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Fe){var oe=_(Fe);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Fe){["butt","round","square"].indexOf(Fe)!==-1&&(this.ctx.lineCap=Fe,this.pdf.setLineCap(Fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Fe){isNaN(Fe)||(this.ctx.lineWidth=Fe,this.pdf.setLineWidth(Fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Fe){["bevel","round","miter"].indexOf(Fe)!==-1&&(this.ctx.lineJoin=Fe,this.pdf.setLineJoin(Fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Fe){isNaN(Fe)||(this.ctx.miterLimit=Fe,this.pdf.setMiterLimit(Fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Fe){this.ctx.textBaseline=Fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Fe){["right","end","center","left","start"].indexOf(Fe)!==-1&&(this.ctx.textAlign=Fe)}});var nt=null,rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return rt},set:function(Fe){nt=null,rt=Fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Fe){var oe;if(this.ctx.font=Fe,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Fe))!==null){var tn=oe[1];oe[2];var qt=oe[3],Et=oe[4];oe[5];var Ye=oe[6],ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Et)[2];Et=Math.floor(ut==="px"?parseFloat(Et)*this.pdf.internal.scaleFactor:ut==="em"?parseFloat(Et)*this.pdf.getFontSize():parseFloat(Et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Et);var et=(function(Tt){var yt,_n,pn=[],ft=Tt.trim();if(ft==="")return J0;if(ft in Cx)return[Cx[ft]];for(;ft!=="";){switch(_n=null,yt=(ft=Rx(ft)).charAt(0)){case'"':case"'":_n=lF(ft.substring(1),yt);break;default:_n=uF(ft)}if(_n===null||(pn.push(_n[0]),(ft=Rx(_n[1]))!==""&&ft.charAt(0)!==","))return J0;ft=ft.replace(/^,/,"")}return pn})(Ye);if(this.fontFaces){var zt=(function(Tt,yt){if(nt===null){var _n=(function(pn){var ft=[];return Object.keys(pn).forEach(function(Vt){pn[Vt].forEach(function(bn){var Nt=null;switch(bn){case"bold":Nt={family:Vt,weight:"bold"};break;case"italic":Nt={family:Vt,style:"italic"};break;case"bolditalic":Nt={family:Vt,weight:"bold",style:"italic"};break;case"":case"normal":Nt={family:Vt}}Nt!==null&&(Nt.ref={name:Vt,style:bn},ft.push(Nt))})}),ft})(Tt.getFontList());nt=(function(pn){for(var ft={},Vt=0;Vt<pn.length;++Vt){var bn=Q0(pn[Vt]),Nt=bn.family,en=bn.stretch,Mt=bn.style,Qn=bn.weight;ft[Nt]=ft[Nt]||{},ft[Nt][en]=ft[Nt][en]||{},ft[Nt][en][Mt]=ft[Nt][en][Mt]||{},ft[Nt][en][Mt][Qn]=bn}return ft})(_n.concat(yt))}return nt})(this.pdf,this.fontFaces),_t=et.map(function(Tt){return{family:Tt,stretch:"normal",weight:qt,style:tn}}),un=(function(Tt,yt,_n){for(var pn=(_n=_n||{}).defaultFontFamily||"times",ft=Object.assign({},aF,_n.genericFontFamilies||{}),Vt=null,bn=null,Nt=0;Nt<yt.length;++Nt)if(ft[(Vt=Q0(yt[Nt])).family]&&(Vt.family=ft[Vt.family]),Tt.hasOwnProperty(Vt.family)){bn=Tt[Vt.family];break}if(!(bn=bn||Tt[pn]))throw new Error("Could not find a font-family for the rule '"+Lx(Vt)+"' and default family '"+pn+"'.");if(bn=(function(en,Mt){if(Mt[en])return Mt[en];var Qn=ty[en],In=Qn<=ty.normal?-1:1,cn=kx(Mt,aE,Qn,In);if(!cn)throw new Error("Could not find a matching font-stretch value for "+en);return cn})(Vt.stretch,bn),bn=(function(en,Mt){if(Mt[en])return Mt[en];for(var Qn=oE[en],In=0;In<Qn.length;++In)if(Mt[Qn[In]])return Mt[Qn[In]];throw new Error("Could not find a matching font-style for "+en)})(Vt.style,bn),!(bn=(function(en,Mt){if(Mt[en])return Mt[en];if(en===400&&Mt[500])return Mt[500];if(en===500&&Mt[400])return Mt[400];var Qn=oF[en],In=kx(Mt,lE,Qn,en<400?-1:1);if(!In)throw new Error("Could not find a matching font-weight for value "+en);return In})(Vt.weight,bn)))throw new Error("Failed to resolve a font for the rule '"+Lx(Vt)+"'.");return bn})(zt,_t);this.pdf.setFont(un.ref.name,un.ref.style)}else{var Ft="";(qt==="bold"||parseInt(qt,10)>=700||tn==="bold")&&(Ft="bold"),tn==="italic"&&(Ft+="italic"),Ft.length===0&&(Ft="normal");for(var gt="",Ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Lt=0;Lt<et.length;Lt++){if(this.pdf.internal.getFont(et[Lt],Ft,{noFallback:!0,disableWarning:!0})!==void 0){gt=et[Lt];break}if(Ft==="bolditalic"&&this.pdf.internal.getFont(et[Lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)gt=et[Lt],Ft="bold";else if(this.pdf.internal.getFont(et[Lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){gt=et[Lt],Ft="normal";break}}if(gt===""){for(var xt=0;xt<et.length;xt++)if(Ht[et[xt]]){gt=Ht[et[xt]];break}}gt=gt===""?"Times":gt,this.pdf.setFont(gt,Ft)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Fe){this.ctx.globalCompositeOperation=Fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Fe){this.ctx.globalAlpha=Fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Fe){this.ctx.lineDashOffset=Fe,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Fe){this.ctx.lineDash=Fe,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Fe){this.ctx.ignoreClearRect=!!Fe}})};y.prototype.setLineDash=function(D){this.lineDash=D},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){$.call(this,"fill",!1)},y.prototype.stroke=function(){$.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(D,X){if(isNaN(D)||isNaN(X))throw tr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new a(D,X));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(D,X)},y.prototype.closePath=function(){var D=new a(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Kn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){D=new a(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(D.x,D.y)},y.prototype.lineTo=function(D,X){if(isNaN(D)||isNaN(X))throw tr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new a(D,X));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),$.call(this,null,!0)},y.prototype.quadraticCurveTo=function(D,X,ne,ue){if(isNaN(ne)||isNaN(ue)||isNaN(D)||isNaN(X))throw tr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new a(ne,ue)),ve=this.ctx.transform.applyToPoint(new a(D,X));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},y.prototype.bezierCurveTo=function(D,X,ne,ue,fe,ve){if(isNaN(fe)||isNaN(ve)||isNaN(D)||isNaN(X)||isNaN(ne)||isNaN(ue))throw tr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new a(fe,ve)),Te=this.ctx.transform.applyToPoint(new a(D,X)),je=this.ctx.transform.applyToPoint(new a(ne,ue));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:je.x,y2:je.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new a(Ne.x,Ne.y)},y.prototype.arc=function(D,X,ne,ue,fe,ve){if(isNaN(D)||isNaN(X)||isNaN(ne)||isNaN(ue)||isNaN(fe))throw tr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new a(D,X));D=Ne.x,X=Ne.y;var Te=this.ctx.transform.applyToPoint(new a(0,ne)),je=this.ctx.transform.applyToPoint(new a(0,0));ne=Math.sqrt(Math.pow(Te.x-je.x,2)+Math.pow(Te.y-je.y,2))}Math.abs(fe-ue)>=2*Math.PI&&(ue=0,fe=2*Math.PI),this.path.push({type:"arc",x:D,y:X,radius:ne,startAngle:ue,endAngle:fe,counterclockwise:ve})},y.prototype.arcTo=function(D,X,ne,ue,fe){throw new Error("arcTo not implemented.")},y.prototype.rect=function(D,X,ne,ue){if(isNaN(D)||isNaN(X)||isNaN(ne)||isNaN(ue))throw tr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,X),this.lineTo(D+ne,X),this.lineTo(D+ne,X+ue),this.lineTo(D,X+ue),this.lineTo(D,X),this.lineTo(D+ne,X),this.lineTo(D,X)},y.prototype.fillRect=function(D,X,ne,ue){if(isNaN(D)||isNaN(X)||isNaN(ne)||isNaN(ue))throw tr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,X,ne,ue),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},y.prototype.strokeRect=function(D,X,ne,ue){if(isNaN(D)||isNaN(X)||isNaN(ne)||isNaN(ue))throw tr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(D,X,ne,ue),this.stroke())},y.prototype.clearRect=function(D,X,ne,ue){if(isNaN(D)||isNaN(X)||isNaN(ne)||isNaN(ue))throw tr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,X,ne,ue))},y.prototype.save=function(D){D=typeof D!="boolean"||D;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},y.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(X),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(D){var X,ne,ue,fe;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))X=0,ne=0,ue=0,fe=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ve!==null)X=parseInt(ve[1]),ne=parseInt(ve[2]),ue=parseInt(ve[3]),fe=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)X=parseInt(ve[1]),ne=parseInt(ve[2]),ue=parseInt(ve[3]),fe=parseFloat(ve[4]);else{if(fe=1,typeof D=="string"&&D.charAt(0)!=="#"){var Ne=new Z3(D);D=Ne.ok?Ne.toHex():"#000000"}D.length===4?(X=D.substring(1,2),X+=X,ne=D.substring(2,3),ne+=ne,ue=D.substring(3,4),ue+=ue):(X=D.substring(1,3),ne=D.substring(3,5),ue=D.substring(5,7)),X=parseInt(X,16),ne=parseInt(ne,16),ue=parseInt(ue,16)}}return{r:X,g:ne,b:ue,a:fe,style:D}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(D,X,ne,ue){if(isNaN(X)||isNaN(ne)||typeof D!="string")throw tr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!w.call(this)){var fe=ee(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;j.call(this,{text:D,x:X,y:ne,scale:ve,angle:fe,align:this.textAlign,maxWidth:ue})}},y.prototype.strokeText=function(D,X,ne,ue){if(isNaN(X)||isNaN(ne)||typeof D!="string")throw tr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){ue=isNaN(ue)?void 0:ue;var fe=ee(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;j.call(this,{text:D,x:X,y:ne,scale:ve,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ue})}},y.prototype.measureText=function(D){if(typeof D!="string")throw tr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,ne=this.pdf.internal.scaleFactor,ue=X.internal.getFontSize(),fe=X.getStringUnitWidth(D)*ue/X.internal.scaleFactor;return new function(ve){var Ne=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this}({width:fe*=Math.round(96*ne/72*1e4)/1e4})},y.prototype.scale=function(D,X){if(isNaN(D)||isNaN(X))throw tr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new c(D,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},y.prototype.rotate=function(D){if(isNaN(D))throw tr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},y.prototype.translate=function(D,X){if(isNaN(D)||isNaN(X))throw tr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new c(1,0,0,1,D,X);this.ctx.transform=this.ctx.transform.multiply(ne)},y.prototype.transform=function(D,X,ne,ue,fe,ve){if(isNaN(D)||isNaN(X)||isNaN(ne)||isNaN(ue)||isNaN(fe)||isNaN(ve))throw tr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new c(D,X,ne,ue,fe,ve);this.ctx.transform=this.ctx.transform.multiply(Ne)},y.prototype.setTransform=function(D,X,ne,ue,fe,ve){D=isNaN(D)?1:D,X=isNaN(X)?0:X,ne=isNaN(ne)?0:ne,ue=isNaN(ue)?1:ue,fe=isNaN(fe)?0:fe,ve=isNaN(ve)?0:ve,this.ctx.transform=new c(D,X,ne,ue,fe,ve)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(D,X,ne,ue,fe,ve,Ne,Te,je){var He=this.pdf.getImageProperties(D),nt=1,rt=1,Fe=1,oe=1;ue!==void 0&&Te!==void 0&&(Fe=Te/ue,oe=je/fe,nt=He.width/ue*Te/ue,rt=He.height/fe*je/fe),ve===void 0&&(ve=X,Ne=ne,X=0,ne=0),ue!==void 0&&Te===void 0&&(Te=ue,je=fe),ue===void 0&&Te===void 0&&(Te=He.width,je=He.height);for(var tn,qt=this.ctx.transform.decompose(),Et=ee(qt.rotate.shx),Ye=new c,ut=(Ye=(Ye=(Ye=Ye.multiply(qt.translate)).multiply(qt.skew)).multiply(qt.scale)).applyToRectangle(new u(ve-X*Fe,Ne-ne*oe,ue*nt,fe*rt)),et=P.call(this,ut),zt=[],_t=0;_t<et.length;_t+=1)zt.indexOf(et[_t])===-1&&zt.push(et[_t]);if(H(zt),this.autoPaging)for(var un=zt[0],Ft=zt[zt.length-1],gt=un;gt<Ft+1;gt++){this.pdf.setPage(gt);var Ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=gt===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=gt===1?0:xt+(gt-2)*Tt;if(this.ctx.clip_path.length!==0){var _n=this.path;tn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(tn,this.posX+this.margin[3],-yt+Lt+this.ctx.prevPageLastElemOffset),ae.call(this,"fill",!0),this.path=_n}var pn=JSON.parse(JSON.stringify(ut));pn=Y([pn],this.posX+this.margin[3],-yt+Lt+this.ctx.prevPageLastElemOffset)[0];var ft=(gt>un||gt<Ft)&&I.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,Tt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",pn.x,pn.y,pn.w,pn.h,null,null,Et),ft&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",ut.x,ut.y,ut.w,ut.h,null,null,Et)};var P=function(D,X,ne){var ue=[];X=X||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":ue.push(Math.floor((D.y+fe)/ne)+1);break;case"arc":ue.push(Math.floor((D.y+fe-D.radius)/ne)+1),ue.push(Math.floor((D.y+fe+D.radius)/ne)+1);break;case"qct":var ve=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);ue.push(Math.floor((ve.y+fe)/ne)+1),ue.push(Math.floor((ve.y+ve.h+fe)/ne)+1);break;case"bct":var Ne=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);ue.push(Math.floor((Ne.y+fe)/ne)+1),ue.push(Math.floor((Ne.y+Ne.h+fe)/ne)+1);break;case"rect":ue.push(Math.floor((D.y+fe)/ne)+1),ue.push(Math.floor((D.y+D.h+fe)/ne)+1)}for(var Te=0;Te<ue.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Te];)F.call(this);return ue},F=function(){var D=this.fillStyle,X=this.strokeStyle,ne=this.font,ue=this.lineCap,fe=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=X,this.font=ne,this.lineCap=ue,this.lineWidth=fe,this.lineJoin=ve},Y=function(D,X,ne){for(var ue=0;ue<D.length;ue++)switch(D[ue].type){case"bct":D[ue].x2+=X,D[ue].y2+=ne;case"qct":D[ue].x1+=X,D[ue].y1+=ne;default:D[ue].x+=X,D[ue].y+=ne}return D},H=function(D){return D.sort(function(X,ne){return X-ne})},$=function(D,X){for(var ne,ue,fe=this.fillStyle,ve=this.strokeStyle,Ne=this.lineCap,Te=this.lineWidth,je=Math.abs(Te*this.ctx.transform.scaleX),He=this.lineJoin,nt=JSON.parse(JSON.stringify(this.path)),rt=JSON.parse(JSON.stringify(this.path)),Fe=[],oe=0;oe<rt.length;oe++)if(rt[oe].x!==void 0)for(var tn=P.call(this,rt[oe]),qt=0;qt<tn.length;qt+=1)Fe.indexOf(tn[qt])===-1&&Fe.push(tn[qt]);for(var Et=0;Et<Fe.length;Et++)for(;this.pdf.internal.getNumberOfPages()<Fe[Et];)F.call(this);if(H(Fe),this.autoPaging)for(var Ye=Fe[0],ut=Fe[Fe.length-1],et=Ye;et<ut+1;et++){this.pdf.setPage(et),this.fillStyle=fe,this.strokeStyle=ve,this.lineCap=Ne,this.lineWidth=je,this.lineJoin=He;var zt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=et===1?this.posY+this.margin[0]:this.margin[0],un=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=et===1?0:un+(et-2)*Ft;if(this.ctx.clip_path.length!==0){var Ht=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(ne,this.posX+this.margin[3],-gt+_t+this.ctx.prevPageLastElemOffset),ae.call(this,D,!0),this.path=Ht}if(ue=JSON.parse(JSON.stringify(nt)),this.path=Y(ue,this.posX+this.margin[3],-gt+_t+this.ctx.prevPageLastElemOffset),X===!1||et===0){var Lt=(et>Ye||et<ut)&&I.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zt,Ft,null).clip().discardPath()),ae.call(this,D,X),Lt&&this.pdf.restoreGraphicsState()}this.lineWidth=Te}else this.lineWidth=je,ae.call(this,D,X),this.lineWidth=Te;this.path=nt},ae=function(D,X){if((D!=="stroke"||X||!T.call(this))&&(D==="stroke"||X||!w.call(this))){for(var ne,ue,fe=[],ve=this.path,Ne=0;Ne<ve.length;Ne++){var Te=ve[Ne];switch(Te.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:Te,deltas:[],abs:[]});break;case"lt":var je=fe.length;if(ve[Ne-1]&&!isNaN(ve[Ne-1].x)&&(ne=[Te.x-ve[Ne-1].x,Te.y-ve[Ne-1].y],je>0)){for(;je>=0;je--)if(fe[je-1].close!==!0&&fe[je-1].begin!==!0){fe[je-1].deltas.push(ne),fe[je-1].abs.push(Te);break}}break;case"bct":ne=[Te.x1-ve[Ne-1].x,Te.y1-ve[Ne-1].y,Te.x2-ve[Ne-1].x,Te.y2-ve[Ne-1].y,Te.x-ve[Ne-1].x,Te.y-ve[Ne-1].y],fe[fe.length-1].deltas.push(ne);break;case"qct":var He=ve[Ne-1].x+2/3*(Te.x1-ve[Ne-1].x),nt=ve[Ne-1].y+2/3*(Te.y1-ve[Ne-1].y),rt=Te.x+2/3*(Te.x1-Te.x),Fe=Te.y+2/3*(Te.y1-Te.y),oe=Te.x,tn=Te.y;ne=[He-ve[Ne-1].x,nt-ve[Ne-1].y,rt-ve[Ne-1].x,Fe-ve[Ne-1].y,oe-ve[Ne-1].x,tn-ve[Ne-1].y],fe[fe.length-1].deltas.push(ne);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(Te)}}ue=X?null:D==="stroke"?"stroke":"fill";for(var qt=!1,Et=0;Et<fe.length;Et++)if(fe[Et].arc)for(var Ye=fe[Et].abs,ut=0;ut<Ye.length;ut++){var et=Ye[ut];et.type==="arc"?R.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,X,!qt):M.call(this,et.x,et.y),qt=!0}else if(fe[Et].close===!0)this.pdf.internal.out("h"),qt=!1;else if(fe[Et].begin!==!0){var zt=fe[Et].start.x,_t=fe[Et].start.y;se.call(this,fe[Et].deltas,zt,_t),qt=!0}ue&&L.call(this,ue),X&&q.call(this)}},ge=function(D){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-ne;case"top":return D+X-ne;case"hanging":return D+X-2*ne;case"middle":return D+X/2-ne;default:return D}},W=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(X,ne){this.colorStops.push([X,ne])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(D,X,ne,ue,fe,ve,Ne,Te,je){for(var He=xe.call(this,ne,ue,fe,ve),nt=0;nt<He.length;nt++){var rt=He[nt];nt===0&&(je?C.call(this,rt.x1+D,rt.y1+X):M.call(this,rt.x1+D,rt.y1+X)),Se.call(this,D,X,rt.x2,rt.y2,rt.x3,rt.y3,rt.x4,rt.y4)}Te?q.call(this):L.call(this,Ne)},L=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(D,X){this.pdf.internal.out(t(D)+" "+r(X)+" m")},j=function(D){var X;switch(D.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var ne=this.pdf.getTextDimensions(D.text),ue=ge.call(this,D.y),fe=W.call(this,ue)-ne.h,ve=this.ctx.transform.applyToPoint(new a(D.x,ue)),Ne=this.ctx.transform.decompose(),Te=new c;Te=(Te=(Te=Te.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var je,He,nt,rt=this.ctx.transform.applyToRectangle(new u(D.x,ue,ne.w,ne.h)),Fe=Te.applyToRectangle(new u(D.x,fe,ne.w,ne.h)),oe=P.call(this,Fe),tn=[],qt=0;qt<oe.length;qt+=1)tn.indexOf(oe[qt])===-1&&tn.push(oe[qt]);if(H(tn),this.autoPaging)for(var Et=tn[0],Ye=tn[tn.length-1],ut=Et;ut<Ye+1;ut++){this.pdf.setPage(ut);var et=ut===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],un=_t-this.margin[0],Ft=this.pdf.internal.pageSize.width-this.margin[1],gt=Ft-this.margin[3],Ht=ut===1?0:zt+(ut-2)*un;if(this.ctx.clip_path.length!==0){var Lt=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(je,this.posX+this.margin[3],-1*Ht+et),ae.call(this,"fill",!0),this.path=Lt}var xt=Y([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-Ht+et+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*D.scale),nt=this.lineWidth,this.lineWidth=nt*D.scale);var Tt=this.autoPaging!=="text";if(Tt||xt.y+xt.h<=_t){if(Tt||xt.y>=et&&xt.x<=Ft){var yt=Tt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Ft-xt.x)[0],_n=Y([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-Ht+et+this.ctx.prevPageLastElemOffset)[0],pn=Tt&&(ut>Et||ut<Ye)&&I.call(this);pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,un,null).clip().discardPath()),this.pdf.text(yt,_n.x,_n.y,{angle:D.angle,align:X,renderingMode:D.renderingMode}),pn&&this.pdf.restoreGraphicsState()}}else xt.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-xt.y);D.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=nt)}else D.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*D.scale),nt=this.lineWidth,this.lineWidth=nt*D.scale),this.pdf.text(D.text,ve.x+this.posX,ve.y+this.posY,{angle:D.angle,align:X,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=nt)},M=function(D,X,ne,ue){ne=ne||0,ue=ue||0,this.pdf.internal.out(t(D+ne)+" "+r(X+ue)+" l")},se=function(D,X,ne){return this.pdf.lines(D,X,ne,null,null)},Se=function(D,X,ne,ue,fe,ve,Ne,Te){this.pdf.internal.out([e(i(ne+D)),e(s(ue+X)),e(i(fe+D)),e(s(ve+X)),e(i(Ne+D)),e(s(Te+X)),"c"].join(" "))},xe=function(D,X,ne,ue){for(var fe=2*Math.PI,ve=Math.PI/2;X>ne;)X-=fe;var Ne=Math.abs(ne-X);Ne<fe&&ue&&(Ne=fe-Ne);for(var Te=[],je=ue?-1:1,He=X;Ne>1e-5;){var nt=He+je*Math.min(Ne,ve);Te.push(Ee.call(this,D,He,nt)),Ne-=Math.abs(nt-He),He=nt}return Te},Ee=function(D,X,ne){var ue=(ne-X)/2,fe=D*Math.cos(ue),ve=D*Math.sin(ue),Ne=fe,Te=-ve,je=Ne*Ne+Te*Te,He=je+Ne*fe+Te*ve,nt=4/3*(Math.sqrt(2*je*He)-He)/(Ne*ve-Te*fe),rt=Ne-nt*Te,Fe=Te+nt*Ne,oe=rt,tn=-Fe,qt=ue+X,Et=Math.cos(qt),Ye=Math.sin(qt);return{x1:D*Math.cos(X),y1:D*Math.sin(X),x2:rt*Et-Fe*Ye,y2:rt*Ye+Fe*Et,x3:oe*Et-tn*Ye,y3:oe*Ye+tn*Et,x4:D*Math.cos(ne),y4:D*Math.sin(ne)}},ee=function(D){return 180*D/Math.PI},he=function(D,X,ne,ue,fe,ve){var Ne=D+.5*(ne-D),Te=X+.5*(ue-X),je=fe+.5*(ne-fe),He=ve+.5*(ue-ve),nt=Math.min(D,fe,Ne,je),rt=Math.max(D,fe,Ne,je),Fe=Math.min(X,ve,Te,He),oe=Math.max(X,ve,Te,He);return new u(nt,Fe,rt-nt,oe-Fe)},_e=function(D,X,ne,ue,fe,ve,Ne,Te){var je,He,nt,rt,Fe,oe,tn,qt,Et,Ye,ut,et,zt,_t,un=ne-D,Ft=ue-X,gt=fe-ne,Ht=ve-ue,Lt=Ne-fe,xt=Te-ve;for(He=0;He<41;He++)Et=(tn=(nt=D+(je=He/40)*un)+je*((Fe=ne+je*gt)-nt))+je*(Fe+je*(fe+je*Lt-Fe)-tn),Ye=(qt=(rt=X+je*Ft)+je*((oe=ue+je*Ht)-rt))+je*(oe+je*(ve+je*xt-oe)-qt),He==0?(ut=Et,et=Ye,zt=Et,_t=Ye):(ut=Math.min(ut,Et),et=Math.min(et,Ye),zt=Math.max(zt,Et),_t=Math.max(_t,Ye));return new u(Math.round(ut),Math.round(et),Math.round(zt-ut),Math.round(_t-et))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,X,ne=(D=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:X}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(At.API),(function(n){var e=function(a){var u,c,f,d,y,_,w,T,I,P;for(c=[],f=0,d=(a+=u="\0\0\0\0".slice(a.length%4||4)).length;d>f;f+=4)(y=(a.charCodeAt(f)<<24)+(a.charCodeAt(f+1)<<16)+(a.charCodeAt(f+2)<<8)+a.charCodeAt(f+3))!==0?(_=(y=((y=((y=((y=(y-(P=y%85))/85)-(I=y%85))/85)-(T=y%85))/85)-(w=y%85))/85)%85,c.push(_+33,w+33,T+33,I+33,P+33)):c.push(122);return(function(F,Y){for(var H=Y;H>0;H--)F.pop()})(c,u.length),String.fromCharCode.apply(String,c)+"~>"},t=function(a){var u,c,f,d,y,_=String,w="length",T=255,I="charCodeAt",P="slice",F="replace";for(a[P](-2),a=a[P](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),f=[],d=0,y=(a+=u="uuuuu"[P](a[w]%5||5))[w];y>d;d+=5)c=52200625*(a[I](d)-33)+614125*(a[I](d+1)-33)+7225*(a[I](d+2)-33)+85*(a[I](d+3)-33)+(a[I](d+4)-33),f.push(T&c>>24,T&c>>16,T&c>>8,T&c);return(function(Y,H){for(var $=H;$>0;$--)Y.pop()})(f,u[w]),_.fromCharCode.apply(_,f)},r=function(a){return a.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),u.test(a)===!1)return"";for(var c="",f=0;f<a.length;f+=2)c+=String.fromCharCode("0x"+(a[f]+a[f+1]));return c},s=function(a){for(var u=new Uint8Array(a.length),c=a.length;c--;)u[c]=a.charCodeAt(c);return(u=K1(u)).reduce(function(f,d){return f+String.fromCharCode(d)},"")};n.processDataByFilters=function(a,u){var c=0,f=a||"",d=[];for(typeof(u=u||[])=="string"&&(u=[u]),c=0;c<u.length;c+=1)switch(u[c]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=s(f),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[c]+'" is not implemented')}return{data:f,reverseChain:d.reverse().join(" ")}}})(At.API),(function(n){n.loadFile=function(e,t,r){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var u=void 0;try{u=(function(c,f,d){var y=new XMLHttpRequest,_=0,w=function(T){var I=T.length,P=[],F=String.fromCharCode;for(_=0;_<I;_+=1)P.push(F(255&T.charCodeAt(_)));return P.join("")};if(y.open("GET",c,!f),y.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(y.onload=function(){y.status===200?d(w(this.responseText)):d(void 0)}),y.send(null),f&&y.status===200)return w(y.responseText)})(i,s,a)}catch{}return u})(e,t,r)},n.loadImageFile=n.loadFile})(At.API),(function(n){function e(){return(Gt.html2canvas?Promise.resolve(Gt.html2canvas):L0(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(Gt.DOMPurify?Promise.resolve(Gt.DOMPurify):L0(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var c=Kn(u);return c==="undefined"?"undefined":c==="string"||u instanceof String?"string":c==="number"||u instanceof Number?"number":c==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(u,c){var f=document.createElement(u);for(var d in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[d]=c.style[d];return f},s=function u(c,f){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),y=c.firstChild;y;y=y.nextSibling)f!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||d.appendChild(u(y,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function u(c){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),d=u.convert(Promise.resolve(),f);return(d=d.setProgress(1,u,1,[u])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(u,c){return u.__proto__=c||a.prototype,u},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(u,c){return this.then(function(){switch(c=c||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),c){case"string":return this.then(t).then(function(f){return this.set({src:i("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},a.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(c){var f=this.opt.jsPDF,d=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=d,d)for(var w=0;w<d.length;++w){var T=d[w],I=T.src.find(function(P){return P.format==="truetype"});I&&f.addFont(I.url,T.ref.name,T.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,f.context2d.save(!0),c(this.prop.container,_)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(u,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,c):this.outputPdf(u,c)},a.prototype.outputPdf=function(u,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,c)})},a.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},a.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(u){if(r(u)!=="object")return this;var c=Object.keys(u||{}).map(function(f){if(f in a.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(u,c){return this.then(function(){var f=u in a.template.prop?this.prop[u]:this.opt[u];return c?c(f):f})},a.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},a.prototype.setPageSize=function(u){function c(f,d){return Math.floor(f*d/72*96)}return this.then(function(){(u=u||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:c(u.inner.width,u.k),height:c(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},a.prototype.setProgress=function(u,c,f,d){return u!=null&&(this.progress.val=u),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(u,c,f,d){return this.setProgress(u?this.progress.val+u:null,c||null,f?this.progress.n+f:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(u,c){var f=this;return this.thenCore(u,c,function(d,y){return f.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(_){return f.updateProgress(null,d),_}).then(d,y).then(function(_){return f.updateProgress(1),_})})},a.prototype.thenCore=function(u,c,f){f=f||Promise.prototype.then;var d=this;u&&(u=u.bind(d)),c&&(c=c.bind(d));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),_=f.call(y,u,c);return a.convert(_,d.__proto__)},a.prototype.thenExternal=function(u,c){return Promise.prototype.then.call(this,u,c)},a.prototype.thenList=function(u){var c=this;return u.forEach(function(f){c=c.thenCore(f)}),c},a.prototype.catch=function(u){u&&(u=u.bind(this));var c=Promise.prototype.catch.call(this,u);return a.convert(c,this)},a.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},a.prototype.error=function(u){return this.then(function(){throw new Error(u)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,At.getPageSize=function(u,c,f){if(Kn(u)==="object"){var d=u;u=d.orientation,c=d.unit||c,f=d.format||f}c=c||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var y,_=(""+f).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+c}var T,I=0,P=0;if(w.hasOwnProperty(_))I=w[_][1]/y,P=w[_][0]/y;else try{I=f[1],P=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",P>I&&(T=P,P=I,I=T);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",I>P&&(T=P,P=I,I=T)}return{width:P,height:I,unit:c,k:y,orientation:u}},n.html=function(u,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Q0):null;var f=new a(c);return c.worker?f:f.from(u).doCallback()}})(At.API),At.API.addJS=function(n){return Ox=n,this.internal.events.subscribe("postPutResources",function(){Dp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Dp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Dx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ox+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Dp!==void 0&&Dx!==void 0&&this.internal.out("/Names <</JavaScript "+Dp+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],u=r.exec(a);if(u!=null){var c=u[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,d=[];for(s=0;s<f;s++){var y=t.internal.newObject();d.push(y);var _=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<d.length;s++)t.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var u=this.count=this.count_r({count:0},a);if(u>0&&this.line("/Count "+u),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(At.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,a,u){var c,f=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(y){for(var _,w=256*y.charCodeAt(4)+y.charCodeAt(5),T=y.length,I={width:0,height:0,numcomponents:1},P=4;P<T;P+=2){if(P+=w,e.indexOf(y.charCodeAt(P+1))!==-1){_=256*y.charCodeAt(P+5)+y.charCodeAt(P+6),I={width:256*y.charCodeAt(P+7)+y.charCodeAt(P+8),height:_,numcomponents:y.charCodeAt(P+9)};break}w=256*y.charCodeAt(P+2)+y.charCodeAt(P+3)}return I})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}d={data:t,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:f,index:r,alias:i}}return d}})(At.API),At.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=W9(n,{checkCrc:!0}),a=s.width,u=s.height,c=s.channels,f=s.palette,d=s.depth;i=f&&c===1?(function(R){for(var L=R.width,q=R.height,C=R.data,j=R.palette,M=R.depth,se=!1,Se=[],xe=[],Ee=void 0,ee=!1,he=0,_e=0;_e<j.length;_e++){var Q=V_(j[_e],4),D=Q[0],X=Q[1],ne=Q[2],ue=Q[3];Se.push(D,X,ne),ue!=null&&(ue===0?(he++,xe.length<1&&xe.push(_e)):ue<255&&(ee=!0))}if(ee||he>1){se=!0,xe=void 0;var fe=L*q;Ee=new Uint8Array(fe);for(var ve=new DataView(C.buffer),Ne=0;Ne<fe;Ne++){var Te=X0(ve,Ne,M),je=V_(j[Te],4)[3];Ee[Ne]=je}}else he===0&&(xe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:se?8:void 0,colorBytes:C,alphaBytes:Ee,needSMask:se,palette:Se,mask:xe}})(s):c===2||c===4?(function(R){for(var L=R.data,q=R.width,C=R.height,j=R.channels,M=R.depth,se=j===2?"DeviceGray":"DeviceRGB",Se=j-1,xe=q*C,Ee=Se,ee=xe*Ee,he=1*xe,_e=Math.ceil(ee*M/8),Q=Math.ceil(he*M/8),D=new Uint8Array(_e),X=new Uint8Array(Q),ne=new DataView(L.buffer),ue=new DataView(D.buffer),fe=new DataView(X.buffer),ve=!1,Ne=0;Ne<xe;Ne++){for(var Te=Ne*j,je=0;je<Ee;je++)Hx(ue,X0(ne,Te+je,M),Ne*Ee+je,M);var He=X0(ne,Te+Ee,M);He<(1<<M)-1&&(ve=!0),Hx(fe,He,1*Ne,M)}return{colorSpace:se,colorsPerPixel:Se,sMaskBitsPerComponent:ve?M:void 0,colorBytes:D,alphaBytes:X,needSMask:ve}})(s):(function(R){var L=R.data,q=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:L instanceof Uint16Array?(function(C){for(var j=C.length,M=new Uint8Array(2*j),se=new DataView(M.buffer,M.byteOffset,M.byteLength),Se=0;Se<j;Se++)se.setUint16(2*Se,C[Se],!1);return M})(L):L,needSMask:!1}})(s);var y,_,w,T=i,I=T.colorSpace,P=T.colorsPerPixel,F=T.sMaskBitsPerComponent,Y=T.colorBytes,H=T.alphaBytes,$=T.needSMask,ae=T.palette,ge=T.mask,W=null;return r!==At.API.image_compression.NONE&&typeof K1=="function"?(W=(function(R){var L;switch(R){case At.API.image_compression.FAST:L=11;break;case At.API.image_compression.MEDIUM:L=13;break;case At.API.image_compression.SLOW:L=14;break;default:L=12}return L})(r),y=this.decode.FLATE_DECODE,_="/Predictor ".concat(W," /Colors ").concat(P," /BitsPerComponent ").concat(d," /Columns ").concat(a),n=Vx(Y,Math.ceil(a*P*d/8),P,d,r),$&&(w=Vx(H,Math.ceil(a*F/8),1,F,r))):(y=void 0,_=void 0,n=Y,$&&(w=H)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:t,data:n,index:e,filter:y,decodeParameters:_,transparency:ge,palette:ae,sMask:w,predictor:W,width:a,height:u,bitsPerComponent:d,sMaskBitsPerComponent:F,colorSpace:I}}},(function(n){n.processGIF89A=function(e,t,r,i){var s=new dF(e),a=s.width,u=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:a,height:u},d=new Z0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,i)},n.processGIF87A=n.processGIF89A})(At.API),ca.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ca.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){tr.log("bit decode error:"+t)}},ca.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var c=this.palette[s>>7-u&1];this.data[a+4*u]=c.blue,this.data[a+4*u+1]=c.green,this.data[a+4*u+2]=c.red,this.data[a+4*u+3]=255}t!==0&&(this.pos+=4-t)}},ca.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,u=s>>4,c=15&s,f=this.palette[u];if(this.data[a]=f.blue,this.data[a+1]=f.green,this.data[a+2]=f.red,this.data[a+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[a+4]=f.blue,this.data[a+4+1]=f.green,this.data[a+4+2]=f.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},ca.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},ca.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,u=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,f=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=c,this.data[d+1]=u,this.data[d+2]=a,this.data[d+3]=f}this.pos+=n}},ca.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(a&e)/e*255|0,c=(a>>5&t)/t*255|0,f=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=f,this.data[d+1]=c,this.data[d+2]=u,this.data[d+3]=255}this.pos+=n}},ca.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},ca.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=a}},ca.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var s=new ca(e,!1),a=s.width,u=s.height,c={data:s.getData(),width:a,height:u},f=new Z0(100).encode(c,100);return n.processJPEG.call(this,f,t,r,i)}})(At.API),Wx.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var s=new Wx(e),a=s.width,u=s.height,c={data:s.getData(),width:a,height:u},f=new Z0(100).encode(c,100);return n.processJPEG.call(this,f,t,r,i)}})(At.API),At.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),u=0,c=0,f=0;f<i;f+=4){var d=r[f],y=r[f+1],_=r[f+2],w=r[f+3];s[u++]=d,s[u++]=y,s[u++]=_,a[c++]=w}var T=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:T,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},At.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},lh=At.API,Op=lh.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,c=u.fof?u.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=f.fof?f.fof:1,y=e.doKerning!==!1,_=0,w=n.length,T=0,I=u[0]||c,P=[];for(t=0;t<w;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?P.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(_=y&&Kn(f[r])==="object"&&!isNaN(parseInt(f[r][T],10))?f[r][T]/d:0,P.push((u[r]||I)/c+_)),T=r;return P},jx=lh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return lh.processArabic&&(n=lh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Op.apply(this,arguments).reduce(function(s,a){return s+a},0)},Mx=function(n,e,t,r){for(var i=[],s=0,a=n.length,u=0;s!==a&&u+e[s]<t;)u+=e[s],s++;i.push(n.slice(0,s));var c=s;for(u=0;s!==a;)u+e[s]>r&&(i.push(n.slice(c,s)),u=0,c=s),u+=e[s],s++;return c!==s&&i.push(n.slice(c,s)),i},Fx=function(n,e,t){t||(t={});var r,i,s,a,u,c,f,d=[],y=[d],_=t.textIndent||0,w=0,T=0,I=n.split(" "),P=Op.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?I[0].length+2:t.lineIndent||0){var F=Array(c).join(" "),Y=[];I.map(function($){($=$.split(/\s*\n/)).length>1?Y=Y.concat($.map(function(ae,ge){return(ge&&ae.length?`
`:"")+ae})):Y.push($[0])}),I=Y,c=jx.apply(this,[F,t])}for(s=0,a=I.length;s<a;s++){var H=0;if(r=I[s],c&&r[0]==`
`&&(r=r.substr(1),H=1),_+w+(T=(i=Op.apply(this,[r,t])).reduce(function($,ae){return $+ae},0))>e||H){if(T>e){for(u=Mx.apply(this,[r,i,e-(_+w),e]),d.push(u.shift()),d=[u.pop()];u.length;)y.push([u.shift()]);T=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function($,ae){return $+ae},0)}else d=[r];y.push(d),_=T+c,w=P}else d.push(r),_+=w+T,w=P}return f=c?function($,ae){return(ae?F:"")+$.join(" ")}:function($){return $.join(" ")},y.map(f)},lh.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var y=this.internal.getFont(d.fontName,d.fontStyle),_="Unicode";return y.metadata[_]?{widths:y.metadata[_].widths||{0:1},kerning:y.metadata[_].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var u,c,f=[];for(u=0,c=r.length;u<c;u++)f=f.concat(Fx.apply(this,[r[u],a,s]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var a=function(_){return"0x"+parseInt(_,10).toString(16)},u=n.__fontmetrics__.compress=function(_){var w,T,I,P,F=["{"];for(var Y in _){if(w=_[Y],isNaN(parseInt(Y,10))?T="'"+Y+"'":(Y=parseInt(Y,10),T=(T=a(Y).slice(2)).slice(0,-1)+i[T.slice(-1)]),typeof w=="number")w<0?(I=a(w).slice(3),P="-"):(I=a(w).slice(2),P=""),I=P+I.slice(0,-1)+i[I.slice(-1)];else{if(Kn(w)!=="object")throw new Error("Don't know what to do with value type "+Kn(w)+".");I=u(w)}F.push(T+I)}return F.push("}"),F.join("")},c=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,T,I,P,F={},Y=1,H=F,$=[],ae="",ge="",W=_.length-1,R=1;R<W;R+=1)(P=_[R])=="'"?w?(I=w.join(""),w=void 0):w=[]:w?w.push(P):P=="{"?($.push([H,I]),H={},I=void 0):P=="}"?((T=$.pop())[0][T[1]]=H,I=void 0,H=T[0]):P=="-"?Y=-1:I===void 0?r.hasOwnProperty(P)?(ae+=r[P],I=parseInt(ae,16)*Y,Y=1,ae=""):ae+=P:r.hasOwnProperty(P)?(ge+=r[P],H[I]=parseInt(ge,16)*Y,Y=1,I=void 0,ge=""):ge+=P;return F},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},y={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var w=_.font,T=y.Unicode[w.postScriptName];T&&(w.metadata.Unicode={},w.metadata.Unicode.widths=T.widths,w.metadata.Unicode.kerning=T.kerning);var I=d.Unicode[w.postScriptName];I&&(w.metadata.Unicode.encoding=I,w.encoding=I.codePages[0])}])})(At.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Qp(u)),a.metadata=n.API.TTFFont.open(u),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])})(At),At.API.addSvgAsImage=function(n,e,t,r,i,s,a,u){if(isNaN(e)||isNaN(t))throw tr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw tr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(Gt.canvg?Promise.resolve(Gt.canvg):L0(()=>import("./index.es-CyGYjGs9.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(f,n,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(d)}).then(function(){y.addImage(c.toDataURL("image/jpeg",1),e,t,r,i,a,u)})},At.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},At.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(a),c=[],f=0,d=0,y=0;function _(T,I){var P,F=!1;for(P=0;P<T.length;P+=1)T[P]===I&&(F=!0);return F}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var w=u.length;for(y=0;y<w;y+=1)t[u[y]].value=t[u[y]].defaultValue,t[u[y]].explicitSet=!1}if(Kn(n)==="object"){for(i in n)if(s=n[i],_(u,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&_(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")c.push(String(s[f]-1));else if(s[f].length>1){for(d=0;d<s[f].length;d+=1)typeof s[f][d]!="number"&&(r=!1);r===!0&&c.push([s[f][0]-1,s[f][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,I=[];for(T in t)t[T].explicitSet===!0&&(t[T].type==="name"?I.push("/"+T+" /"+t[T].value):I.push("/"+T+" "+t[T].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+a.length+u.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+u+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(At.API),(function(n){var e=n.API,t=e.pdfEscape16=function(s,a){for(var u,c=a.metadata.Unicode.widths,f=["","0","00","000","0000"],d=[""],y=0,_=s.length;y<_;++y){if(u=a.metadata.characterToGlyph(s.charCodeAt(y)),a.metadata.glyIdsUsed.push(u),a.metadata.toUnicode[u]=s.charCodeAt(y),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(a.metadata.widthOfGlyph(u),10)])),u=="0")return d.join("");u=u.toString(16),d.push(f[4-u.length],u)}return d.join("")},r=function(s){var a,u,c,f,d,y,_;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],y=0,_=(u=Object.keys(s).sort(function(w,T){return w-T})).length;y<_;y++)a=u[y],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(f=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+f+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var u=a.font,c=a.out,f=a.newObject,d=a.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var y=u.metadata.Unicode.widths,_=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),w="",T=0;T<_.length;T++)w+=String.fromCharCode(_[T]);var I=f();d({data:w,addLength1:!0,objectId:I}),c("endobj");var P=f();d({data:r(u.metadata.toUnicode),addLength1:!0,objectId:P}),c("endobj");var F=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+dh(u.fontName)),c("/FontFile2 "+I+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var Y=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+dh(u.fontName)),c("/FontDescriptor "+F+" 0 R"),c("/W "+n.API.PDFObject.convert(y)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+P+" 0 R"),c("/BaseFont /"+dh(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+Y+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var u=a.font,c=a.out,f=a.newObject,d=a.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var y=u.metadata.rawData,_="",w=0;w<y.length;w++)_+=String.fromCharCode(y[w]);var T=f();d({data:_,addLength1:!0,objectId:T}),c("endobj");var I=f();d({data:r(u.metadata.toUnicode),addLength1:!0,objectId:I}),c("endobj");var P=f();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+T+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+dh(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=f();for(var F=0;F<u.metadata.hmtx.widths.length;F++)u.metadata.hmtx.widths[F]=parseInt(u.metadata.hmtx.widths[F]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+dh(u.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,u=s.text||"",c=s.x,f=s.y,d=s.options||{},y=s.mutex||{},_=y.pdfEscape,w=y.activeFontKey,T=y.fonts,I=w,P="",F=0,Y="",H=T[I].encoding;if(T[I].encoding!=="Identity-H")return{text:u,x:c,y:f,options:d,mutex:y};for(Y=u,I=w,Array.isArray(u)&&(Y=u[0]),F=0;F<Y.length;F+=1)T[I].metadata.hasOwnProperty("cmap")&&(a=T[I].metadata.cmap.unicode.codeMap[Y[F].charCodeAt(0)]),a||Y[F].charCodeAt(0)<256&&T[I].metadata.hasOwnProperty("Unicode")?P+=Y[F]:P+="";var $="";return parseInt(I.slice(1))<14||H==="WinAnsiEncoding"?$=_(P,I).split("").map(function(ae){return ae.charCodeAt(0).toString(16)}).join(""):H==="Identity-H"&&($=t(P,T[I])),y.isHex=!0,{text:$,x:c,y:f,options:d,mutex:y}};e.events.push(["postProcessText",function(s){var a=s.text||"",u=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var f=0;for(f=0;f<a.length;f+=1)Array.isArray(a[f])&&a[f].length===3?u.push([i(Object.assign({},c,{text:a[f][0]})).text,a[f][1],a[f][2]]):u.push(i(Object.assign({},c,{text:a[f]})).text);s.text=u}else s.text=i(Object.assign({},c,{text:a})).text}])})(At),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(At.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,a,u,c,f,d,y=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],F=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Y=!1,H=0;this.__bidiEngine__={};var $=function(C){var j=C.charCodeAt(),M=j>>8,se=I[M];return se!==void 0?y[256*se+(255&j)]:M===252||M===253?"AL":F.test(M)?"L":M===8?"R":"N"},ae=function(C){for(var j,M=0;M<C.length;M++){if((j=$(C.charAt(M)))==="L")return!1;if(j==="R")return!0}return!1},ge=function(C,j,M,se){var Se,xe,Ee,ee,he=j[se];switch(he){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Y=!1;break;case"N":case"AN":break;case"EN":Y&&(he="AN");break;case"AL":Y=!0,he="R";break;case"WS":case"BN":he="N";break;case"CS":se<1||se+1>=j.length||(Se=M[se-1])!=="EN"&&Se!=="AN"||(xe=j[se+1])!=="EN"&&xe!=="AN"?he="N":Y&&(xe="AN"),he=xe===Se?xe:"N";break;case"ES":he=(Se=se>0?M[se-1]:"B")==="EN"&&se+1<j.length&&j[se+1]==="EN"?"EN":"N";break;case"ET":if(se>0&&M[se-1]==="EN"){he="EN";break}if(Y){he="N";break}for(Ee=se+1,ee=j.length;Ee<ee&&j[Ee]==="ET";)Ee++;he=Ee<ee&&j[Ee]==="EN"?"EN":"N";break;case"NSM":if(a&&!u){for(ee=j.length,Ee=se+1;Ee<ee&&j[Ee]==="NSM";)Ee++;if(Ee<ee){var _e=C[se],Q=_e>=1425&&_e<=2303||_e===64286;if(Se=j[Ee],Q&&(Se==="R"||Se==="AL")){he="R";break}}}he=se<1||(Se=j[se-1])==="B"?"N":M[se-1];break;case"B":Y=!1,i=!0,he=H;break;case"S":s=!0,he="N"}return he},W=function(C,j,M){var se=C.split("");return M&&R(se,M,{hiLevel:H}),se.reverse(),j&&j.reverse(),se.join("")},R=function(C,j,M){var se,Se,xe,Ee,ee,he=-1,_e=C.length,Q=0,D=[],X=H?w:_,ne=[];for(Y=!1,i=!1,s=!1,Se=0;Se<_e;Se++)ne[Se]=$(C[Se]);for(xe=0;xe<_e;xe++){if(ee=Q,D[xe]=ge(C,ne,D,xe),se=240&(Q=X[ee][T[D[xe]]]),Q&=15,j[xe]=Ee=X[Q][5],se>0)if(se===16){for(Se=he;Se<xe;Se++)j[Se]=1;he=-1}else he=-1;if(X[Q][6])he===-1&&(he=xe);else if(he>-1){for(Se=he;Se<xe;Se++)j[Se]=Ee;he=-1}ne[xe]==="B"&&(j[xe]=0),M.hiLevel|=Ee}s&&(function(ue,fe,ve){for(var Ne=0;Ne<ve;Ne++)if(ue[Ne]==="S"){fe[Ne]=H;for(var Te=Ne-1;Te>=0&&ue[Te]==="WS";Te--)fe[Te]=H}})(ne,j,_e)},L=function(C,j,M,se,Se){if(!(Se.hiLevel<C)){if(C===1&&H===1&&!i)return j.reverse(),void(M&&M.reverse());for(var xe,Ee,ee,he,_e=j.length,Q=0;Q<_e;){if(se[Q]>=C){for(ee=Q+1;ee<_e&&se[ee]>=C;)ee++;for(he=Q,Ee=ee-1;he<Ee;he++,Ee--)xe=j[he],j[he]=j[Ee],j[Ee]=xe,M&&(xe=M[he],M[he]=M[Ee],M[Ee]=xe);Q=ee}Q++}}},q=function(C,j,M){var se=C.split(""),Se={hiLevel:H};return M||(M=[]),R(se,M,Se),(function(xe,Ee,ee){if(ee.hiLevel!==0&&d)for(var he,_e=0;_e<xe.length;_e++)Ee[_e]===1&&(he=P.indexOf(xe[_e]))>=0&&(xe[_e]=P[he+1])})(se,M,Se),L(2,se,j,M,Se),L(1,se,j,M,Se),se.join("")};return this.__bidiEngine__.doBidiReorder=function(C,j,M){if((function(Se,xe){if(xe)for(var Ee=0;Ee<Se.length;Ee++)xe[Ee]=Ee;u===void 0&&(u=ae(Se)),f===void 0&&(f=ae(Se))})(C,j),a||!c||f)if(a&&c&&u^f)H=u?1:0,C=W(C,j,M);else if(!a&&c&&f)H=u?1:0,C=q(C,j,M),C=W(C,j);else if(!a||u||c||f){if(a&&!c&&u^f)C=W(C,j),u?(H=0,C=q(C,j,M)):(H=1,C=q(C,j,M),C=W(C,j));else if(a&&u&&!c&&f)H=1,C=q(C,j,M),C=W(C,j);else if(!a&&!c&&u^f){var se=d;u?(H=1,C=q(C,j,M),H=0,d=!1,C=q(C,j,M),d=se):(H=0,C=q(C,j,M),C=W(C,j),H=1,d=!1,C=q(C,j,M),d=se,C=W(C,j))}}else H=0,C=q(C,j,M);else H=u?1:0,C=q(C,j,M);return C},this.__bidiEngine__.setOptions=function(C){C&&(a=C.isInputVisual,c=C.isOutputVisual,u=C.isInputRtl,f=C.isOutputRtl,d=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(a=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?a.push([t.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):a.push([t.doBidiReorder(i[u])]);r.text=a}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(At),At.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Ru(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new IF(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new pF(this.contents),this.head=new gF(this),this.name=new xF(this),this.cmap=new cE(this),this.toUnicode={},this.hhea=new yF(this),this.maxp=new bF(this),this.hmtx=new SF(this),this.post=new wF(this),this.os2=new vF(this),this.loca=new NF(this),this.glyf=new AF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,u,c,f;for(f=[],a=0,u=(c=this.bbox).length;a<u;a++)e=c[a],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,a,u;for(a=0,s=0,u=(e=""+e).length;0<=u?s<u:s>u;s=0<=u?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var va,Ru=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,a,u,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*a+256*u+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n})(),pF=(function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,a,u,c,f,d,y,_,w,T,I;for(I in w=Object.keys(t).length,c=Math.log(2),y=16*Math.floor(Math.log(w)/c),a=Math.floor(y/c),d=16*w-y,(i=new Ru).writeInt(this.scalarType),i.writeShort(w),i.writeShort(y),i.writeShort(a),i.writeShort(d),s=16*w,f=i.pos+s,u=null,T=[],t)for(_=t[I],i.writeString(I),i.writeInt(n(_)),i.writeInt(f),i.writeInt(_.length),T=T.concat(_),I==="head"&&(u=f),f+=_.length;f%4;)T.push(0),f++;return i.write(T),r=2981146554-n(i.data),i.pos=u+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,a;for(t=hE.call(t);t.length%4;)t.push(0);for(s=new Ru(t),i=0,r=0,a=t.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),mF={}.hasOwnProperty,Ga=function(n,e){for(var t in e)mF.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};va=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var gF=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ga(n,va),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Ru).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),Gx=(function(){function n(e,t){var r,i,s,a,u,c,f,d,y,_,w,T,I,P,F,Y,H;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(w=e.readUInt16(),_=w/2,e.pos+=6,s=(function(){var $,ae;for(ae=[],c=$=0;0<=_?$<_:$>_;c=0<=_?++$:--$)ae.push(e.readUInt16());return ae})(),e.pos+=2,I=(function(){var $,ae;for(ae=[],c=$=0;0<=_?$<_:$>_;c=0<=_?++$:--$)ae.push(e.readUInt16());return ae})(),f=(function(){var $,ae;for(ae=[],c=$=0;0<=_?$<_:$>_;c=0<=_?++$:--$)ae.push(e.readUInt16());return ae})(),d=(function(){var $,ae;for(ae=[],c=$=0;0<=_?$<_:$>_;c=0<=_?++$:--$)ae.push(e.readUInt16());return ae})(),i=(this.length-e.pos+this.offset)/2,u=(function(){var $,ae;for(ae=[],c=$=0;0<=i?$<i:$>i;c=0<=i?++$:--$)ae.push(e.readUInt16());return ae})(),c=F=0,H=s.length;F<H;c=++F)for(P=s[c],r=Y=T=I[c];T<=P?Y<=P:Y>=P;r=T<=P?++Y:--Y)d[c]===0?a=r+f[c]:(a=u[d[c]/2+(r-T)-(_-c)]||0)!==0&&(a+=f[c]),this.codeMap[r]=65535&a}e.pos=y}return n.encode=function(e,t){var r,i,s,a,u,c,f,d,y,_,w,T,I,P,F,Y,H,$,ae,ge,W,R,L,q,C,j,M,se,Se,xe,Ee,ee,he,_e,Q,D,X,ne,ue,fe,ve,Ne,Te,je,He,nt;switch(se=new Ru,a=Object.keys(e).sort(function(rt,Fe){return rt-Fe}),t){case"macroman":for(I=0,P=(function(){var rt=[];for(T=0;T<256;++T)rt.push(0);return rt})(),Y={0:0},s={},Se=0,he=a.length;Se<he;Se++)Y[Te=e[i=a[Se]]]==null&&(Y[Te]=++I),s[i]={old:e[i],new:Y[e[i]]},P[i]=Y[e[i]];return se.writeUInt16(1),se.writeUInt16(0),se.writeUInt32(12),se.writeUInt16(0),se.writeUInt16(262),se.writeUInt16(0),se.write(P),{charMap:s,subtable:se.data,maxGlyphID:I+1};case"unicode":for(j=[],y=[],H=0,Y={},r={},F=f=null,xe=0,_e=a.length;xe<_e;xe++)Y[ae=e[i=a[xe]]]==null&&(Y[ae]=++H),r[i]={old:ae,new:Y[ae]},u=Y[ae]-i,F!=null&&u===f||(F&&y.push(F),j.push(i),f=u),F=i;for(F&&y.push(F),y.push(65535),j.push(65535),q=2*(L=j.length),R=2*Math.pow(Math.log(L)/Math.LN2,2),_=Math.log(R/2)/Math.LN2,W=2*L-R,c=[],ge=[],w=[],T=Ee=0,Q=j.length;Ee<Q;T=++Ee){if(C=j[T],d=y[T],C===65535){c.push(0),ge.push(0);break}if(C-(M=r[C].new)>=32768)for(c.push(0),ge.push(2*(w.length+L-T)),i=ee=C;C<=d?ee<=d:ee>=d;i=C<=d?++ee:--ee)w.push(r[i].new);else c.push(M-C),ge.push(0)}for(se.writeUInt16(3),se.writeUInt16(1),se.writeUInt32(12),se.writeUInt16(4),se.writeUInt16(16+8*L+2*w.length),se.writeUInt16(0),se.writeUInt16(q),se.writeUInt16(R),se.writeUInt16(_),se.writeUInt16(W),ve=0,D=y.length;ve<D;ve++)i=y[ve],se.writeUInt16(i);for(se.writeUInt16(0),Ne=0,X=j.length;Ne<X;Ne++)i=j[Ne],se.writeUInt16(i);for(je=0,ne=c.length;je<ne;je++)u=c[je],se.writeUInt16(u);for(He=0,ue=ge.length;He<ue;He++)$=ge[He],se.writeUInt16($);for(nt=0,fe=w.length;nt<fe;nt++)I=w[nt],se.writeUInt16(I);return{charMap:r,subtable:se.data,maxGlyphID:H+1}}},n})(),cE=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ga(n,va),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new Gx(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=Gx.encode(e,t),(i=new Ru).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),yF=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ga(n,va),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),vF=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ga(n,va),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),wF=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ga(n,va),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,u,c;for(c=[],s=a=0,u=this.file.maxp.numGlyphs;0<=u?a<u:a>u;s=0<=u?++a:--a)c.push(e.readUInt32());return c}).call(this)}},n})(),_F=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xF=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ga(n,va),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,a,u,c,f,d,y,_;for(e.pos=this.offset,e.readShort(),t=e.readShort(),u=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(c={},s=d=0,y=r.length;d<y;s=++d)i=r[s],e.pos=i.offset,f=e.readString(i.length),a=new _F(f,i),c[_=i.nameID]==null&&(c[_]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},n})(),bF=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ga(n,va),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),SF=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ga(n,va),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,a,u,c;for(e.pos=this.offset,this.metrics=[],t=0,u=this.file.hhea.numberOfMetrics;0<=u?t<u:t>u;t=0<=u?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,d;for(d=[],t=f=0;0<=i?f<i:f>i;t=0<=i?++f:--f)d.push(e.readInt16());return d})(),this.widths=(function(){var f,d,y,_;for(_=[],f=0,d=(y=this.metrics).length;f<d;f++)s=y[f],_.push(s.advance);return _}).call(this),r=this.widths[this.widths.length-1],c=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)c.push(this.widths.push(r));return c},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),hE=[].slice,AF=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ga(n,va),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,a,u,c,f,d,y;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,a=(u=new Ru(t.read(i))).readShort(),f=u.readShort(),y=u.readShort(),c=u.readShort(),d=u.readShort(),this.cache[e]=a===-1?new TF(u,f,y,c,d):new EF(u,a,f,y,c,d),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,a,u,c;for(a=[],s=[],u=0,c=t.length;u<c;u++)i=e[t[u]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},n})(),EF=(function(){function n(e,t,r,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),TF=(function(){function n(e,t,r,i,s){var a,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;u=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&u;)a.pos+=1&u?4:2,128&u?a.pos+=8:64&u?a.pos+=4:8&u&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Ru(hE.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),NF=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ga(n,va),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<t.length&&t[s]==a){++s,r[a]=i;var u=this.offsets[a],c=this.offsets[a+1]-u;c>0&&(i+=c)}for(var f=new Array(4*r.length),d=0;d<r.length;++d)f[4*d+3]=255&r[d],f[4*d+2]=(65280&r[d])>>8,f[4*d+1]=(16711680&r[d])>>16,f[4*d]=(4278190080&r[d])>>24;return f},n})(),IF=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,a,u,c;for(i={},a=0,u=e.length;a<u;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))r=c[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,a,u,c,f,d,y,_,w,T,I,P,F;for(i in r=cE.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),w={0:0},F=r.charMap)w[(c=F[i]).old]=c.new;for(T in _=r.maxGlyphID,a)T in w||(w[T]=_++);return d=(function(Y){var H,$;for(H in $={},Y)$[Y[H]]=H;return $})(w),y=Object.keys(d).sort(function(Y,H){return Y-H}),I=(function(){var Y,H,$;for($=[],Y=0,H=y.length;Y<H;Y++)u=y[Y],$.push(d[u]);return $})(),s=this.font.glyf.encode(a,I,w),f=this.font.loca.encode(s.offsets,I),P={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},n})();At.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,a;if(Array.isArray(t))return"["+(function(){var u,c,f;for(f=[],u=0,c=t.length;u<c;u++)r=t[u],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e})();function PF({crop:n,soilType:e,temperature:t,pH:r,season:i,analysis:s,suitableCrops:a}){const u=new At({unit:"pt"}),c=u.internal.pageSize.getWidth(),f=u.internal.pageSize.getHeight(),d=40;let y=d;const _=()=>{u.setDrawColor(200),u.setFillColor(240,240,240),u.rect(d,y,60,40,"F"),u.setFontSize(20),u.setFont("helvetica","bold"),u.text("SmartCrop Predictor",d+80,y+18),u.setFontSize(12),u.setFont("helvetica","normal"),u.text("Crop Suitability Report",d+80,y+36),y+=60,u.setDrawColor(200),u.setLineWidth(.5),u.line(d,y,c-d,y),y+=12},w=()=>{u.setFillColor(250,250,250),u.rect(d,y,c-d*2,72,"F"),u.setFontSize(11);const $=d+8,ae=c/2+10,ge=16;u.text(`Crop: ${n||"-"}`,$,y+20),u.text(`Soil Type: ${e||"-"}`,$,y+20+ge),u.text(`Season: ${i||"-"}`,$,y+20+ge*2),u.text(`Temperature: ${t||"-"} C`,ae,y+20),u.text(`pH: ${r||"-"}`,ae,y+20+ge),u.text(`Generated: ${new Date().toLocaleString()}`,ae,y+20+ge*2),y+=84},T=(H=100)=>{y+H>f-d&&(u.addPage(),y=d,_(),y+=8)};_(),w(),T(120),u.setFontSize(13),u.setFont("helvetica","bold"),u.text("Analysis Summary",d,y),y+=18,u.setFontSize(11),u.setFont("helvetica","normal");const I=(s==null?void 0:s.message)||"No analysis available.",P=u.splitTextToSize(I,c-d*2);if(u.text(P,d,y),y+=P.length*14+8,s!=null&&s.penalties&&s.penalties.length&&(T(100),u.setFont("helvetica","bold"),u.text("Issues Identified",d,y),y+=16,u.setFont("helvetica","normal"),s.penalties.forEach(H=>{const $=u.splitTextToSize(` ${H}`,c-d*2);u.text($,d+6,y),y+=$.length*12+4,y>f-d-60&&(u.addPage(),y=d+20)})),Array.isArray(a)&&a.length){T(140),u.setFont("helvetica","bold"),u.text("Recommended Crops",d,y),y+=14;const H=d,$=d+200,ae=d+300,ge=d+380,W=18;u.setFontSize(10),u.setFont("helvetica","bold"),u.text("Crop",H,y),u.text("Score",$,y),u.text("Water",ae,y),u.text("Season",ge,y),y+=W,u.setFont("helvetica","normal"),a.slice(0,12).forEach(R=>{T(40);const L=R.cropName||R.name||"-",q=R.score!=null?String(R.score):"-",C=R.waterRequirement||"-",j=Array.isArray(R.season)?R.season.join(", "):R.season||"-",M=u.splitTextToSize(L,180);u.text(M,H,y),u.text(q,$,y),u.text(String(C),ae,y);const se=u.splitTextToSize(j,140);u.text(se,ge,y);const Se=Math.max(M.length,se.length);y+=Math.max(W,Se*12)}),a.length>12&&(T(40),u.setFont("helvetica","italic"),u.text(`+ ${a.length-12} more...`,d,y+6),y+=20)}(()=>{const H=f-30;u.setFontSize(9),u.setFont("helvetica","normal"),u.text(`Generated by SmartCrop Predictor  ${new Date().toLocaleString()}`,d,H),u.text("https://smartcrop-predictor.com",c-d-160,H)})();const Y=(n||"crop").replace(/[^a-z0-9_-]/gi,"_").toLowerCase();u.save(`${Y}_report_${new Date().toISOString().slice(0,19).replace(/[:T]/g,"-")}.pdf`)}function fE(n,e){return function(){return n.apply(e,arguments)}}const{toString:kF}=Object.prototype,{getPrototypeOf:V2}=Object,{iterator:fg,toStringTag:dE}=Symbol,dg=(n=>e=>{const t=kF.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),wa=n=>(n=n.toLowerCase(),e=>dg(e)===n),pg=n=>e=>typeof e===n,{isArray:Yh}=Array,Mh=pg("undefined");function Rd(n){return n!==null&&!Mh(n)&&n.constructor!==null&&!Mh(n.constructor)&&Ys(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const pE=wa("ArrayBuffer");function CF(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&pE(n.buffer),e}const LF=pg("string"),Ys=pg("function"),mE=pg("number"),Dd=n=>n!==null&&typeof n=="object",RF=n=>n===!0||n===!1,tm=n=>{if(dg(n)!=="object")return!1;const e=V2(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(dE in n)&&!(fg in n)},DF=n=>{if(!Dd(n)||Rd(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},OF=wa("Date"),jF=wa("File"),MF=wa("Blob"),FF=wa("FileList"),VF=n=>Dd(n)&&Ys(n.pipe),UF=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ys(n.append)&&((e=dg(n))==="formdata"||e==="object"&&Ys(n.toString)&&n.toString()==="[object FormData]"))},BF=wa("URLSearchParams"),[qF,zF,HF,$F]=["ReadableStream","Request","Response","Headers"].map(wa),WF=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Od(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Yh(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(Rd(n))return;const s=t?Object.getOwnPropertyNames(n):Object.keys(n),a=s.length;let u;for(r=0;r<a;r++)u=s[r],e.call(null,n[u],u,n)}}function gE(n,e){if(Rd(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const wc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yE=n=>!Mh(n)&&n!==wc;function ny(){const{caseless:n,skipUndefined:e}=yE(this)&&this||{},t={},r=(i,s)=>{const a=n&&gE(t,s)||s;tm(t[a])&&tm(i)?t[a]=ny(t[a],i):tm(i)?t[a]=ny({},i):Yh(i)?t[a]=i.slice():(!e||!Mh(i))&&(t[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Od(arguments[i],r);return t}const GF=(n,e,t,{allOwnKeys:r}={})=>(Od(e,(i,s)=>{t&&Ys(i)?n[s]=fE(i,t):n[s]=i},{allOwnKeys:r}),n),KF=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),YF=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},QF=(n,e,t,r)=>{let i,s,a;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)a=i[s],(!r||r(a,n,e))&&!u[a]&&(e[a]=n[a],u[a]=!0);n=t!==!1&&V2(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},JF=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},XF=n=>{if(!n)return null;if(Yh(n))return n;let e=n.length;if(!mE(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},ZF=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&V2(Uint8Array)),eV=(n,e)=>{const r=(n&&n[fg]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},tV=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},nV=wa("HTMLFormElement"),rV=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Kx=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),iV=wa("RegExp"),vE=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Od(t,(i,s)=>{let a;(a=e(i,s,n))!==!1&&(r[s]=a||i)}),Object.defineProperties(n,r)},sV=n=>{vE(n,(e,t)=>{if(Ys(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Ys(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},oV=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Yh(n)?r(n):r(String(n).split(e)),t},aV=()=>{},lV=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function uV(n){return!!(n&&Ys(n.append)&&n[dE]==="FormData"&&n[fg])}const cV=n=>{const e=new Array(10),t=(r,i)=>{if(Dd(r)){if(e.indexOf(r)>=0)return;if(Rd(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Yh(r)?[]:{};return Od(r,(a,u)=>{const c=t(a,i+1);!Mh(c)&&(s[u]=c)}),e[i]=void 0,s}}return r};return t(n,0)},hV=wa("AsyncFunction"),fV=n=>n&&(Dd(n)||Ys(n))&&Ys(n.then)&&Ys(n.catch),wE=((n,e)=>n?setImmediate:e?((t,r)=>(wc.addEventListener("message",({source:i,data:s})=>{i===wc&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),wc.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ys(wc.postMessage)),dV=typeof queueMicrotask<"u"?queueMicrotask.bind(wc):typeof process<"u"&&process.nextTick||wE,pV=n=>n!=null&&Ys(n[fg]),Oe={isArray:Yh,isArrayBuffer:pE,isBuffer:Rd,isFormData:UF,isArrayBufferView:CF,isString:LF,isNumber:mE,isBoolean:RF,isObject:Dd,isPlainObject:tm,isEmptyObject:DF,isReadableStream:qF,isRequest:zF,isResponse:HF,isHeaders:$F,isUndefined:Mh,isDate:OF,isFile:jF,isBlob:MF,isRegExp:iV,isFunction:Ys,isStream:VF,isURLSearchParams:BF,isTypedArray:ZF,isFileList:FF,forEach:Od,merge:ny,extend:GF,trim:WF,stripBOM:KF,inherits:YF,toFlatObject:QF,kindOf:dg,kindOfTest:wa,endsWith:JF,toArray:XF,forEachEntry:eV,matchAll:tV,isHTMLForm:nV,hasOwnProperty:Kx,hasOwnProp:Kx,reduceDescriptors:vE,freezeMethods:sV,toObjectSet:oV,toCamelCase:rV,noop:aV,toFiniteNumber:lV,findKey:gE,global:wc,isContextDefined:yE,isSpecCompliantForm:uV,toJSONObject:cV,isAsyncFn:hV,isThenable:fV,setImmediate:wE,asap:dV,isIterable:pV};function nn(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Oe.inherits(nn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const _E=nn.prototype,xE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{xE[n]={value:n}});Object.defineProperties(nn,xE);Object.defineProperty(_E,"isAxiosError",{value:!0});nn.from=(n,e,t,r,i,s)=>{const a=Object.create(_E);Oe.toFlatObject(n,a,function(d){return d!==Error.prototype},f=>f!=="isAxiosError");const u=n&&n.message?n.message:"Error",c=e==null&&n?n.code:e;return nn.call(a,u,c,t,r,i),n&&a.cause==null&&Object.defineProperty(a,"cause",{value:n,configurable:!0}),a.name=n&&n.name||"Error",s&&Object.assign(a,s),a};const mV=null;function ry(n){return Oe.isPlainObject(n)||Oe.isArray(n)}function bE(n){return Oe.endsWith(n,"[]")?n.slice(0,-2):n}function Yx(n,e,t){return n?n.concat(e).map(function(i,s){return i=bE(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function gV(n){return Oe.isArray(n)&&!n.some(ry)}const yV=Oe.toFlatObject(Oe,{},null,function(e){return/^is[A-Z]/.test(e)});function mg(n,e,t){if(!Oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,P){return!Oe.isUndefined(P[I])});const r=t.metaTokens,i=t.visitor||d,s=t.dots,a=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(e);if(!Oe.isFunction(i))throw new TypeError("visitor must be a function");function f(T){if(T===null)return"";if(Oe.isDate(T))return T.toISOString();if(Oe.isBoolean(T))return T.toString();if(!c&&Oe.isBlob(T))throw new nn("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(T)||Oe.isTypedArray(T)?c&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function d(T,I,P){let F=T;if(T&&!P&&typeof T=="object"){if(Oe.endsWith(I,"{}"))I=r?I:I.slice(0,-2),T=JSON.stringify(T);else if(Oe.isArray(T)&&gV(T)||(Oe.isFileList(T)||Oe.endsWith(I,"[]"))&&(F=Oe.toArray(T)))return I=bE(I),F.forEach(function(H,$){!(Oe.isUndefined(H)||H===null)&&e.append(a===!0?Yx([I],$,s):a===null?I:I+"[]",f(H))}),!1}return ry(T)?!0:(e.append(Yx(P,I,s),f(T)),!1)}const y=[],_=Object.assign(yV,{defaultVisitor:d,convertValue:f,isVisitable:ry});function w(T,I){if(!Oe.isUndefined(T)){if(y.indexOf(T)!==-1)throw Error("Circular reference detected in "+I.join("."));y.push(T),Oe.forEach(T,function(F,Y){(!(Oe.isUndefined(F)||F===null)&&i.call(e,F,Oe.isString(Y)?Y.trim():Y,I,_))===!0&&w(F,I?I.concat(Y):[Y])}),y.pop()}}if(!Oe.isObject(n))throw new TypeError("data must be an object");return w(n),e}function Qx(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function U2(n,e){this._pairs=[],n&&mg(n,this,e)}const SE=U2.prototype;SE.append=function(e,t){this._pairs.push([e,t])};SE.toString=function(e){const t=e?function(r){return e.call(this,r,Qx)}:Qx;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function vV(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function AE(n,e,t){if(!e)return n;const r=t&&t.encode||vV;Oe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=Oe.isURLSearchParams(e)?e.toString():new U2(e,t).toString(r),s){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class Jx{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const EE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wV=typeof URLSearchParams<"u"?URLSearchParams:U2,_V=typeof FormData<"u"?FormData:null,xV=typeof Blob<"u"?Blob:null,bV={isBrowser:!0,classes:{URLSearchParams:wV,FormData:_V,Blob:xV},protocols:["http","https","file","blob","url","data"]},B2=typeof window<"u"&&typeof document<"u",iy=typeof navigator=="object"&&navigator||void 0,SV=B2&&(!iy||["ReactNative","NativeScript","NS"].indexOf(iy.product)<0),AV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",EV=B2&&window.location.href||"http://localhost",TV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:B2,hasStandardBrowserEnv:SV,hasStandardBrowserWebWorkerEnv:AV,navigator:iy,origin:EV},Symbol.toStringTag,{value:"Module"})),bs={...TV,...bV};function NV(n,e){return mg(n,new bs.classes.URLSearchParams,{visitor:function(t,r,i,s){return bs.isNode&&Oe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function IV(n){return Oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function PV(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function TE(n){function e(t,r,i,s){let a=t[s++];if(a==="__proto__")return!0;const u=Number.isFinite(+a),c=s>=t.length;return a=!a&&Oe.isArray(i)?i.length:a,c?(Oe.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!u):((!i[a]||!Oe.isObject(i[a]))&&(i[a]=[]),e(t,r,i[a],s)&&Oe.isArray(i[a])&&(i[a]=PV(i[a])),!u)}if(Oe.isFormData(n)&&Oe.isFunction(n.entries)){const t={};return Oe.forEachEntry(n,(r,i)=>{e(IV(r),i,t,0)}),t}return null}function kV(n,e,t){if(Oe.isString(n))try{return(e||JSON.parse)(n),Oe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const jd={transitional:EE,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=Oe.isObject(e);if(s&&Oe.isHTMLForm(e)&&(e=new FormData(e)),Oe.isFormData(e))return i?JSON.stringify(TE(e)):e;if(Oe.isArrayBuffer(e)||Oe.isBuffer(e)||Oe.isStream(e)||Oe.isFile(e)||Oe.isBlob(e)||Oe.isReadableStream(e))return e;if(Oe.isArrayBufferView(e))return e.buffer;if(Oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return NV(e,this.formSerializer).toString();if((u=Oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return mg(u?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),kV(e)):e}],transformResponse:[function(e){const t=this.transitional||jd.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Oe.isResponse(e)||Oe.isReadableStream(e))return e;if(e&&Oe.isString(e)&&(r&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(u){if(a)throw u.name==="SyntaxError"?nn.from(u,nn.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bs.classes.FormData,Blob:bs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],n=>{jd.headers[n]={}});const CV=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),LV=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!t||e[t]&&CV[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Xx=Symbol("internals");function If(n){return n&&String(n).trim().toLowerCase()}function nm(n){return n===!1||n==null?n:Oe.isArray(n)?n.map(nm):String(n)}function RV(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const DV=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function e1(n,e,t,r,i){if(Oe.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Oe.isString(e)){if(Oe.isString(r))return e.indexOf(r)!==-1;if(Oe.isRegExp(r))return r.test(e)}}function OV(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function jV(n,e){const t=Oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let Qs=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(u,c,f){const d=If(c);if(!d)throw new Error("header name must be a non-empty string");const y=Oe.findKey(i,d);(!y||i[y]===void 0||f===!0||f===void 0&&i[y]!==!1)&&(i[y||c]=nm(u))}const a=(u,c)=>Oe.forEach(u,(f,d)=>s(f,d,c));if(Oe.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Oe.isString(e)&&(e=e.trim())&&!DV(e))a(LV(e),t);else if(Oe.isObject(e)&&Oe.isIterable(e)){let u={},c,f;for(const d of e){if(!Oe.isArray(d))throw TypeError("Object iterator must return a key-value pair");u[f=d[0]]=(c=u[f])?Oe.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(u,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=If(e),e){const r=Oe.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return RV(i);if(Oe.isFunction(t))return t.call(this,i,r);if(Oe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=If(e),e){const r=Oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||e1(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(a){if(a=If(a),a){const u=Oe.findKey(r,a);u&&(!t||e1(r,r[u],u,t))&&(delete r[u],i=!0)}}return Oe.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||e1(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return Oe.forEach(this,(i,s)=>{const a=Oe.findKey(r,s);if(a){t[a]=nm(i),delete t[s];return}const u=e?OV(s):String(s).trim();u!==s&&delete t[s],t[u]=nm(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Oe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Xx]=this[Xx]={accessors:{}}).accessors,i=this.prototype;function s(a){const u=If(a);r[u]||(jV(i,a),r[u]=!0)}return Oe.isArray(e)?e.forEach(s):s(e),this}};Qs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(Qs.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Oe.freezeMethods(Qs);function t1(n,e){const t=this||jd,r=e||t,i=Qs.from(r.headers);let s=r.data;return Oe.forEach(n,function(u){s=u.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function NE(n){return!!(n&&n.__CANCEL__)}function Qh(n,e,t){nn.call(this,n??"canceled",nn.ERR_CANCELED,e,t),this.name="CanceledError"}Oe.inherits(Qh,nn,{__CANCEL__:!0});function IE(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new nn("Request failed with status code "+t.status,[nn.ERR_BAD_REQUEST,nn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function MV(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function FV(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(c){const f=Date.now(),d=r[s];a||(a=f),t[i]=c,r[i]=f;let y=s,_=0;for(;y!==i;)_+=t[y++],y=y%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),f-a<e)return;const w=d&&f-d;return w?Math.round(_*1e3/w):void 0}}function VV(n,e){let t=0,r=1e3/e,i,s;const a=(f,d=Date.now())=>{t=d,i=null,s&&(clearTimeout(s),s=null),n(...f)};return[(...f)=>{const d=Date.now(),y=d-t;y>=r?a(f,d):(i=f,s||(s=setTimeout(()=>{s=null,a(i)},r-y)))},()=>i&&a(i)]}const Rm=(n,e,t=3)=>{let r=0;const i=FV(50,250);return VV(s=>{const a=s.loaded,u=s.lengthComputable?s.total:void 0,c=a-r,f=i(c),d=a<=u;r=a;const y={loaded:a,total:u,progress:u?a/u:void 0,bytes:c,rate:f||void 0,estimated:f&&u&&d?(u-a)/f:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(y)},t)},Zx=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},eb=n=>(...e)=>Oe.asap(()=>n(...e)),UV=bs.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,bs.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(bs.origin),bs.navigator&&/(msie|trident)/i.test(bs.navigator.userAgent)):()=>!0,BV=bs.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const a=[n+"="+encodeURIComponent(e)];Oe.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),Oe.isString(r)&&a.push("path="+r),Oe.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qV(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function zV(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function PE(n,e,t){let r=!qV(e);return n&&(r||t==!1)?zV(n,e):e}const tb=n=>n instanceof Qs?{...n}:n;function Lc(n,e){e=e||{};const t={};function r(f,d,y,_){return Oe.isPlainObject(f)&&Oe.isPlainObject(d)?Oe.merge.call({caseless:_},f,d):Oe.isPlainObject(d)?Oe.merge({},d):Oe.isArray(d)?d.slice():d}function i(f,d,y,_){if(Oe.isUndefined(d)){if(!Oe.isUndefined(f))return r(void 0,f,y,_)}else return r(f,d,y,_)}function s(f,d){if(!Oe.isUndefined(d))return r(void 0,d)}function a(f,d){if(Oe.isUndefined(d)){if(!Oe.isUndefined(f))return r(void 0,f)}else return r(void 0,d)}function u(f,d,y){if(y in e)return r(f,d);if(y in n)return r(void 0,f)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:(f,d,y)=>i(tb(f),tb(d),y,!0)};return Oe.forEach(Object.keys({...n,...e}),function(d){const y=c[d]||i,_=y(n[d],e[d],d);Oe.isUndefined(_)&&y!==u||(t[d]=_)}),t}const kE=n=>{const e=Lc({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:u}=e;if(e.headers=a=Qs.from(a),e.url=AE(PE(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Oe.isFormData(t)){if(bs.hasStandardBrowserEnv||bs.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Oe.isFunction(t.getHeaders)){const c=t.getHeaders(),f=["content-type","content-length"];Object.entries(c).forEach(([d,y])=>{f.includes(d.toLowerCase())&&a.set(d,y)})}}if(bs.hasStandardBrowserEnv&&(r&&Oe.isFunction(r)&&(r=r(e)),r||r!==!1&&UV(e.url))){const c=i&&s&&BV.read(s);c&&a.set(i,c)}return e},HV=typeof XMLHttpRequest<"u",$V=HV&&function(n){return new Promise(function(t,r){const i=kE(n);let s=i.data;const a=Qs.from(i.headers).normalize();let{responseType:u,onUploadProgress:c,onDownloadProgress:f}=i,d,y,_,w,T;function I(){w&&w(),T&&T(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let P=new XMLHttpRequest;P.open(i.method.toUpperCase(),i.url,!0),P.timeout=i.timeout;function F(){if(!P)return;const H=Qs.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),ae={data:!u||u==="text"||u==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:H,config:n,request:P};IE(function(W){t(W),I()},function(W){r(W),I()},ae),P=null}"onloadend"in P?P.onloadend=F:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(F)},P.onabort=function(){P&&(r(new nn("Request aborted",nn.ECONNABORTED,n,P)),P=null)},P.onerror=function($){const ae=$&&$.message?$.message:"Network Error",ge=new nn(ae,nn.ERR_NETWORK,n,P);ge.event=$||null,r(ge),P=null},P.ontimeout=function(){let $=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const ae=i.transitional||EE;i.timeoutErrorMessage&&($=i.timeoutErrorMessage),r(new nn($,ae.clarifyTimeoutError?nn.ETIMEDOUT:nn.ECONNABORTED,n,P)),P=null},s===void 0&&a.setContentType(null),"setRequestHeader"in P&&Oe.forEach(a.toJSON(),function($,ae){P.setRequestHeader(ae,$)}),Oe.isUndefined(i.withCredentials)||(P.withCredentials=!!i.withCredentials),u&&u!=="json"&&(P.responseType=i.responseType),f&&([_,T]=Rm(f,!0),P.addEventListener("progress",_)),c&&P.upload&&([y,w]=Rm(c),P.upload.addEventListener("progress",y),P.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(d=H=>{P&&(r(!H||H.type?new Qh(null,n,P):H),P.abort(),P=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const Y=MV(i.url);if(Y&&bs.protocols.indexOf(Y)===-1){r(new nn("Unsupported protocol "+Y+":",nn.ERR_BAD_REQUEST,n));return}P.send(s||null)})},WV=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(f){if(!i){i=!0,u();const d=f instanceof Error?f:this.reason;r.abort(d instanceof nn?d:new Qh(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new nn(`timeout ${e} of ms exceeded`,nn.ETIMEDOUT))},e);const u=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),n=null)};n.forEach(f=>f.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>Oe.asap(u),c}},GV=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},KV=async function*(n,e){for await(const t of YV(n))yield*GV(t,e)},YV=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},nb=(n,e,t,r)=>{const i=KV(n,e);let s=0,a,u=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:f,value:d}=await i.next();if(f){u(),c.close();return}let y=d.byteLength;if(t){let _=s+=y;t(_)}c.enqueue(new Uint8Array(d))}catch(f){throw u(f),f}},cancel(c){return u(c),i.return()}},{highWaterMark:2})},rb=64*1024,{isFunction:jp}=Oe,QV=(({Request:n,Response:e})=>({Request:n,Response:e}))(Oe.global),{ReadableStream:ib,TextEncoder:sb}=Oe.global,ob=(n,...e)=>{try{return!!n(...e)}catch{return!1}},JV=n=>{n=Oe.merge.call({skipUndefined:!0},QV,n);const{fetch:e,Request:t,Response:r}=n,i=e?jp(e):typeof fetch=="function",s=jp(t),a=jp(r);if(!i)return!1;const u=i&&jp(ib),c=i&&(typeof sb=="function"?(T=>I=>T.encode(I))(new sb):async T=>new Uint8Array(await new t(T).arrayBuffer())),f=s&&u&&ob(()=>{let T=!1;const I=new t(bs.origin,{body:new ib,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!I}),d=a&&u&&ob(()=>Oe.isReadableStream(new r("").body)),y={stream:d&&(T=>T.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!y[T]&&(y[T]=(I,P)=>{let F=I&&I[T];if(F)return F.call(I);throw new nn(`Response type '${T}' is not supported`,nn.ERR_NOT_SUPPORT,P)})});const _=async T=>{if(T==null)return 0;if(Oe.isBlob(T))return T.size;if(Oe.isSpecCompliantForm(T))return(await new t(bs.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(T)||Oe.isArrayBuffer(T))return T.byteLength;if(Oe.isURLSearchParams(T)&&(T=T+""),Oe.isString(T))return(await c(T)).byteLength},w=async(T,I)=>{const P=Oe.toFiniteNumber(T.getContentLength());return P??_(I)};return async T=>{let{url:I,method:P,data:F,signal:Y,cancelToken:H,timeout:$,onDownloadProgress:ae,onUploadProgress:ge,responseType:W,headers:R,withCredentials:L="same-origin",fetchOptions:q}=kE(T),C=e||fetch;W=W?(W+"").toLowerCase():"text";let j=WV([Y,H&&H.toAbortSignal()],$),M=null;const se=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let Se;try{if(ge&&f&&P!=="get"&&P!=="head"&&(Se=await w(R,F))!==0){let Q=new t(I,{method:"POST",body:F,duplex:"half"}),D;if(Oe.isFormData(F)&&(D=Q.headers.get("content-type"))&&R.setContentType(D),Q.body){const[X,ne]=Zx(Se,Rm(eb(ge)));F=nb(Q.body,rb,X,ne)}}Oe.isString(L)||(L=L?"include":"omit");const xe=s&&"credentials"in t.prototype,Ee={...q,signal:j,method:P.toUpperCase(),headers:R.normalize().toJSON(),body:F,duplex:"half",credentials:xe?L:void 0};M=s&&new t(I,Ee);let ee=await(s?C(M,q):C(I,Ee));const he=d&&(W==="stream"||W==="response");if(d&&(ae||he&&se)){const Q={};["status","statusText","headers"].forEach(ue=>{Q[ue]=ee[ue]});const D=Oe.toFiniteNumber(ee.headers.get("content-length")),[X,ne]=ae&&Zx(D,Rm(eb(ae),!0))||[];ee=new r(nb(ee.body,rb,X,()=>{ne&&ne(),se&&se()}),Q)}W=W||"text";let _e=await y[Oe.findKey(y,W)||"text"](ee,T);return!he&&se&&se(),await new Promise((Q,D)=>{IE(Q,D,{data:_e,headers:Qs.from(ee.headers),status:ee.status,statusText:ee.statusText,config:T,request:M})})}catch(xe){throw se&&se(),xe&&xe.name==="TypeError"&&/Load failed|fetch/i.test(xe.message)?Object.assign(new nn("Network Error",nn.ERR_NETWORK,T,M),{cause:xe.cause||xe}):nn.from(xe,xe&&xe.code,T,M)}}},XV=new Map,CE=n=>{let e=n?n.env:{};const{fetch:t,Request:r,Response:i}=e,s=[r,i,t];let a=s.length,u=a,c,f,d=XV;for(;u--;)c=s[u],f=d.get(c),f===void 0&&d.set(c,f=u?new Map:JV(e)),d=f;return f};CE();const sy={http:mV,xhr:$V,fetch:{get:CE}};Oe.forEach(sy,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const ab=n=>`- ${n}`,ZV=n=>Oe.isFunction(n)||n===null||n===!1,LE={getAdapter:(n,e)=>{n=Oe.isArray(n)?n:[n];const{length:t}=n;let r,i;const s={};for(let a=0;a<t;a++){r=n[a];let u;if(i=r,!ZV(r)&&(i=sy[(u=String(r)).toLowerCase()],i===void 0))throw new nn(`Unknown adapter '${u}'`);if(i&&(Oe.isFunction(i)||(i=i.get(e))))break;s[u||"#"+a]=i}if(!i){const a=Object.entries(s).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=t?a.length>1?`since :
`+a.map(ab).join(`
`):" "+ab(a[0]):"as no adapter specified";throw new nn("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:sy};function n1(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Qh(null,n)}function lb(n){return n1(n),n.headers=Qs.from(n.headers),n.data=t1.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),LE.getAdapter(n.adapter||jd.adapter,n)(n).then(function(r){return n1(n),r.data=t1.call(n,n.transformResponse,r),r.headers=Qs.from(r.headers),r},function(r){return NE(r)||(n1(n),r&&r.response&&(r.response.data=t1.call(n,n.transformResponse,r.response),r.response.headers=Qs.from(r.response.headers))),Promise.reject(r)})}const RE="1.12.2",gg={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{gg[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const ub={};gg.transitional=function(e,t,r){function i(s,a){return"[Axios v"+RE+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,u)=>{if(e===!1)throw new nn(i(a," has been removed"+(t?" in "+t:"")),nn.ERR_DEPRECATED);return t&&!ub[a]&&(ub[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,a,u):!0}};gg.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function eU(n,e,t){if(typeof n!="object")throw new nn("options must be an object",nn.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const u=n[s],c=u===void 0||a(u,s,n);if(c!==!0)throw new nn("option "+s+" must be "+c,nn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new nn("Unknown option "+s,nn.ERR_BAD_OPTION)}}const rm={assertOptions:eU,validators:gg},Va=rm.validators;let Sc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Jx,response:new Jx}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Lc(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&rm.assertOptions(r,{silentJSONParsing:Va.transitional(Va.boolean),forcedJSONParsing:Va.transitional(Va.boolean),clarifyTimeoutError:Va.transitional(Va.boolean)},!1),i!=null&&(Oe.isFunction(i)?t.paramsSerializer={serialize:i}:rm.assertOptions(i,{encode:Va.function,serialize:Va.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),rm.assertOptions(t,{baseUrl:Va.spelling("baseURL"),withXsrfToken:Va.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&Oe.merge(s.common,s[t.method]);s&&Oe.forEach(["delete","get","head","post","put","patch","common"],T=>{delete s[T]}),t.headers=Qs.concat(a,s);const u=[];let c=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(c=c&&I.synchronous,u.unshift(I.fulfilled,I.rejected))});const f=[];this.interceptors.response.forEach(function(I){f.push(I.fulfilled,I.rejected)});let d,y=0,_;if(!c){const T=[lb.bind(this),void 0];for(T.unshift(...u),T.push(...f),_=T.length,d=Promise.resolve(t);y<_;)d=d.then(T[y++],T[y++]);return d}_=u.length;let w=t;for(;y<_;){const T=u[y++],I=u[y++];try{w=T(w)}catch(P){I.call(this,P);break}}try{d=lb.call(this,w)}catch(T){return Promise.reject(T)}for(y=0,_=f.length;y<_;)d=d.then(f[y++],f[y++]);return d}getUri(e){e=Lc(this.defaults,e);const t=PE(e.baseURL,e.url,e.allowAbsoluteUrls);return AE(t,e.params,e.paramsSerializer)}};Oe.forEach(["delete","get","head","options"],function(e){Sc.prototype[e]=function(t,r){return this.request(Lc(r||{},{method:e,url:t,data:(r||{}).data}))}});Oe.forEach(["post","put","patch"],function(e){function t(r){return function(s,a,u){return this.request(Lc(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Sc.prototype[e]=t(),Sc.prototype[e+"Form"]=t(!0)});let tU=class DE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(u=>{r.subscribe(u),s=u}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,u){r.reason||(r.reason=new Qh(s,a,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new DE(function(i){e=i}),cancel:e}}};function nU(n){return function(t){return n.apply(null,t)}}function rU(n){return Oe.isObject(n)&&n.isAxiosError===!0}const oy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oy).forEach(([n,e])=>{oy[e]=n});function OE(n){const e=new Sc(n),t=fE(Sc.prototype.request,e);return Oe.extend(t,Sc.prototype,e,{allOwnKeys:!0}),Oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return OE(Lc(n,i))},t}const ei=OE(jd);ei.Axios=Sc;ei.CanceledError=Qh;ei.CancelToken=tU;ei.isCancel=NE;ei.VERSION=RE;ei.toFormData=mg;ei.AxiosError=nn;ei.Cancel=ei.CanceledError;ei.all=function(e){return Promise.all(e)};ei.spread=nU;ei.isAxiosError=rU;ei.mergeConfig=Lc;ei.AxiosHeaders=Qs;ei.formToJSON=n=>TE(Oe.isHTMLForm(n)?new FormData(n):n);ei.getAdapter=LE.getAdapter;ei.HttpStatusCode=oy;ei.default=ei;const{Axios:HU,AxiosError:$U,CanceledError:WU,isCancel:GU,CancelToken:KU,VERSION:YU,all:QU,Cancel:JU,isAxiosError:XU,spread:ZU,toFormData:eB,AxiosHeaders:tB,HttpStatusCode:nB,formToJSON:rB,getAdapter:iB,mergeConfig:sB}=ei,iU="d521a849323cd6a30af0f33f2654de52",sU="https://api.openweathermap.org/data/2.5",oU=async n=>{try{const e=await ei.get(`${sU}/weather`,{params:{q:n,appid:iU,units:"metric"}});return{temperature:e.data.main.temp,humidity:e.data.main.humidity,weather:e.data.weather[0].main,description:e.data.weather[0].description,location:e.data.name,country:e.data.sys.country}}catch(e){throw console.error("Weather API Error:",e),new Error("Failed to fetch weather data. Please check the location name.")}},aU=()=>{const n=new Date().getMonth()+1;return n>=6&&n<=10?"Monsoon":n>=11||n<=3?"Winter":"Summer"},_u={Rice:{soilTypes:["Clay","Loam","Sandy Loam"],optimalTemp:{min:20,max:35},optimalPH:{min:5.5,max:7},waterRequirement:"High",season:["Monsoon","Winter"],score:95},Wheat:{soilTypes:["Loam","Clay Loam","Sandy Loam"],optimalTemp:{min:15,max:25},optimalPH:{min:6,max:7.5},waterRequirement:"Moderate",season:["Winter"],score:90},Maize:{soilTypes:["Loam","Sandy Loam","Clay Loam"],optimalTemp:{min:21,max:27},optimalPH:{min:5.8,max:7},waterRequirement:"Moderate",season:["Monsoon"],score:88},Sugarcane:{soilTypes:["Clay Loam","Loam","Sandy Clay"],optimalTemp:{min:20,max:30},optimalPH:{min:6,max:8},waterRequirement:"High",season:["Year Round"],score:85},Cotton:{soilTypes:["Clay","Clay Loam","Sandy Loam"],optimalTemp:{min:21,max:30},optimalPH:{min:5.8,max:8},waterRequirement:"Moderate",season:["Monsoon"],score:82},Soybean:{soilTypes:["Clay Loam","Sandy Loam","Loam"],optimalTemp:{min:20,max:30},optimalPH:{min:6,max:7},waterRequirement:"Moderate",season:["Monsoon"],score:80},Potato:{soilTypes:["Sandy Loam","Loam","Clay Loam"],optimalTemp:{min:15,max:25},optimalPH:{min:5.2,max:6.4},waterRequirement:"Moderate",season:["Winter"],score:85},Tomato:{soilTypes:["Sandy Loam","Loam","Clay Loam"],optimalTemp:{min:20,max:30},optimalPH:{min:6,max:7},waterRequirement:"Moderate",season:["Year Round"],score:78},Onion:{soilTypes:["Sandy Loam","Loam","Clay Loam"],optimalTemp:{min:13,max:24},optimalPH:{min:6,max:7.5},waterRequirement:"Low",season:["Winter"],score:75},Garlic:{soilTypes:["Sandy Loam","Loam"],optimalTemp:{min:12,max:20},optimalPH:{min:6,max:7},waterRequirement:"Low",season:["Winter"],score:72},Carrot:{soilTypes:["Sandy Loam","Loam"],optimalTemp:{min:16,max:20},optimalPH:{min:5.5,max:6.5},waterRequirement:"Moderate",season:["Winter"],score:70},Cabbage:{soilTypes:["Clay Loam","Sandy Loam","Loam"],optimalTemp:{min:15,max:20},optimalPH:{min:6,max:6.8},waterRequirement:"Moderate",season:["Winter"],score:73}},lU=["Sandy","Clay","Loam","Sandy Loam","Clay Loam","Sandy Clay","Silt","Silt Loam","Silt Clay"],uU=["Monsoon","Winter","Summer","Year Round"],jE=(n,e,t,r,i)=>{const s=_u[n];if(!s)return{suitable:!1,score:0,message:"Crop not found in database"};let a=s.score,u=[];s.soilTypes.includes(e)||(a-=30,u.push(`Soil type '${e}' is not optimal for ${n}`)),(t<s.optimalTemp.min||t>s.optimalTemp.max)&&(a-=20,u.push(`Temperature ${t}C is outside optimal range (${s.optimalTemp.min}-${s.optimalTemp.max}C)`)),r!=null&&!isNaN(r)&&(r<s.optimalPH.min||r>s.optimalPH.max)&&(a-=15,u.push(`pH ${r} is outside optimal range (${s.optimalPH.min}-${s.optimalPH.max})`)),i&&!s.season.includes(i)&&!s.season.includes("Year Round")&&(a-=10,u.push(`Season '${i}' is not optimal for ${n}`));const c=a>=60;return{suitable:c,score:Math.max(0,a),penalties:u,message:c?`${n} is suitable for the given conditions`:`${n} is not suitable for the given conditions`}},cU=(n,e,t,r)=>{const i=[];return Object.entries(_u).forEach(([s,a])=>{const u=jE(s,n,e,t,r);u.suitable&&i.push({name:s,score:u.score,...a})}),i.sort((s,a)=>a.score-s.score)};async function hU(n,e){var c,f;const t=`https://rest.isric.org/soilgrids/v2.0/properties/query?lon=${e}&lat=${n}`,r=await fetch(t);if(!r.ok)throw new Error("Failed to fetch soil data");const i=await r.json(),s=d=>{if(d==null)return null;if(typeof d=="number"&&Number.isFinite(d))return d;if(typeof d=="string"&&!isNaN(parseFloat(d)))return parseFloat(d);if(Array.isArray(d))for(const y of d){const _=s(y);if(_!=null)return _}if(typeof d=="object")for(const y of Object.keys(d)){const _=s(d[y]);if(_!=null)return _}return null};let a=null;const u=i.properties||i;if(u.layers&&Array.isArray(u.layers)){const d=u.layers.find(y=>/ph(_|\b)/i.test(y.name||""))||u.layers.find(y=>/ph/i.test(JSON.stringify(y)));if(d&&Array.isArray(d.depths)&&d.depths.length>0){const y=[],_=w=>{if(!w||!w.values)return null;const T=w.values,I=T.M||T.mean||T;if(I&&typeof I=="object"){const P=["sl1","sl2","sl3","sl4","mean","value"];for(const F of P)if(I[F]!=null&&!isNaN(parseFloat(I[F])))return parseFloat(I[F]);return s(I)}return s(T)};for(const w of d.depths){const T=((c=w.range)==null?void 0:c.top_depth)??(w.range&&w.range.top_depth)??null,I=((f=w.range)==null?void 0:f.bottom_depth)??(w.range&&w.range.bottom_depth)??null,P=typeof T=="number"&&typeof I=="number"?Math.max(0,I-T):1,F=_(w);F!=null&&!isNaN(F)&&y.push({val:Number(F),weight:P||1})}if(y.length>0){const w=y.reduce((I,P)=>I+P.weight,0),T=y.reduce((I,P)=>I+P.val*P.weight,0)/w;a=Number(T.toFixed(2))}}}return a==null&&(a=s(u)),{ph:a,raw:i}}async function fU(n){const e=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(n)}`,t=await fetch(e);if(!t.ok)throw new Error("Failed to geocode city");const r=await t.json();if(!r.length)throw new Error("City not found");return{lat:r[0].lat,lon:r[0].lon}}const cb={chennai:6.2,mumbai:6.8,delhi:7.1,bangalore:6.7,kolkata:6.3,hyderabad:6.6,pune:7,jaipur:7.1,lucknow:6.4},hb=(n,e,t)=>Math.max(e,Math.min(t,n));function dU(n,e=null){if(!n)return null;const t=String(n).toLowerCase().trim();if(cb[t]!=null)return Number(hb(cb[t],5.5,8.5).toFixed(2));const r=e!=null?Number(e):NaN;if(!isNaN(r))return Number(hb(r,5.5,8.5).toFixed(2));let i=0;for(let u=0;u<t.length;u++)i=i*31+t.charCodeAt(u)>>>0;const a=5.5+i%1e3/999*(8.5-5.5);return Number(a.toFixed(2))}const ME=[{crop:"Rice",name:"Urea",price:20,use:"Nitrogen source for vegetative growth"},{crop:"Rice",name:"DAP",price:35,use:"Phosphorus for root development"},{crop:"Rice",name:"MOP",price:30,use:"Potassium for grain filling"},{crop:"Wheat",name:"Urea",price:22,use:"Nitrogen for tillering and growth"},{crop:"Wheat",name:"SSP",price:28,use:"Phosphorus for root and shoot"},{crop:"Wheat",name:"MOP",price:32,use:"Potassium for disease resistance"},{crop:"Maize",name:"Urea",price:21,use:"Nitrogen for leaf development"},{crop:"Maize",name:"DAP",price:36,use:"Phosphorus for early growth"},{crop:"Maize",name:"Potash",price:29,use:"Potassium for cob formation"}],pU={Rice:120,Wheat:120,Maize:90,Sugarcane:365,Cotton:150,Soybean:110,Potato:120,Tomato:100,Onion:120,Garlic:150,Carrot:90,Cabbage:90},fb={default:[{stage:"Land Preparation",durationDays:7,details:"Plough and level the field; incorporate organic matter if needed."},{stage:"Sowing/Planting",durationDays:3,details:"Sow seeds at recommended spacing or transplant seedlings as required."},{stage:"Growing & Maintenance",durationDays:60,details:"Irrigation, weeding, fertilizer application, pest monitoring."},{stage:"Harvesting",durationDays:7,details:"Harvest at maturity; handling and drying as needed."}]};function mU(n,e=new Date,t=null,r=null){var w,T;const i=_u[n]||{},s=pU[n]||100,a=(fb[n]||fb.default).map(I=>({...I})),u=a.filter(I=>I.stage!=="Growing & Maintenance").reduce((I,P)=>I+(P.durationDays||0),0),c=Math.max(10,s-u),f=a.find(I=>I.stage==="Growing & Maintenance");f&&(f.durationDays=c,f.details=`${f.details} (Adjusted for ${n}: ${c} days)`);const d=new Date(e),y=new Date(d.getTime());y.setDate(y.getDate()+s);const _=[];return r!=null&&!isNaN(r)&&(r<(((w=i.optimalPH)==null?void 0:w.min)??6)?_.push("Soil is acidic vs crop optimum  consider liming if local advisories agree."):r>(((T=i.optimalPH)==null?void 0:T.max)??7.5)?_.push("Soil is alkaline vs crop optimum  consider sulfur or acidifying amendments as advised."):_.push("Soil pH is within the typical optimal range.")),{cropName:n,durationDays:s,estimatedHarvestDate:y.toISOString(),stages:a,soilNotes:_}}function gU(n,e=null){const t=ME.filter(s=>s.crop===n);return t.length?t.slice().sort((s,a)=>(s.price||0)-(a.price||0)).slice(0,2).map(s=>({name:s.name,price:s.price,use:s.use})):[]}const db={Rice:"https://eos.com/wp-content/uploads/2023/04/rice-field.jpg",Wheat:"https://cdn.mos.cms.futurecdn.net/v2/t%3A0%2Cl%3A344%2Ccw%3A1084%2Cch%3A1084%2Cq%3A80%2Cw%3A1084/wbFZ3LmpwKuDAZeFZmyGuf.jpg",Maize:"https://cdn.britannica.com/36/167236-050-BF90337E/Ears-corn.jpg",Sugarcane:"https://st.depositphotos.com/1397202/1955/i/450/depositphotos_19558177-Close-up-of-sugarcane-plant.jpg",Cotton:"https://media.sciencephoto.com/c0/36/29/70/c0362970-800px-wm.jpg",Soyabean:"https://www.aces.edu/wp-content/uploads/2022/05/Figure-illustrative.jpg",Potato:"https://farmerspromise.com/wp-content/uploads/2025/04/ARHxg4INQ1O7939St0AdBQ-1024x682.jpg",Tomato:"https://cdn11.bigcommerce.com/s-vdirtb6go5/images/stencil/1280x1280/products/1028/721/8__20769.1650496307.jpg?c=1",Onion:"https://sowrightseeds.com/cdn/shop/articles/onions-growing-field-1674679616284_96515d9a-5440-4b53-a1a7-d979cea39da6.jpg?v=1738096830",Garlic:"https://www.simplyseed.co.uk/user/blog-images/Hand%20holding%20Garlic%20Bulbs.webp",Carrot:"https://diy.sndimg.com/content/dam/images/diy/fullset/2018/5/3/0/shutterstock_97404485_Iakov-Filimonov_harvested-carrots.jpg.rend.hgtvcom.1280.1280.85.suffix/1525379049839.webp",Cabage:"https://solvi.ag/blog/static/9b5e311fc7fd7ef12efe46a406436cbf/d0b9c/cabbage_yield_cover.jpg"},Pf="https://via.placeholder.com/160?text=Crop";async function yU(n){var e,t;try{return null}catch(r){return console.error("Unsplash error",r),null}}async function vU(n){return null}async function wU(n){var e;try{return null}catch(t){return console.error("Pixabay error",t),null}}async function _U(n){var e,t;try{const i=`https://commons.wikimedia.org/w/api.php?action=query&format=json&prop=imageinfo&generator=search&gsrsearch=${encodeURIComponent(n+" crop field")}&gsrlimit=1&iiprop=url&origin=*`,s=await fetch(i);if(!s.ok)return null;const a=await s.json(),u=(e=a==null?void 0:a.query)==null?void 0:e.pages;if(!u)return null;const c=Object.values(u)[0],f=(t=c==null?void 0:c.imageinfo)==null?void 0:t[0];return(f==null?void 0:f.url)||null}catch(r){return console.error("Wikimedia error",r),null}}async function xU(n){if(!n)return null;const e=[`${n} field`,`${n} plantation`,`${n} farm`,n];for(const t of e){let r=await yU(t);if(r)return r}for(const t of e){let r=await vU(t);if(r)return r}for(const t of e){let r=await wU(t);if(r)return r}for(const t of e){let r=await _U(t);if(r)return r}return null}const pb={Rice:"https://youtu.be/J_mMS3EkHok",Wheat:"https://youtu.be/AonJkhqCRwk",Maize:"https://youtu.be/1C4qzKOHks4",Sugarcane:"https://youtu.be/FmtSjRuSDhQ",Cotton:"https://youtu.be/lCidlr_pbI4",Soybean:"https://youtu.be/MvX9J0Z-DAc",Potato:"https://youtu.be/IWYQFYk6ZgQ",Tomato:"https://youtu.be/eySTo2GgvoY",Onion:"https://youtu.be/ht9NOqX5YJw",Garlic:"https://youtu.be/o4XT6dDvoy8",Carrot:"https://youtu.be/mcW9bQd8YuY",Cabbage:"https://youtu.be/z8Oy-vhEzyM"};function bU(n){const e=Object.keys(pb).find(t=>t.toLowerCase()===n.toLowerCase());return e?pb[e]:null}async function SU(n){var i,s,a,u;if(!n)return null;const e="AIzaSyBfC3e1zULHMECv6MuRxx1Nh6stBR6Xnzs",t=[`how to plant ${n}`,`${n} planting guide`,`${n} cultivation guide`,`${n} farming tutorial`,`${n} planting tutorial`],r="&type=video&part=snippet&maxResults=1&videoDuration=long&order=viewCount";try{for(const c of t){const f=`https://www.googleapis.com/youtube/v3/search?key=${e}${r}&q=${encodeURIComponent(c)}`,d=await fetch(f);if(!d.ok)continue;const y=await d.json(),_=(i=y==null?void 0:y.items)==null?void 0:i[0];if(!_)continue;const w=((s=_.id)==null?void 0:s.videoId)||_.id&&_.id,{title:T,channelTitle:I,thumbnails:P}=_.snippet||{};return{videoId:w,title:T,channelTitle:I,thumbnail:((a=P==null?void 0:P.medium)==null?void 0:a.url)||((u=P==null?void 0:P.default)==null?void 0:u.url)||null,watchUrl:w?`https://www.youtube.com/watch?v=${w}`:null,embedUrl:w?`https://www.youtube.com/embed/${w}`:null,query:c}}}catch(c){console.error("YouTube fetch error",c)}return null}const AU=({crop:n,soilType:e,pH:t,onClose:r})=>{var Y,H;if(!n)return null;const s=mU(n,new Date,e,t),a=gU(n,e),u=$=>{if(!$)return null;const ae=Object.keys(db).find(ge=>ge.toLowerCase()===String($).toLowerCase());return ae?db[ae]:null},[c,f]=Re.useState(u(n)||null),[d,y]=Re.useState(!1),[_,w]=Re.useState(null),[T,I]=Re.useState(null),[P,F]=Re.useState(!1);return Re.useEffect(()=>{let $=!0;const ae=`cropImage:${String(n).toLowerCase()}`,ge=localStorage.getItem(ae);if(ge){console.debug(`CropDetailModal: using cached image for ${n} -> ${ge}`),f(ge),w("cache");return}return y(!0),xU(n).then(W=>{if($)if(W){console.debug(`CropDetailModal: API returned image for ${n} -> ${W}`),f(W),w("api");try{localStorage.setItem(ae,W)}catch{}}else{const R=u(n)||Pf;console.debug(`CropDetailModal: using mapping/default for ${n} -> ${R}`),f(R),w(R===Pf?"default":"mapping")}}).catch(W=>{if(console.debug("CropDetailModal: image fetch error",W&&W.message),$){const R=u(n)||Pf;f(R),w(R===Pf?"default":"mapping")}}).finally(()=>{$&&y(!1)}),()=>{$=!1}},[n]),Re.useEffect(()=>{let $=!0;const ae=`cropVideo:${String(n).toLowerCase()}`,ge=localStorage.getItem(ae);if(ge){try{const R=JSON.parse(ge);I(R)}catch{}return}return(async()=>{F(!0);try{const R=bU(n);if(R){const q={embedUrl:R.replace("youtu.be/","www.youtube.com/embed/").replace("watch?v=","embed/"),watchUrl:R,title:`How to cultivate ${n}`,channelTitle:"Recommended"};I(q);try{localStorage.setItem(ae,JSON.stringify(q))}catch{}return}const L=await SU(n);if(!$)return;if(L){I(L);try{localStorage.setItem(ae,JSON.stringify(L))}catch{}}}catch(R){console.debug("CropDetailModal: youtube fetch error",R&&R.message)}finally{$&&F(!1)}})(),()=>{$=!1}},[n]),N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center p-4",children:N.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-4xl w-full p-6 overflow-auto max-h-[85vh]",children:[N.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-4",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("div",{className:"w-24 h-24 bg-green-50 rounded-lg flex items-center justify-center overflow-hidden",children:d?N.jsx("div",{className:"w-full h-full flex items-center justify-center text-sm text-gray-500",children:"Loading..."}):N.jsxs("div",{className:"relative w-full h-full",children:[N.jsx("img",{alt:`${n}`,src:c||Pf,className:"w-full h-full object-cover rounded"}),_&&N.jsx("div",{className:"absolute left-1 top-1 bg-black bg-opacity-60 text-white text-xs px-2 py-0.5 rounded",children:_})]})}),N.jsxs("div",{children:[N.jsx("h2",{className:"text-2xl font-bold",children:n}),N.jsxs("div",{className:"text-sm text-gray-600",children:[n,"  Detailed cultivation guide and recommendations"]})]})]}),N.jsxs("div",{className:"flex items-center justify-end gap-2",children:[N.jsx("button",{onClick:r,className:"text-gray-600 hover:text-gray-900",children:"Close"}),N.jsx("button",{onClick:r,className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Done"})]})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[N.jsxs("div",{className:"col-span-2",children:[N.jsxs("div",{className:"flex gap-3 mb-3",children:[N.jsxs("div",{className:"bg-green-50 rounded p-3 flex-1",children:[N.jsx("div",{className:"text-xs text-gray-500",children:"Optimal Temp"}),N.jsx("div",{className:"font-bold",children:(Y=_u[n])!=null&&Y.optimalTemp?`${_u[n].optimalTemp.min}C - ${_u[n].optimalTemp.max}C`:"N/A"}),N.jsx("div",{className:"text-sm text-gray-600",children:"Temperature range suitable for this crop"})]}),N.jsxs("div",{className:"bg-green-50 rounded p-3 w-32 text-center",children:[N.jsx("div",{className:"text-xs text-gray-500",children:"pH"}),N.jsx("div",{className:"font-bold",children:t??"N/A"})]}),N.jsxs("div",{className:"bg-green-50 rounded p-3 w-36 text-center",children:[N.jsx("div",{className:"text-xs text-gray-500",children:"Water Req."}),N.jsx("div",{className:"font-bold",children:((H=_u[n])==null?void 0:H.waterRequirement)||"N/A"}),N.jsx("div",{className:"text-sm text-gray-600",children:"Water requirement"})]})]}),N.jsxs("div",{className:"mb-4",children:[N.jsx("h3",{className:"font-semibold mb-2",children:"Cultivation Timeline"}),N.jsx("div",{className:"space-y-3",children:s.stages.map(($,ae)=>N.jsxs("div",{className:"flex items-start gap-3",children:[N.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-green-700 font-semibold",children:ae+1}),N.jsxs("div",{children:[N.jsxs("div",{className:"font-medium",children:[$.stage," ",N.jsxs("span",{className:"text-xs text-gray-500",children:[" ",$.durationDays," days"]})]}),N.jsx("div",{className:"text-sm text-gray-600",children:$.details})]})]},ae))})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"font-semibold mb-2",children:"Estimated Harvest"}),N.jsxs("div",{className:"text-sm text-gray-700",children:[new Date(s.estimatedHarvestDate).toLocaleDateString(),"  ",N.jsxs("span",{className:"text-gray-500",children:[s.durationDays," days from planting"]})]})]})]}),N.jsxs("div",{children:[N.jsxs("div",{className:"bg-gray-50 rounded p-4 mb-4",children:[N.jsx("div",{className:"text-sm text-gray-500",children:"Fertilizer Recommendations"}),a.length?N.jsxs("table",{className:"w-full mt-2 text-sm",children:[N.jsx("thead",{children:N.jsxs("tr",{className:"text-left text-xs text-gray-500",children:[N.jsx("th",{children:"Name"}),N.jsx("th",{className:"text-right",children:"Price"})]})}),N.jsx("tbody",{children:a.map(($,ae)=>N.jsxs("tr",{className:"border-t",children:[N.jsxs("td",{className:"py-2",children:[$.name,N.jsx("div",{className:"text-xs text-gray-500",children:$.use})]}),N.jsxs("td",{className:"py-2 text-right",children:["",$.price,"/kg"]})]},ae))})]}):N.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No fertilizer data available."})]}),N.jsx("div",{className:"space-y-4",children:T?N.jsxs("div",{className:"bg-white rounded shadow-sm overflow-hidden",children:[N.jsxs("div",{className:"text-sm font-medium p-3 border-b",children:["Video: How to cultivate ",n]}),N.jsxs("div",{className:"p-3",children:[N.jsx("div",{className:"w-full h-48 md:h-40 bg-black",children:N.jsx("iframe",{title:`video-${n}`,src:T.embedUrl,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}),N.jsxs("div",{className:"mt-2 text-sm",children:[N.jsx("a",{href:T.watchUrl,target:"_blank",rel:"noreferrer",className:"text-green-700 font-medium",children:T.title}),N.jsx("div",{className:"text-xs text-gray-500",children:T.channelTitle})]})]})]}):N.jsxs("div",{className:"bg-yellow-50 rounded p-3",children:[N.jsx("div",{className:"font-semibold text-sm mb-1",children:"Soil Notes"}),N.jsx("ul",{className:"text-sm text-gray-600 list-disc list-inside",children:s.soilNotes.map(($,ae)=>N.jsx("li",{children:$},ae))})]})})]})]})]})})},EU=()=>{const[n,e]=Re.useState({location:"",soilType:"",crop:"",temperature:"",pH:"",season:aU(),useManualWeather:!1}),[t,r]=Re.useState(null),[i,s]=Re.useState(null),[a,u]=Re.useState(!1),[c,f]=Re.useState(""),[d,y]=Re.useState(""),[_,w]=Re.useState(null),[T,I]=Re.useState([]),[P,F]=Re.useState(null),[Y,H]=Re.useState(!1),[$,ae]=Re.useState(""),[ge,W]=Re.useState([]),[R,L]=Re.useState(!1),[q,C]=Re.useState(null),{recordPrediction:j,currentUser:M}=Gh(),se=ee=>{const{name:he,value:_e,type:Q,checked:D}=ee.target;e(X=>({...X,[he]:Q==="checkbox"?D:_e})),he==="pH"&&L(!0),he==="location"&&(L(!1),C(null))},Se=async()=>{if(n.location){H(!0),ae("");try{const ee=await oU(n.location);r(ee),e(he=>({...he,temperature:ee.temperature.toFixed(1)}))}catch(ee){ae(ee.message)}H(!1)}},xe=async()=>{u(!0),ae("");try{let ee=null,he=null;if(n.location){const Q=await fU(n.location);ee=Q.lat,he=Q.lon,f(ee),y(he)}else c&&d&&(ee=c,he=d);if(!ee||!he){ae("Please provide a city name or latitude/longitude."),u(!1);return}const _e=await hU(parseFloat(ee),parseFloat(he));if(s(_e.raw||_e),!R){const Q=n.location||(ee&&he?`${parseFloat(ee)},${parseFloat(he)}`:""),D=dU(Q,_e&&_e.ph!=null?_e.ph:null);D!=null&&!isNaN(D)&&(e(X=>({...X,pH:Number(D).toFixed(2)})),C({ph:Number(D).toFixed(2),lat:parseFloat(ee),lon:parseFloat(he),location:n.location||`${parseFloat(ee)},${parseFloat(he)}`}))}}catch(ee){console.error("Soil fetch error",ee),ae("Failed to fetch soil data")}u(!1)},Ee=async()=>{if(!n.crop||!n.soilType){ae("Please select crop and soil type");return}let ee=parseFloat(n.temperature),he=n.pH===""?null:parseFloat(n.pH);if(he!==null&&!isNaN(he)&&(he=Math.max(5.5,Math.min(8.5,he))),isNaN(ee)){ae("Please provide a valid temperature value");return}H(!0),ae("");try{const _e=jE(n.crop,n.soilType,ee,he,n.season);w(_e);const Q=cU(n.soilType,ee,he,n.season);I(Q),await j({crop:n.crop,soilType:n.soilType,temperature:ee,pH:he,season:n.season,result:_e.message})}catch{ae("")}H(!1)};return Re.useEffect(()=>{if(!M)return;const ee=gR(Zy(_l,"predictions"),yR("userId","==",M.uid),vR("timestamp","desc")),he=SR(ee,_e=>{const Q=_e.docs.map(D=>({id:D.id,...D.data()}));W(Q)});return()=>he()},[M]),N.jsxs("div",{className:"space-y-6",children:[N.jsxs(Yi.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Crop Suitability Analysis"}),N.jsx("p",{className:"text-gray-600",children:"Enter your location and crop details to get intelligent predictions"})]}),N.jsxs(Yi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-lg p-6",children:[N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[N.jsxs("div",{className:"space-y-2 md:col-span-3",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fetch Soil Data (SoilGrids API)"}),N.jsxs("div",{className:"flex gap-2 flex-wrap",children:[N.jsx("input",{type:"number",placeholder:"Latitude",value:c,onChange:ee=>f(ee.target.value),className:"w-1/4 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",step:"any"}),N.jsx("input",{type:"number",placeholder:"Longitude",value:d,onChange:ee=>y(ee.target.value),className:"w-1/4 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",step:"any"}),N.jsx("button",{type:"button",onClick:xe,disabled:a,className:"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Fetching...":"Fetch Soil Data"}),N.jsx("span",{className:"text-xs text-gray-500",children:"(Leave lat/lon empty to use city name)"})]})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),N.jsxs("div",{className:"relative",children:[N.jsx(XS,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),N.jsx("input",{type:"text",name:"location",value:n.location,onChange:se,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter city name"})]}),N.jsx("button",{onClick:Se,disabled:Y||!n.location,className:"w-full mt-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Fetch Weather"})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Soil Type"}),N.jsxs("select",{name:"soilType",value:n.soilType,onChange:se,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[N.jsx("option",{value:"",children:"Select soil type"}),lU.map(ee=>N.jsx("option",{value:ee,children:ee},ee))]})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Crop"}),N.jsxs("select",{name:"crop",value:n.crop,onChange:se,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[N.jsx("option",{value:"",children:"Select crop"}),Object.keys(_u).map(ee=>N.jsx("option",{value:ee,children:ee},ee))]})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Season"}),N.jsxs("div",{className:"relative",children:[N.jsx(GS,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),N.jsx("select",{name:"season",value:n.season,onChange:se,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:uU.map(ee=>N.jsx("option",{value:ee,children:ee},ee))})]})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Temperature (C)"}),N.jsxs("div",{className:"relative",children:[N.jsx(y8,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),N.jsx("input",{type:"number",name:"temperature",value:n.temperature,onChange:se,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"25",step:"0.1"})]})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"pH Level"}),N.jsxs("div",{className:"relative",children:[N.jsx(GR,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),N.jsx("input",{type:"number",name:"pH",value:n.pH,onChange:se,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"6.5",step:"0.1",min:"0",max:"10"})]}),q&&N.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Auto-filled pH ",q.ph," for ",q.location," (lat: ",q.lat,", lon: ",q.lon,")"]})]})]}),t&&N.jsxs(Yi.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[N.jsxs("h3",{className:"font-medium text-blue-900 mb-2",children:["Current Weather in ",t.location]}),N.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[N.jsxs("div",{children:[N.jsx("span",{className:"text-blue-600",children:"Temperature:"}),N.jsxs("p",{className:"font-medium",children:[t.temperature,"C"]})]}),N.jsxs("div",{children:[N.jsx("span",{className:"text-blue-600",children:"Humidity:"}),N.jsxs("p",{className:"font-medium",children:[t.humidity,"%"]})]}),N.jsxs("div",{children:[N.jsx("span",{className:"text-blue-600",children:"Weather:"}),N.jsx("p",{className:"font-medium",children:t.weather})]}),N.jsxs("div",{children:[N.jsx("span",{className:"text-blue-600",children:"Description:"}),N.jsx("p",{className:"font-medium",children:t.description})]})]})]}),$&&N.jsx(Yi.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-md",children:N.jsxs("div",{className:"flex items-center",children:[N.jsx(Nw,{className:"h-5 w-5 text-red-400 mr-2"}),N.jsx("span",{className:"text-red-800",children:$})]})}),N.jsx("div",{className:"mt-6",children:N.jsxs("button",{onClick:Ee,disabled:Y,className:"w-full md:w-auto px-6 py-3 bg-green-600 text-white font-medium rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:[N.jsx(a8,{className:"h-5 w-5"}),N.jsx("span",{children:Y?"Analyzing...":"Analyze Crop Suitability"})]})})]}),_&&N.jsxs(Yi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[N.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[N.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[_.suitable?N.jsx(YS,{className:"h-6 w-6 text-green-500"}):N.jsx(Nw,{className:"h-6 w-6 text-red-500"}),N.jsxs("h3",{className:"text-lg font-semibold",children:[n.crop," Analysis"]})]}),N.jsxs("div",{className:"space-y-3",children:[N.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[N.jsxs("div",{className:"flex items-center",children:[N.jsx("span",{className:"text-gray-600 mr-2",children:"Suitability Score:"}),N.jsx(f2,{className:"h-4 w-4 text-blue-500 mr-1"}),N.jsxs("span",{className:`font-bold ${_.score>=60?"text-green-600":"text-red-600"}`,children:[_.score,"/100"]})]}),N.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",onClick:()=>PF({crop:n.crop,soilType:n.soilType,temperature:n.temperature,pH:n.pH,season:n.season,analysis:_,suitableCrops:T}),children:[N.jsx("svg",{className:"h-5 w-5 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"Download PDF"]})]}),N.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:N.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${_.score>=60?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.max(_.score,5)}%`}})}),N.jsx("p",{className:`text-sm ${_.suitable?"text-green-700":"text-red-700"}`,children:_.message}),_.penalties&&_.penalties.length>0&&N.jsxs("div",{className:"mt-4",children:[N.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Issues Identified:"}),N.jsx("ul",{className:"text-sm space-y-1",children:_.penalties.map((ee,he)=>N.jsxs("li",{className:"text-red-600 flex items-start space-x-2",children:[N.jsx("span",{className:"text-red-400 mt-1",children:""}),N.jsx("span",{children:ee})]},he))})]})]})]}),N.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[N.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[N.jsx(E8,{className:"h-6 w-6 text-green-600"}),N.jsx("h3",{className:"text-lg font-semibold",children:"Recommended Crops & Fertilizers"})]}),T.length>0?N.jsx("div",{className:"space-y-6",children:T.slice(0,6).map((ee,he)=>{const _e=ME.filter(Q=>Q.crop===ee.name).slice(0,3);return N.jsxs(Yi.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:he*.1},className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("h4",{className:"font-medium text-green-900",children:ee.name}),N.jsxs("p",{className:"text-sm text-green-700",children:["Water: ",ee.waterRequirement," | Season: ",ee.season.join(", ")]})]}),N.jsxs("div",{className:"text-right",children:[N.jsx("div",{className:"text-lg font-bold text-green-600",children:ee.score}),N.jsx("div",{className:"text-xs text-green-500",children:"Score"})]})]}),N.jsx("div",{className:"mt-3 flex justify-end",children:N.jsx("button",{onClick:()=>F(ee.name),className:"px-3 py-1 bg-white border border-green-600 text-green-700 rounded-md text-sm hover:bg-green-50",children:"View Details"})}),_e.length>0&&N.jsxs("div",{className:"mt-2",children:[N.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Fertilizer Recommendations:"}),N.jsx("ul",{className:"text-sm space-y-1",children:_e.map(Q=>N.jsxs("li",{className:"flex flex-col md:flex-row md:items-center md:space-x-2",children:[N.jsx("span",{className:"font-medium text-green-800",children:Q.name}),N.jsxs("span",{className:"text-gray-600",children:["",Q.price,"/kg"]}),N.jsxs("span",{className:"text-gray-500",children:["(",Q.use,")"]})]},Q.name))})]})]},ee.name)})}):N.jsx("p",{className:"text-gray-500 text-center py-4",children:"No suitable crops found for the given conditions."})]})]}),N.jsxs("div",{className:"mt-8",children:[N.jsx("h2",{className:"text-xl font-bold mb-4 text-green-700",children:"Recent Predictions"}),N.jsx("ul",{className:"divide-y"})]}),ge.length>0&&N.jsxs("div",{className:"mt-8",children:[N.jsx("h2",{className:"text-xl font-bold mb-4 text-green-700",children:"Your Recent Predictions"}),N.jsx("ul",{className:"divide-y",children:ge.slice(0,5).map(ee=>{var he;return N.jsxs("li",{className:"py-2 flex flex-col md:flex-row md:items-center md:justify-between",children:[N.jsxs("div",{children:[N.jsx("span",{className:"font-semibold",children:ee.crop}),"  ",N.jsx("span",{className:"text-gray-600",children:ee.soilType})," ",N.jsx("span",{className:"text-gray-400 text-xs ml-2",children:ee.season})]}),N.jsx("div",{className:"text-gray-500 text-xs",children:(he=ee.timestamp)!=null&&he.toDate?ee.timestamp.toDate().toLocaleString():""})]},ee.id)})})]}),P&&N.jsx(AU,{crop:P,soilType:n.soilType,pH:n.pH,onClose:()=>F(null)})]})},TU=()=>{const[n,e]=Re.useState({totalUsers:0,totalLogins:0,totalPredictions:0}),[t,r]=Re.useState([]),[i,s]=Re.useState(!0);if(Re.useEffect(()=>{(async()=>{try{const c=await qS(yc(_l,"stats","general"));c.exists()&&e(c.data());const d=(await xR(Zy(_l,"users"))).docs.map(y=>({id:y.id,...y.data()}));r(d)}catch(c){console.error("Error fetching admin data:",c)}s(!1)})()},[]),i)return N.jsx("div",{className:"flex items-center justify-center min-h-96",children:N.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})});const a=[{title:"Total Users",value:n.totalUsers||t.length,icon:S8,color:"blue",bgColor:"bg-blue-500"},{title:"Total Logins",value:n.totalLogins||0,icon:jR,color:"green",bgColor:"bg-green-500"},{title:"Total Predictions",value:n.totalPredictions||0,icon:f2,color:"purple",bgColor:"bg-purple-500"}];return N.jsxs("div",{className:"space-y-6",children:[N.jsxs(Yi.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),N.jsx("p",{className:"text-gray-600",children:"Monitor user activity and system statistics"})]}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map((u,c)=>N.jsx(Yi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"bg-white rounded-lg shadow-lg p-6",children:N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:`${u.bgColor} p-3 rounded-lg`,children:N.jsx(u.icon,{className:"h-6 w-6 text-white"})}),N.jsxs("div",{className:"ml-4",children:[N.jsx("p",{className:"text-sm font-medium text-gray-500",children:u.title}),N.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:u.value})]})]})},u.title))}),N.jsxs(Yi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[N.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:N.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Details"})}),N.jsx("div",{className:"overflow-x-auto",children:N.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[N.jsx("thead",{className:"bg-gray-50",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),N.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),N.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Predictions Count"})]})}),N.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length>0?t.map((u,c)=>{var f,d,y;return N.jsxs(Yi.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:c*.05},className:"hover:bg-gray-50",children:[N.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:u.email}),N.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.jsxs("div",{className:"flex items-center",children:[N.jsx(GS,{className:"h-4 w-4 mr-2"}),((y=(d=(f=u.createdAt)==null?void 0:f.toDate)==null?void 0:d.call(f))==null?void 0:y.toLocaleDateString())||"N/A"]})}),N.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:u.predictionsCount||0})})]},u.id)}):N.jsx("tr",{children:N.jsx("td",{colSpan:"3",className:"px-6 py-4 text-center text-gray-500",children:"No users found"})})})]})})]}),N.jsxs(Yi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow-lg p-6",children:[N.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Analytics"}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("p",{className:"text-sm text-gray-600",children:"Average Predictions per User"}),N.jsx("p",{className:"text-xl font-semibold text-gray-900",children:t.length>0?((n.totalPredictions||0)/t.length).toFixed(1):"0"})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("p",{className:"text-sm text-gray-600",children:"System Status"}),N.jsxs("div",{className:"flex items-center space-x-2",children:[N.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),N.jsx("span",{className:"text-sm font-medium text-green-600",children:"Active"})]})]})]})]})]})},NU="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1200&q=80",IU="https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=600&q=80",PU="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=600&q=80",kU=()=>N.jsxs("div",{className:"bg-[#f8faf5] min-h-screen w-full flex flex-col items-center",children:[N.jsxs("div",{className:"relative w-full flex flex-col items-center justify-center min-h-[420px] bg-gradient-to-b from-green-100/80 to-transparent",children:[N.jsx("img",{src:NU,alt:"Field",className:"absolute inset-0 w-full h-full object-cover opacity-60 pointer-events-none select-none"}),N.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-16 px-4 max-w-3xl text-center",children:[N.jsx("span",{className:"inline-block px-4 py-1 mb-3 rounded-full bg-green-200/80 text-green-800 font-semibold text-xs tracking-wider shadow",children:" AI-Powered Farming Intelligence"}),N.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 leading-tight mb-2",children:[N.jsx("span",{className:"text-green-700",children:"Smart Crop"})," ",N.jsx("span",{className:"text-black",children:"Recommendations"})]}),N.jsx("p",{className:"text-lg md:text-xl text-gray-700 mb-6",children:"Harness the power of AI and real-time weather data to make intelligent crop selection decisions. Maximize your yield with precision agriculture insights."}),N.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mb-6",children:[N.jsx(ha,{to:"/dashboard",className:"px-6 py-3 bg-green-600 text-white font-semibold rounded-md shadow hover:bg-green-700 transition-colors text-lg",children:"Go to Dashboard"}),N.jsx(ha,{to:"/login",className:"px-6 py-3 bg-white border border-green-600 text-green-700 font-semibold rounded-md shadow hover:bg-green-50 transition-colors text-lg",children:"Sign up to get started"})]}),N.jsxs("div",{className:"flex gap-8 justify-center mt-2",children:[N.jsxs("div",{className:"flex flex-col items-center",children:[N.jsx("span",{className:"text-2xl font-bold text-green-700",children:"50K+"}),N.jsx("span",{className:"text-gray-600 text-sm",children:"Farmers Served"})]}),N.jsxs("div",{className:"flex flex-col items-center",children:[N.jsx("span",{className:"text-2xl font-bold text-green-700",children:"95%"}),N.jsx("span",{className:"text-gray-600 text-sm",children:"Accuracy Rate"})]}),N.jsxs("div",{className:"flex flex-col items-center",children:[N.jsx("span",{className:"text-2xl font-bold text-green-700",children:"200+"}),N.jsx("span",{className:"text-gray-600 text-sm",children:"Crop Varieties"})]})]})]})]}),N.jsxs("section",{className:"w-full max-w-5xl mx-auto py-12 px-4",children:[N.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center text-gray-900 mb-2",children:"Intelligent Features for Modern Farming"}),N.jsx("p",{className:"text-center text-gray-700 mb-8 max-w-2xl mx-auto",children:"Our comprehensive platform combines AI, weather data, and agricultural expertise to provide actionable insights for optimal crop selection."}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[N.jsxs("div",{className:"bg-white rounded-lg shadow p-6 flex flex-col items-start",children:[N.jsx(Iw,{className:"h-8 w-8 text-blue-400 mb-2"}),N.jsx("span",{className:"font-semibold text-lg mb-1",children:"Real-time Weather Integration"}),N.jsx("span",{className:"text-gray-600 text-sm",children:"Live weather data from OpenWeatherMap API including temperature, humidity, and rainfall patterns."})]}),N.jsxs("div",{className:"bg-white rounded-lg shadow p-6 flex flex-col items-start",children:[N.jsx(KS,{className:"h-8 w-8 text-green-500 mb-2"}),N.jsx("span",{className:"font-semibold text-lg mb-1",children:"AI-Powered Predictions"}),N.jsx("span",{className:"text-gray-600 text-sm",children:"Advanced ML model trained on agricultural data for precise crop recommendations."})]}),N.jsxs("div",{className:"bg-white rounded-lg shadow p-6 flex flex-col items-start",children:[N.jsx($R,{className:"h-8 w-8 text-emerald-500 mb-2"}),N.jsx("span",{className:"font-semibold text-lg mb-1",children:"Comprehensive Crop Database"}),N.jsx("span",{className:"text-gray-600 text-sm",children:"Detailed information on growing seasons, soil requirements, pest management, and fertilizer recommendations."})]}),N.jsxs("div",{className:"bg-white rounded-lg shadow p-6 flex flex-col items-start",children:[N.jsx(_8,{className:"h-8 w-8 text-orange-400 mb-2"}),N.jsx("span",{className:"font-semibold text-lg mb-1",children:"User Authentication"}),N.jsx("span",{className:"text-gray-600 text-sm",children:"Secure Google authentication with personalized dashboards and prediction history tracking."})]}),N.jsxs("div",{className:"bg-white rounded-lg shadow p-6 flex flex-col items-start",children:[N.jsx(d8,{className:"h-8 w-8 text-green-600 mb-2"}),N.jsx("span",{className:"font-semibold text-lg mb-1",children:"Smart Soil Analysis"}),N.jsx("span",{className:"text-gray-600 text-sm",children:"Intelligent soil type detection and pH estimation with static database fallbacks for missing data."})]}),N.jsxs("div",{className:"bg-white rounded-lg shadow p-6 flex flex-col items-start",children:[N.jsx(QS,{className:"h-8 w-8 text-indigo-500 mb-2"}),N.jsx("span",{className:"font-semibold text-lg mb-1",children:"Detailed Reports"}),N.jsx("span",{className:"text-gray-600 text-sm",children:"Generate and download comprehensive PDF reports with crop insights, predictions, and recommendations."})]})]})]}),N.jsxs("section",{className:"w-full max-w-5xl mx-auto py-12 px-4 flex flex-col md:flex-row items-center gap-8",children:[N.jsxs("div",{className:"flex-1",children:[N.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"How SmartCrop Works"}),N.jsx("p",{className:"text-gray-700 mb-6",children:"Simple, intelligent, and effective. Get crop recommendations in just a few steps."}),N.jsxs("ol",{className:"space-y-4",children:[N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-green-100 text-green-700 font-bold",children:"1"}),N.jsxs("div",{children:[N.jsx("span",{className:"font-semibold",children:"Input Your Location & Soil Data"}),N.jsx("div",{className:"text-gray-600 text-sm",children:"Enter your city name and soil type. Optionally provide pH, PPM, temperature, and season data for enhanced accuracy."})]})]}),N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-green-100 text-green-700 font-bold",children:"2"}),N.jsxs("div",{children:[N.jsx("span",{className:"font-semibold",children:"Real-time Weather Analysis"}),N.jsx("div",{className:"text-gray-600 text-sm",children:"Our system fetches current weather conditions and forecasts using OpenWeatherMap API to factor into recommendations."})]})]}),N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-green-100 text-green-700 font-bold",children:"3"}),N.jsxs("div",{children:[N.jsx("span",{className:"font-semibold",children:"AI-Powered Prediction"}),N.jsx("div",{className:"text-gray-600 text-sm",children:"Advanced machine learning algorithms analyze all data points to recommend the most suitable crops for your conditions."})]})]}),N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-green-100 text-green-700 font-bold",children:"4"}),N.jsxs("div",{children:[N.jsx("span",{className:"font-semibold",children:"Comprehensive Results"}),N.jsx("div",{className:"text-gray-600 text-sm",children:"Receive detailed crop information including growing seasons, care instructions, pest management, and downloadable reports."})]})]})]})]}),N.jsx("div",{className:"flex-1 flex justify-center",children:N.jsx("img",{src:IU,alt:"Dashboard preview",className:"rounded-xl shadow-lg w-full max-w-md object-cover"})})]}),N.jsxs("section",{className:"w-full max-w-5xl mx-auto py-12 px-4 flex flex-col md:flex-row gap-8 items-center",children:[N.jsx("div",{className:"flex-1",children:N.jsx("img",{src:PU,alt:"Crops",className:"rounded-xl shadow-lg w-full max-w-lg object-cover"})}),N.jsxs("div",{className:"flex-1",children:[N.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"Why Choose SmartCrop?"}),N.jsxs("ul",{className:"space-y-4",children:[N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(f2,{className:"h-6 w-6 text-green-600"}),N.jsxs("div",{children:[N.jsx("span",{className:"font-semibold",children:"Increase Yield by 30%"}),N.jsx("div",{className:"text-gray-600 text-sm",children:"Data-driven crop selection leads to significantly higher agricultural productivity."})]})]}),N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(u8,{className:"h-6 w-6 text-blue-500"}),N.jsxs("div",{children:[N.jsx("span",{className:"font-semibold",children:"Reduce Risk & Costs"}),N.jsx("div",{className:"text-gray-600 text-sm",children:"Minimize crop failure and optimize resource allocation with intelligent recommendations."})]})]}),N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(Iw,{className:"h-6 w-6 text-yellow-500"}),N.jsxs("div",{children:[N.jsx("span",{className:"font-semibold",children:"Weather-Aware Planning"}),N.jsx("div",{className:"text-gray-600 text-sm",children:"Real-time weather integration ensures your crops are suited to current and forecasted conditions."})]})]}),N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(qR,{className:"h-6 w-6 text-emerald-600"}),N.jsxs("div",{children:[N.jsx("span",{className:"font-semibold",children:"Expert Knowledge Access"}),N.jsx("div",{className:"text-gray-600 text-sm",children:"Comprehensive agricultural database with expert recommendations and best practices."})]})]})]})]})]}),N.jsxs("section",{className:"w-full bg-gradient-to-r from-green-600 via-green-500 to-emerald-500 py-12 flex flex-col items-center mt-8",children:[N.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Ready to Transform Your Farming?"}),N.jsx("p",{className:"text-white text-lg mb-6 text-center max-w-2xl",children:"Join thousands of farmers who are already using SmartCrop to make intelligent crop decisions and maximize their agricultural success."}),N.jsx(ha,{to:"/dashboard",className:"px-8 py-3 bg-white text-green-700 font-semibold rounded-md shadow hover:bg-green-50 transition-colors text-lg",children:"Go to Dashboard"})]}),N.jsxs("footer",{className:"w-full py-6 flex flex-col items-center bg-white border-t mt-8",children:[N.jsx(_m,{className:"h-7 w-7 text-green-600 mb-1"}),N.jsx("span",{className:"text-gray-700 font-semibold",children:"SmartCrop"}),N.jsx("span",{className:"text-gray-500 text-sm",children:"Intelligent crop recommendations powered by AI and real-time data"})]})]}),Mp={totalPredictions:8,thisMonth:"Active farming season",successRate:90,regions:7},CU=[{crop:"Cotton",location:"vellore",daysAgo:3,recommended:!0,rate:90},{crop:"Cotton",location:"ranipet",daysAgo:3,recommended:!0,rate:95},{crop:"Black Gram",location:"Mumbai",daysAgo:4,recommended:!0,rate:85},{crop:"Cotton",location:"vellore",daysAgo:4,recommended:!0,rate:85}],LU=[{crop:"Cotton",percent:38},{crop:"Rice",percent:13},{crop:"Tomato",percent:13},{crop:"Groundnut",percent:13}],mb=()=>{const{currentUser:n}=Gh(),e=i=>{if(!i)return"User";const s=i.split("@")[0];return s.charAt(0).toUpperCase()+s.slice(1)},t=()=>{const i=new Date().getHours();return i<12?"Good Morning":i<17?"Good Afternoon":i<20?"Good Evening":"Good Night"},r={temp:33,humidity:92,desc:"Some clouds"};return N.jsxs("div",{className:"min-h-screen bg-[#f7fafc] flex",children:[N.jsxs("aside",{className:"w-64 bg-white border-r flex flex-col min-h-screen p-6",children:[N.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[N.jsx("span",{className:"bg-green-600 rounded-full p-2",children:N.jsx(ZS,{className:"text-white w-6 h-6"})}),N.jsx("span",{className:"font-bold text-lg text-green-700",children:"SmartCrop"})]}),N.jsxs("nav",{className:"flex flex-col gap-4 mb-8",children:[N.jsxs(ha,{to:"/",className:"flex items-center gap-2 text-gray-700 font-medium hover:text-green-700",children:[N.jsx(KS,{className:"w-5 h-5"})," Dashboard"]}),N.jsxs(ha,{to:"/dashboard",className:"flex items-center gap-2 text-gray-700 font-medium hover:text-green-700",children:[N.jsx(QS,{className:"w-5 h-5"})," Crop Prediction"]})]}),N.jsxs("div",{className:"mb-6",children:[N.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mb-3",children:[N.jsx("div",{className:"text-xs text-gray-500",children:"Success Rate"}),N.jsx("div",{className:"text-xl font-bold text-green-700",children:"90.0%"})]}),N.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[N.jsx("div",{className:"text-xs text-gray-500",children:"Regions Covered"}),N.jsx("div",{className:"text-xl font-bold text-purple-700",children:"7+"})]})]}),N.jsxs("div",{className:"bg-green-100 rounded-lg p-4 flex flex-col items-center mt-auto",children:[N.jsx("div",{className:"font-semibold text-green-700 mb-1",children:"Agricultural Expert"}),N.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Smart farming solutions"}),N.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700",children:"Contact"})]})]}),N.jsxs("main",{className:"flex-1 p-8",children:[N.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[N.jsxs("div",{children:[N.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:[t(),", ",e(n==null?void 0:n.email),"!"]}),N.jsx("div",{className:"text-gray-600",children:"Welcome to SmartCrop - your AI powered agricultural intelligence platform."})]}),N.jsx("div",{className:"flex gap-2",children:N.jsx(ha,{to:"/dashboard",className:"bg-green-600 text-white px-4 py-2 rounded-md font-medium hover:bg-green-700",children:"+ New Prediction"})})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[N.jsxs("div",{className:"bg-white rounded-lg p-4 shadow flex flex-col gap-1",children:[N.jsx("div",{className:"text-xs text-gray-500",children:"Total Predictions"}),N.jsx("div",{className:"text-2xl font-bold",children:Mp.totalPredictions}),N.jsx("div",{className:"text-green-600 text-xs",children:"+23% vs last month"})]}),N.jsxs("div",{className:"bg-white rounded-lg p-4 shadow flex flex-col gap-1",children:[N.jsx("div",{className:"text-xs text-gray-500",children:"This Month"}),N.jsx("div",{className:"text-2xl font-bold",children:"8"}),N.jsx("div",{className:"text-gray-500 text-xs",children:Mp.thisMonth})]}),N.jsxs("div",{className:"bg-white rounded-lg p-4 shadow flex flex-col gap-1",children:[N.jsx("div",{className:"text-xs text-gray-500",children:"Success Rate"}),N.jsxs("div",{className:"text-2xl font-bold text-green-700",children:[Mp.successRate,"%"]}),N.jsx("div",{className:"text-gray-500 text-xs",children:"AI accuracy improving"})]}),N.jsxs("div",{className:"bg-white rounded-lg p-4 shadow flex flex-col gap-1",children:[N.jsx("div",{className:"text-xs text-gray-500",children:"Regions Covered"}),N.jsx("div",{className:"text-2xl font-bold text-purple-700",children:Mp.regions}),N.jsx("div",{className:"text-gray-500 text-xs",children:"Growing coverage"})]})]}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[N.jsxs("div",{className:"bg-white rounded-lg shadow p-4 col-span-2",children:[N.jsx("div",{className:"flex items-center justify-between mb-2",children:N.jsx("div",{className:"font-semibold text-lg",children:"Recent Predictions"})}),N.jsx("ul",{className:"divide-y",children:CU.map((i,s)=>N.jsxs("li",{className:"flex items-center justify-between py-2",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(YS,{className:"text-green-600 w-5 h-5"}),N.jsx("span",{className:"font-medium",children:i.crop}),N.jsxs("span",{className:"text-gray-500 text-xs flex items-center gap-1",children:[N.jsx(XS,{className:"w-4 h-4"})," ",i.location]}),N.jsxs("span",{className:"text-gray-400 text-xs",children:[i.daysAgo," days ago"]})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[i.recommended&&N.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded text-xs",children:"Recommended"}),N.jsxs("span",{className:"flex items-center gap-1 text-yellow-600 text-xs font-semibold",children:[N.jsx(m8,{className:"w-4 h-4"})," ",i.rate,"%"]})]})]},s))})]}),N.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col gap-4",children:[N.jsx("div",{className:"font-semibold text-lg mb-2",children:"Weather Insights"}),N.jsx("div",{className:"text-gray-500 text-sm mb-2",children:r.desc}),N.jsxs("div",{className:"flex gap-6 mb-2",children:[N.jsxs("div",{className:"flex flex-col items-center",children:[N.jsxs("span",{className:"text-red-600 text-2xl font-bold",children:[r.temp,"C"]}),N.jsx("span",{className:"text-xs text-gray-500",children:"Temperature"})]}),N.jsxs("div",{className:"flex flex-col items-center",children:[N.jsxs("span",{className:"text-blue-600 text-2xl font-bold",children:[r.humidity,"%"]}),N.jsx("span",{className:"text-xs text-gray-500",children:"Humidity"})]})]}),N.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-3 text-xs text-orange-800",children:[N.jsx("span",{className:"font-semibold",children:"Farming Advisory:"})," Given the warm temperature of 33C and high humidity at 92%, it's advisable to irrigate crops early in the morning to prevent water stress, while also monitoring for fungal diseases due to the moisture. Consider applying a fungicide if signs of disease appear on sensitive plants."]})]})]}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[N.jsxs("div",{className:"bg-white rounded-lg shadow p-4 col-span-2",children:[N.jsx("div",{className:"font-semibold text-lg mb-2",children:"Popular Crop Trends"}),N.jsx("ul",{className:"space-y-2",children:LU.map((i,s)=>N.jsxs("li",{className:"flex items-center gap-4",children:[N.jsx("span",{className:"w-24 font-medium",children:i.crop}),N.jsx("div",{className:"flex-1 bg-gray-100 rounded h-3",children:N.jsx("div",{className:"bg-green-600 h-3 rounded",style:{width:`${i.percent}%`}})}),N.jsxs("span",{className:"w-10 text-right text-gray-600 text-sm",children:[i.percent,"%"]})]},s))})]}),N.jsxs("div",{className:"flex flex-col gap-6",children:[N.jsxs("div",{className:"bg-green-50 rounded-lg shadow p-4 flex flex-col gap-3",children:[N.jsx("div",{className:"font-semibold text-lg mb-2",children:"Quick Actions"}),N.jsx(ha,{to:"/dashboard",className:"bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700 text-center",children:"Start New Analysis"}),N.jsx("button",{className:"bg-white border border-green-600 text-green-700 px-4 py-2 rounded shadow hover:bg-green-50 text-center",children:"Download Reports"})]}),N.jsxs("div",{className:"bg-yellow-50 rounded-lg shadow p-4",children:[N.jsxs("div",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[N.jsx(s8,{className:"w-5 h-5 text-yellow-500"})," Today's Tip"]}),N.jsx("div",{className:"text-gray-700 text-sm",children:"Implement crop rotation on your farm: it helps improve soil health, reduces pests and diseases, and enhances biodiversity. Start by alternating crops in different seasons to keep your soil productive and resilient!"})]})]})]})]})]})},RU=()=>{const{currentUser:n,isAdmin:e}=Gh();return e?N.jsx(Pw,{children:N.jsx(TU,{})}):n?N.jsx(Pw,{children:N.jsxs(i5,{children:[N.jsx(hu,{path:"/",element:N.jsx(mb,{})}),N.jsx(hu,{path:"/dashboard",element:N.jsx(EU,{})}),N.jsx(hu,{path:"*",element:N.jsx(mb,{})})]})}):N.jsxs(i5,{children:[N.jsx(hu,{path:"/",element:N.jsx(kU,{})}),N.jsx(hu,{path:"/login",element:N.jsx(Mj,{})}),N.jsx(hu,{path:"/admin-login",element:N.jsx(Fj,{})}),N.jsx(hu,{path:"*",element:N.jsx(vN,{to:"/"})})]})},DU=()=>N.jsx(PR,{children:N.jsx(TN,{children:N.jsx(RU,{})})});IT.createRoot(document.getElementById("root")).render(N.jsx(Re.StrictMode,{children:N.jsx(DU,{})}));export{Kn as _,jU as c,wT as g};
